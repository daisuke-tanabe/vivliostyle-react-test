/*! For license information please see main.1e906bcf.js.LICENSE.txt */
!function(){var e={976:function(e,t,n){function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i,r,o,a=u(n(788));function s(e){t.L1=e}function l(e){switch(e){case"ltr":return t.bX.LTR;case"rtl":return t.bX.RTL;default:throw new Error("unknown PageProgression: "+e)}}function c(e){var t=Array.from(e),n=null;return t[0]instanceof Error&&(n=t.shift()),{error:n,messages:t}}function D(e){var t=e.error,n=t&&(t.frameTrace||t.stack),u=[].concat(e.messages);return t&&(u.length>0&&(u=u.concat(["\n"])),u=u.concat([t.toString()]),n&&(u=u.concat(["\n"]).concat(n))),u}t.L1=!1,t.bX=void 0,function(e){e.LTR="ltr",e.RTL="rtl"}(t.bX||(t.bX={})),t.Bf=void 0,(i=t.Bf||(t.Bf={})).LEFT="left",i.RIGHT="right",t.kQ=void 0,(r=t.kQ||(t.kQ={})).LOADING="loading",r.INTERACTIVE="interactive",r.COMPLETE="complete",function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR"}(o||(o={}));var h,f=new(function(){function e(e){this.opt_console=void 0,this.listeners={},this.opt_console=e}var t=e.prototype;return t.consoleDebug=function(e){var t,n,u;this.opt_console?this.opt_console.debug?(t=this.opt_console).debug.apply(t,e):(n=this.opt_console).log.apply(n,e):(u=console).debug.apply(u,e)},t.consoleInfo=function(e){var t,n,u;this.opt_console?this.opt_console.info?(t=this.opt_console).info.apply(t,e):(n=this.opt_console).log.apply(n,e):(u=console).info.apply(u,e)},t.consoleWarn=function(e){var t,n,u;this.opt_console?this.opt_console.warn?(t=this.opt_console).warn.apply(t,e):(n=this.opt_console).log.apply(n,e):(u=console).warn.apply(u,e)},t.consoleError=function(e){var t,n,u;this.opt_console?this.opt_console.error?(t=this.opt_console).error.apply(t,e):(n=this.opt_console).log.apply(n,e):(u=console).error.apply(u,e)},t.triggerListeners=function(e,t){var n=this.listeners[e];n&&n.forEach((function(e){e(t)}))},t.addListener=function(e,t){var n=this.listeners[e];n||(n=this.listeners[e]=[]),n.push(t)},t.debug=function(){var e=c(arguments);this.consoleDebug(D(e)),this.triggerListeners(o.DEBUG,e)},t.info=function(){var e=c(arguments);this.consoleInfo(D(e)),this.triggerListeners(o.INFO,e)},t.warn=function(){var e=c(arguments);this.consoleWarn(D(e)),this.triggerListeners(o.WARN,e)},t.error=function(){var e=c(arguments);this.consoleError(D(e)),this.triggerListeners(o.ERROR,e)},e}());t.cF=void 0,(h=t.cF||(t.cF={})).SIMPLE_PROPERTY="SIMPLE_PROPERTY",h.PREPROCESS_SINGLE_DOCUMENT="PREPROCESS_SINGLE_DOCUMENT",h.PREPROCESS_TEXT_CONTENT="PREPROCESS_TEXT_CONTENT",h.PREPROCESS_ELEMENT_STYLE="PREPROCESS_ELEMENT_STYLE",h.POLYFILLED_INHERITED_PROPS="POLYFILLED_INHERITED_PROPS",h.CONFIGURATION="CONFIGURATION",h.RESOLVE_TEXT_NODE_BREAKER="RESOLVE_TEXT_NODE_BREAKER",h.RESOLVE_FORMATTING_CONTEXT="RESOLVE_FORMATTING_CONTEXT",h.RESOLVE_LAYOUT_PROCESSOR="RESOLVE_LAYOUT_PROCESSOR",h.POST_LAYOUT_BLOCK="POST_LAYOUT_BLOCK";var d={};function p(e,n){if(t.cF[e]){var u=d[e];u||(u=d[e]=[]),u.push(n)}else f.warn(new Error("Skipping unknown plugin hook '"+e+"'."))}function E(e,n){if(t.cF[e]){var u=d[e];if(u){var i=u.indexOf(n);i>=0&&u.splice(i,1)}}else f.warn(new Error("Ignoring unknown plugin hook '"+e+"'."))}function C(e){return d[e]||[]}var g={registerHook:p,removeHook:E},F=function(){function e(e){this.performanceInstance=void 0,this.timestamps={},this.registerTiming=void 0,this.registerStartTiming=void 0,this.registerEndTiming=void 0,this.performanceInstance=e,this.registerTiming=v,this.registerStartTiming=this.registerStartTiming=v,this.registerEndTiming=this.registerEndTiming=v}var t=e.prototype;return t.forceRegisterStartTiming=function(e,t){m.call(this,e,"start",t)},t.forceRegisterEndTiming=function(e,t){m.call(this,e,"end",t)},t.printTimings=function(){var e=this.timestamps,t="";Object.keys(e).forEach((function(n){for(var u=e[n],i=u.length,r=0;r<i;r++){var o=u[r];t+=n,i>1&&(t+="("+r+")"),t+=" => start: "+o.start+", end: "+o.end+", duration: "+(o.end-o.start)+"\n"}})),f.info(t)},t.disable=function(){this.registerTiming=v,this.registerStartTiming=this.registerStartTiming=v,this.registerEndTiming=this.registerEndTiming=v},t.enable=function(){this.registerTiming=m,this.registerStartTiming=this.registerStartTiming=A,this.registerEndTiming=this.registerEndTiming=y},t.isEnabled=function(){return this.registerStartTiming===A},e}();function v(){}function m(e,t,n){n||(n=this.performanceInstance.now());var u,i=this.timestamps[e];i||(i=this.timestamps[e]=[]);for(var r=i.length-1;r>=0&&(!(u=i[r])||u[t]);r--)u=null;u||i.push(u={}),u[t]=n}function A(e,t){this.registerTiming(e,"start",t)}function y(e,t){this.registerTiming(e,"end",t)}var B={now:Date.now},b=new F(window&&window.performance||B);b.forceRegisterStartTiming("load_vivliostyle");var w={profiler:{registerStartTiming:b.registerStartTiming,registerEndTiming:b.registerEndTiming,printTimings:b.printTimings,disable:b.disable,enable:b.enable}};function S(e,t){for(var n=0;n<t.length;n++){var u=t[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}function N(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,k(e,t)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(u){return!1}}function P(e,t,n){return P=I()?Reflect.construct.bind():function(e,t,n){var u=[null];u.push.apply(u,t);var i=new(Function.bind.apply(e,u));return n&&k(i,n.prototype),i},P.apply(null,arguments)}function R(e){var t="function"==typeof Map?new Map:void 0;return R=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return P(e,arguments,T(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),k(n,e)},R(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}function _(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var u=0;return function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var M=/^(?:[\t-\r -#%-\*,-\/:;\?@\[-\]_\{\}\xA0\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u0300-\u036F\u037E\u0387\u0483-\u0487\u055A-\u055F\u0589\u058A\u0591-\u05C7\u05F3\u05F4\u0609\u060A\u060C\u060D\u0610-\u061B\u061D-\u061F\u064B-\u065F\u066A-\u066D\u0670\u06D4\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0700-\u070D\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F7-\u07F9\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0830-\u083E\u0859-\u085B\u085E\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0965\u0970\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FD\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A76\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF0\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C77\u0C81\u0C84\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0DF4\u0E31\u0E34-\u0E3A\u0E47-\u0E4F\u0E5A\u0E5B\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F04-\u0F12\u0F14\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u0FD0-\u0FD4\u0FD9\u0FDA\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u104A-\u104F\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u10FB\u135D-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1712-\u1714\u1732\u1733\u1735\u1736\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D6\u17D8-\u17DA\u17DD\u1800-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1944\u1945\u1A17\u1A18\u1A1B\u1A1E\u1A1F\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B5A-\u1B60\u1B6B-\u1B73\u1B7D\u1B7E\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1BFC-\u1BFF\u1C2C-\u1C33\u1C36\u1C37\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD0-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CEF-\u2CF1\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2D7F\u2DE0-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3000-\u3003\u3008-\u3011\u3014-\u301F\u302A-\u302D\u3030\u303D\u3099\u309A\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA66F\uA673-\uA67E\uA69E\uA69F\uA6F0-\uA6F7\uA802\uA806\uA80B\uA825\uA826\uA82C\uA874-\uA877\uA8C4\uA8C5\uA8CE\uA8CF\uA8E0-\uA8F1\uA8F8-\uA8FA\uA8FC\uA8FF\uA926-\uA92F\uA947-\uA951\uA95F\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9C1-\uA9CD\uA9DE\uA9DF\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA5C-\uAA5F\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAADE\uAADF\uAAEC\uAAED\uAAF0\uAAF1\uAAF6\uABE5\uABE8\uABEB\uABED\uFB1E\uFD3E\uFD3F\uFE00-\uFE19\uFE20-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFEFF\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDDFD\uDEE0\uDF76-\uDF7A\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDE50-\uDE58\uDE7F\uDEE5\uDEE6\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDD24-\uDD27\uDEAB-\uDEAD\uDEFD-\uDEFF\uDF46-\uDF50\uDF55-\uDF59\uDF82-\uDF89]|\uD804[\uDC01\uDC38-\uDC4D\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9-\uDCBC\uDCBE-\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD40-\uDD43\uDD73-\uDD75\uDD80\uDD81\uDDB6-\uDDBE\uDDC5-\uDDCD\uDDCF\uDDDB\uDDDD-\uDDDF\uDE2F-\uDE31\uDE34\uDE36-\uDE3E\uDE41\uDEA9\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDC5E\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDCC6\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF-\uDDD7\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F-\uDE43\uDE60-\uDE6C\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDEB9\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B\uDF3C-\uDF3E]|\uD806[\uDC2F-\uDC37\uDC39-\uDC3B\uDD3B\uDD3C\uDD3E\uDD43-\uDD46\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDDE2\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC41-\uDC45\uDC70\uDC71\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDEF7\uDEF8\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDE6E\uDE6F\uDEF0-\uDEF5\uDF30-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDF4F\uDF8F-\uDF92\uDFE2\uDFE4]|\uD82F[\uDC9D-\uDC9F]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE87-\uDE8B\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A\uDD5E\uDD5F]|\uDB40[\uDD00-\uDDEF])*(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F])(?:[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF40\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB3-\uDCB8\uDCBA\uDCBF\uDCC0\uDCC2\uDCC3\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD67-\uDD69\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*)*/,U={};function z(e){return JSON.parse(e)}function V(e){var t=e.match(/^([^#]*)/);return t?t[1]:e}var H=window.location.href;function G(e){H=e}var W,X=window.location.href;function j(e){X=e}function $(e,t){if(/^data:/i.test(t))return e||t;if(!t||e.match(/^\w{2,}:/))return e.toLowerCase().match("^javascript:")?"#":(e.match(/^\w{2,}:\/\/[^\/]+$/)&&(e+="/"),e);var n;if(t.match(/^\w{2,}:\/\/[^\/]+$/)&&(t+="/"),e.match(/^\/\//))return(n=t.match(/^(\w{2,}:)\/\//))?n[1]+e:e;if(e.match(/^\//))return(n=t.match(/^(\w{2,}:\/\/[^\/]+)\//))?n[1]+e:e;if(e.match(/^\.(\/|$)/)&&(e=e.substr(2)),t=function(e){var t=e.match(/^([^#?]*)/);return t?t[1]:e}(t),e.match(/^#/))return t+e;var u=t.lastIndexOf("/");if(u<0)return e;if(u<t.length-1&&t.lastIndexOf(".")<u){if(""==e)return t;u=(t+="/").length-1}var i=t.substr(0,u+1)+e,r="";for((n=i.match(/^([^?#]*)([?#].*)$/))&&(i=n[1],r=n[2]);!((u=i.indexOf("/../"))<=0);){var o=i.lastIndexOf("/",u-1);if(o<=0)break;i=i.substr(0,o)+i.substr(u+3)}return i.replace(/\/(\.\/)+/g,"/")+r}function q(e){var t;return(t=/^(https?:)\/\/github\.com\/([^/]+\/[^/]+)\/(blob\/|tree\/|raw\/)?(.*)$/.exec(e))?e=t[1]+"//raw.githubusercontent.com/"+t[2]+"/"+(t[3]?"":"master/")+t[4]:(t=/^(https?:)\/\/www\.aozora\.gr\.jp\/(cards\/[^/]+\/files\/[^/.]+\.html)$/.exec(e))?e=t[1]+"//raw.githubusercontent.com/aozorabunko/aozorabunko/master/"+t[2]:(t=/^(https?:)\/\/gist\.github\.com\/([^/]+\/\w+)(\/|$)(raw(\/|$))?(.*)$/.exec(e))?e=t[1]+"//gist.githubusercontent.com/"+t[2]+"/raw/"+t[6]:(t=/^(https?:)\/\/(?:[^/.]+\.)?jsbin\.com\/(?!(?:blog|help)\b)(\w+)((\/\d+)?).*$/.exec(e))&&(e=t[1]+"//output.jsbin.com/"+t[2]+t[3]+"/"),e}function Y(e){return null==e?e:e.toString()}!function(e){e.epub="http://www.idpf.org/2007/ops",e.EV="http://www.w3.org/2001/xml-events",e.MATHML="http://www.w3.org/1998/Math/MathML",e.XML="http://www.w3.org/XML/1998/namespace",e.XHTML="http://www.w3.org/1999/xhtml",e.XLINK="http://www.w3.org/1999/xlink",e.SHADOW="http://www.pyroxy.com/ns/shadow",e.SVG="http://www.w3.org/2000/svg",e.DC="http://purl.org/dc/elements/1.1/",e.NCX="http://www.daisy.org/z3986/2005/ncx/"}(W||(W={}));var K=function(){function e(){this.queue=[null]}var t=e.prototype;return t.length=function(){return this.queue.length-1},t.add=function(e){for(var t=this.queue.length;t>1;){var n=Math.floor(t/2),u=this.queue[n];if(u.compare(e)>0)return void(this.queue[t]=e);this.queue[t]=u,t=n}this.queue[1]=e},t.peek=function(){return this.queue[1]},t.remove=function(){var e=this.queue[1],t=this.queue.pop(),n=this.queue.length;if(n>1){for(var u=1;;){var i=2*u;if(i>=n)break;if(this.queue[i].compare(t)>0)i+1<n&&this.queue[i+1].compare(this.queue[i])>0&&i++;else{if(!(i+1<n&&this.queue[i+1].compare(t)>0))break;i++}this.queue[u]=this.queue[i],u=i}this.queue[u]=t}return e},e}(),Q=["","-webkit-","-moz-"],Z={};function J(e,t){return CSS.supports(e+t,"unset")}function ee(e){var t=Z[e];if(t||null===t)return t;switch(e){case"behavior":case"template":case"ua-list-item-count":case"x-first-pseudo":return Z[e]=null,null;case"text-combine-upright":if(J("-webkit-","text-combine")&&!J("","text-combine-upright"))return Z[e]=["-webkit-text-combine"],["-webkit-text-combine"]}for(var n,u=_(Q);!(n=u()).done;){var i=n.value;if(J(i,e))return Z[e]=t=[i+e],t}return f.warn("Property not supported by the browser: ",e),Z[e]=null,null}function te(e,t,n){var u=null==e?void 0:e.style;if(u)if(t.startsWith("--"))u.setProperty(t,n||" ");else{var i=ee(t);if(i)for(var r,o=_(i);!(r=o()).done;){var a=r.value;switch(a){case"-webkit-text-combine":"all"===n&&(n="horizontal");break;case"text-combine-upright":"all"===n&&u.setProperty("text-indent","0")}u.setProperty(a,n)}}}function ne(e,t,n){try{var u=Z[t];return e.style.getPropertyValue(u?u[0]:t)}catch(e){}return n||""}function ue(e){var t=e.getAttributeNS(W.XML,"lang");return t||e.namespaceURI!=W.XHTML||(t=e.getAttribute("lang")),t}var ie=function(){function e(){this.list=[]}var t=e.prototype;return t.append=function(e){return this.list.push(e),this},t.clear=function(){this.list=[]},t.toString=function(){var e=this.list.join("");return this.list=[e],e},e}();function re(e){return"\\"+e.charCodeAt(0).toString(16)+" "}function oe(e){return e.replace(/[^-_a-zA-Z0-9\u0080-\uFFFF]/g,re)}function ae(e){return e.replace(/[\u0000-\u001F"\\]/g,re)}function se(e){return e.replace(/[\s+&?=#\u007F-\uFFFF]+/g,encodeURIComponent)}function le(e){return!!e.match(/^[a-zA-Z\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u024F\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]$/)}function ce(e,t){return e.replace(/[^-a-zA-Z0-9_]/g,(function(e){return function(e,t){return(t="string"==typeof t?t:"\\u")+(65536|e.charCodeAt(0)).toString(16).substr(1)}(e,t)}))}function De(e){return ce(e)}function he(e,t){for(var n=0,u=e;;){if(0==n||t(n-1),u==e||t(u),n==u)return n;var i=n+u>>1;t(i)?u=i:n=i+1}}function fe(e,t){return e-t}function de(e,t){for(var n,u={},i=_(e);!(n=i()).done;){var r=n.value,o=t(r);o&&!u[o]&&(u[o]=r)}return u}function pe(e,t){for(var n,u={},i=_(e);!(n=i()).done;){var r=n.value,o=t(r);o&&(u[o]?u[o].push(r):u[o]=[r])}return u}var Ee=function(){function e(){this.listeners={}}var t=e.prototype;return t.dispatchEvent=function(e){var t=this.listeners[e.type];if(t){e.target=this,e.currentTarget=this;for(var n=0;n<t.length;n++)t[n](e)}},t.addEventListener=function(e,t,n){if(!n){var u=this.listeners[e];u?u.push(t):this.listeners[e]=[t]}},t.removeEventListener=function(e,t,n){if(!n){var u=this.listeners[e];if(u){var i=u.indexOf(t);i>=0&&u.splice(i,1)}}},e}();function Ce(e){if(1==e.nodeType){var t=e.getAttribute("id");if(t)return t}return null}function ge(e){return"^"+e}function Fe(e){return e.replace(/[\[\]\(\),=;^]/g,ge)}function ve(e){return e.substr(1)}function me(e){return e?e.replace(/\^[\[\]\(\),=;^]/g,ve):e}function Ae(e){var t=[];do{var n=e.match(/^(\^,|[^,])*/),u=me(n[0]);if(!(e=e.substr(n[0].length+1))&&!t.length)return u;t.push(u)}while(e);return t}function ye(e){for(var t={};e;){var n=e.match(/^;([^;=]+)=(([^;]|\^;)*)/);if(!n)return t;t[n[1]]=Ae(n[2]),e=e.substr(n[0].length)}return t}var Be=function(){function e(){}var t=e.prototype;return t.appendTo=function(e){e.append("!")},t.applyTo=function(e){return!1},e}(),be=function(){function e(e,t,n){this.index=void 0,this.id=void 0,this.sideBias=void 0,this.index=e,this.id=t,this.sideBias=n}var t=e.prototype;return t.appendTo=function(e){e.append("/"),e.append(this.index.toString()),(this.id||this.sideBias)&&(e.append("["),this.id&&e.append(this.id),this.sideBias&&(e.append(";s="),e.append(this.sideBias)),e.append("]"))},t.applyTo=function(e){if(1!=e.node.nodeType)throw new Error("E_CFI_NOT_ELEMENT");var t,n=e.node,u=n.children,i=u.length,r=Math.floor(this.index/2)-1;if(r<0||0==i)e.node=(t=n.firstChild)||n;else{if(t=u[Math.min(r,i-1)],1&this.index){var o=t.nextSibling;o&&1!=o.nodeType?t=o:e.after=!0}e.node=t}if(this.id&&(e.after||this.id!=Ce(e.node))){var a=n.ownerDocument.getElementById(this.id);a?e.node=a:f.warn("E_CFI_ID_MISMATCH:",this.id)}return e.sideBias=this.sideBias,!0},e}(),we=function(){function e(e,t,n,u){this.offset=void 0,this.textBefore=void 0,this.textAfter=void 0,this.sideBias=void 0,this.offset=e,this.textBefore=t,this.textAfter=n,this.sideBias=u}var t=e.prototype;return t.applyTo=function(e){if(this.offset>0&&!e.after){for(var t=this.offset,n=e.node;;){var u=n.nodeType;if(1==u)break;var i=n.nextSibling;if(3<=u&&u<=5){var r=n.textContent.length;if(t<=r)break;if(!i){t=r;break}t-=r}if(!i){t=0;break}n=i}e.node=n,e.offset=t}return e.sideBias=this.sideBias,!0},t.appendTo=function(e){e.append(":"),e.append(this.offset.toString()),(this.textBefore||this.textAfter||this.sideBias)&&(e.append("["),(this.textBefore||this.textAfter)&&(this.textBefore&&e.append(Fe(this.textBefore)),e.append(","),this.textAfter&&e.append(Fe(this.textAfter))),this.sideBias&&(e.append(";s="),e.append(this.sideBias)),e.append("]"))},e}(),Se=function(){function e(){this.steps=null}var t=e.prototype;return t.fromString=function(e){var t=e.match(/^#?epubcfi\((.*)\)$/);if(!t)throw new Error("E_CFI_NOT_CFI");for(var n=decodeURIComponent(t[1]),u=0,i=[];;){var r=void 0;switch(n.charAt(u)){case"/":if(u++,!(t=n.substr(u).match(/^(0|[1-9][0-9]*)(\[(.*?)(;([^\]]|\^\])*)?\])?/)))throw new Error("E_CFI_NUMBER_EXPECTED");u+=t[0].length;var o=parseInt(t[1],10),a=t[3];r=ye(t[4]),i.push(new be(o,a,Y(r.s)));break;case":":if(u++,!(t=n.substr(u).match(/^(0|[1-9][0-9]*)(\[((([^\];,]|\^[\];,])*)(,(([^\];,]|\^[\];,])*))?)(;([^]]|\^\])*)?\])?/)))throw new Error("E_CFI_NUMBER_EXPECTED");u+=t[0].length;var s=parseInt(t[1],10),l=t[4];l&&(l=me(l));var c=t[7];c&&(c=me(c)),r=ye(t[10]),i.push(new we(s,l,c,Y(r.s)));break;case"!":u++,i.push(new Be);break;case"~":case"@":case"":return void(this.steps=i);default:throw new Error("E_CFI_PARSE_ERROR")}}},t.navigate=function(t){for(var n={node:t.documentElement,offset:0,after:!1,sideBias:null,ref:null},u=0;u<this.steps.length;u++)if(!this.steps[u].applyTo(n)){n.ref=new e,n.ref.steps=this.steps.slice(u+1);break}return n},t.trim=function(e,t){return e.replace(/\s+/g," ").match(t?/^[ -\uD7FF\uE000-\uFFFF]{0,8}/:/[ -\uD7FF\uE000-\uFFFF]{0,8}$/)[0].replace(/^\s/,"").replace(/\s$/,"")},t.prependPathFromNode=function(e,t,n,u){for(var i=[],r=e.parentNode,o="",a="";e;){switch(e.nodeType){case 3:case 4:case 5:var s=e.textContent,l=s.length;n?(t+=l,o||(o=s)):(t>l&&(t=l),n=!0,o=s.substr(0,t),a=s.substr(t)),e=e.previousSibling;continue;case 8:e=e.previousSibling;continue}break}for((t>0||o||a)&&(o=this.trim(o,!1),a=this.trim(a,!0),i.push(new we(t,o,a,u)),u=null);r&&r&&9!=r.nodeType;){for(var c=n?null:Ce(e),D=n?1:0;e;)1==e.nodeType&&(D+=2),e=e.previousSibling;i.push(new be(D,c,u)),u=null,e=r,r=r.parentNode,n=!1}i.reverse(),this.steps?(i.push(new Be),this.steps=i.concat(this.steps)):this.steps=i},t.toString=function(){if(!this.steps)return"";var e=new ie;e.append("epubcfi(");for(var t=0;t<this.steps.length;t++)this.steps[t].appendTo(e);return e.append(")"),e.toString().replace(/%/g,"%25")},e}();function Ne(e){return{fontFamily:e.fontFamily,lineHeight:e.lineHeight,margin:e.margin,hyphenate:e.hyphenate,columnWidth:e.columnWidth,horizontal:e.horizontal,nightMode:e.nightMode,spreadView:e.spreadView,pageBorder:e.pageBorder,enabledMediaTypes:Object.assign({},e.enabledMediaTypes),defaultPaperSize:e.defaultPaperSize?Object.assign({},e.defaultPaperSize):void 0}}var xe={fontFamily:"serif",lineHeight:1.25,margin:8,hyphenate:!1,columnWidth:25,horizontal:!1,nightMode:!1,spreadView:!1,pageBorder:1,enabledMediaTypes:{vivliostyle:!0,print:!0},defaultPaperSize:void 0},Te={};function ke(e,t,n,u){var i=Math.min((e-0)/n,(t-0)/u);return"matrix("+i+",0,0,"+i+",0,0)"}function Ie(e){return'"'+ae(""+e)+'"'}function Pe(e){return oe(""+e)}function Re(e,t){return e?oe(e)+"."+oe(t):oe(t)}var Le=0,Oe=function(){function e(e,t){if(this.parent=void 0,this.resolver=void 0,this.scopeKey=void 0,this.children=[],this.zero=void 0,this.one=void 0,this._true=void 0,this._false=void 0,this.values={},this.funcs={},this.builtIns={},this.parent=e,this.resolver=t,this.scopeKey="S"+Le++,this.zero=new Ft(this,0),this.one=new Ft(this,1),this._true=new Ft(this,!0),this._false=new Ft(this,!1),e&&e.children.push(this),!e){var n=this.builtIns;n.floor=Math.floor,n.ceil=Math.ceil,n.round=Math.round,n.sqrt=Math.sqrt,n.min=Math.min,n.max=Math.max,n.letterbox=ke,n["css-string"]=Ie,n["css-name"]=Pe,n.typeof=function(e){return typeof e},this.defineBuiltInName("page-width",(function(){return this.pageWidth()})),this.defineBuiltInName("page-height",(function(){return this.pageHeight()})),this.defineBuiltInName("pref-font-family",(function(){return this.pref.fontFamily})),this.defineBuiltInName("pref-night-mode",(function(){return this.pref.nightMode})),this.defineBuiltInName("pref-hyphenate",(function(){return this.pref.hyphenate})),this.defineBuiltInName("pref-margin",(function(){return this.pref.margin})),this.defineBuiltInName("pref-line-height",(function(){return this.pref.lineHeight})),this.defineBuiltInName("pref-column-width",(function(){return this.pref.columnWidth*this.fontSize})),this.defineBuiltInName("pref-horizontal",(function(){return this.pref.horizontal})),this.defineBuiltInName("pref-spread-view",(function(){return this.pref.spreadView})),this.defineBuiltInName("pub-title",(function(){return Ie(this.pubTitle?this.pubTitle:"")})),this.defineBuiltInName("doc-title",(function(){return Ie(this.docTitle?this.docTitle:"")}))}}var t=e.prototype;return t.defineBuiltInName=function(e,t){this.values[e]=new Et(this,t,e)},t.defineName=function(e,t){this.values[e]=t},t.defineFunc=function(e,t){this.funcs[e]=t},t.defineBuiltIn=function(e,t){this.builtIns[e]=t},e}();function _e(e){switch(null==e?void 0:e.toLowerCase()){case"vw":case"vh":case"vi":case"vb":case"vmin":case"vmax":case"pvw":case"pvh":case"pvi":case"pvb":case"pvmin":case"pvmax":return!0;default:return!1}}var Me={px:1,in:96,pt:4/3,pc:16,cm:96/2.54,mm:96/25.4,q:96/2.54/40,em:16,rem:16,ex:8,lh:20,rlh:20,dppx:1,dpi:1/96,dpcm:2.54/96};function Ue(e){switch(e){case"q":return!CSS.supports("font-size","1q");case"lh":return!CSS.supports("line-height","1lh");case"rem":case"rlh":return!0;default:return!1}}var ze=function(){function e(e,t,n,u){this.rootScope=void 0,this.viewportWidth=void 0,this.viewportHeight=void 0,this.actualPageWidth=null,this.pageWidth=void 0,this.actualPageHeight=null,this.pageHeight=void 0,this.initialFontSize=void 0,this.rootFontSize=null,this.isRelativeRootFontSize=null,this.fontSize=void 0,this.rootLineHeight=null,this.pref=void 0,this.scopes={},this.pageAreaWidth=null,this.pageAreaHeight=null,this.pageVertical=null,this.pubTitle=null,this.docTitle=null,this.rootScope=e,this.viewportWidth=t,this.viewportHeight=n,this.pageWidth=function(){return this.actualPageWidth?this.actualPageWidth:this.pref.spreadView?Math.floor(t/2)-this.pref.pageBorder:t},this.pageHeight=function(){return this.actualPageHeight?this.actualPageHeight:n},this.initialFontSize=u,this.fontSize=function(){return this.rootFontSize?this.rootFontSize:u},this.pref=xe}var t=e.prototype;return t.getScopeContext=function(e){var t=this.scopes[e.scopeKey];return t||(this.scopes[e.scopeKey]=t={}),t},t.clearScope=function(e){this.scopes[e.scopeKey]={};for(var t=0;t<e.children.length;t++)this.clearScope(e.children[t])},t.queryUnitSize=function(e,t){if(_e(e)){var n=this.pageWidth()/100,u=this.pageHeight()/100,i=null!=this.pageAreaWidth?this.pageAreaWidth/100:n,r=null!=this.pageAreaHeight?this.pageAreaHeight/100:u;switch(e){case"vw":return i;case"vh":return r;case"vi":return this.pageVertical?r:i;case"vb":return this.pageVertical?i:r;case"vmin":return i<r?i:r;case"vmax":return i>r?i:r;case"pvw":return n;case"pvh":return u;case"pvi":return this.pageVertical?u:n;case"pvb":return this.pageVertical?n:u;case"pvmin":return n<u?n:u;case"pvmax":return n>u?n:u}}return"em"==e||"rem"==e?t?this.initialFontSize:this.fontSize():"ex"==e?Me.ex*(t?this.initialFontSize:this.fontSize())/Me.em:"lh"==e||"rlh"==e?this.rootLineHeight:Me[e]},t.evalName=function(e,t){do{var n=e.values[t];if(n)return n;if(e.resolver&&(n=e.resolver.call(this,t,!1)))return n;e=e.parent}while(e);throw new Error("Name '"+t+"' is undefined")},t.evalCall=function(e,t,n,u){do{var i=e.funcs[t];if(i)return i;if(e.resolver&&(i=e.resolver.call(this,t,!0)))return i;var r=e.builtIns[t];if(r){if(u)return e.zero;for(var o=Array(n.length),a=0;a<n.length;a++)o[a]=n[a].evaluate(this);return new Ft(e,r.apply(this,o))}e=e.parent}while(e);throw new Error("Function '"+t+"' is undefined")},t.evalMediaName=function(e,t){var n="all"===e||!!this.pref.enabledMediaTypes[e];return t?!n:n},t.evalMediaTest=function(e,t){var n="",u=e.match(/^(min|max)-(.*)$/);u&&(n=u[1],e=u[2]);var i=null,r=null;switch(e){case"width":case"height":case"device-width":case"device-height":case"color":t&&(i=t.evaluate(this))}switch(e){case"width":r=this.pageWidth();break;case"height":r=this.pageHeight();break;case"device-width":r=window.screen.availWidth;break;case"device-height":r=window.screen.availHeight;break;case"color":r=window.screen.pixelDepth}if(null!=r&&null!=i)switch(n){case"min":return r>=i;case"max":return r<=i;default:return r==i}else if(null!=r&&null==t)return 0!==r;return!1},t.evalSupportsTest=function(e,t,n){return!1},t.queryVal=function(e,t){var n=e&&this.scopes[e.scopeKey];return n?n[t]:void 0},t.storeVal=function(e,t,n){this.getScopeContext(e)[t]=n},e}(),Ve=function(){function e(e){this.scope=void 0,this.key=void 0,this.scope=e,this.scope=e,this.key="_"+Le++}var t=e.prototype;return t.toString=function(){var e=new ie;return this.appendTo(e,0),e.toString()},t.appendTo=function(e,t){throw new Error("F_ABSTRACT")},t.evaluateCore=function(e){throw new Error("F_ABSTRACT")},t.expand=function(e,t){return this},t.dependCore=function(e,t,n){return e===this},t.dependOuter=function(e,t,n){var u=n[this.key];if(null!=u)return u!==Te&&u;n[this.key]=Te;var i=this.dependCore(e,t,n);return n[this.key]=i,i},t.depend=function(e,t){return this.dependOuter(e,t,{})},t.evaluate=function(e){var t=e.queryVal(this.scope,this.key);return void 0!==t||(t=this.evaluateCore(e),this.scope&&e.storeVal(this.scope,this.key,t)),t},t.isMediaName=function(){return!1},e}(),He=function(e){function t(t,n){var u;return(u=e.call(this,t)||this).val=void 0,u.val=n,u}x(t,e);var n=t.prototype;return n.getOp=function(){throw new Error("F_ABSTRACT")},n.evalPrefix=function(e){throw new Error("F_ABSTRACT")},n.evaluateCore=function(e){var t=this.val.evaluate(e);return this.evalPrefix(t)},n.dependCore=function(e,t,n){return e===this||this.val.dependOuter(e,t,n)},n.appendTo=function(e,t){10<t&&e.append("("),e.append(this.getOp()),this.val.appendTo(e,10),10<t&&e.append(")")},n.expand=function(e,t){var n=this.val.expand(e,t);return n===this.val?this:new this.constructor(this.scope,n)},t}(Ve),Ge=function(e){function t(t,n,u){var i;return(i=e.call(this,t)||this).lhs=void 0,i.rhs=void 0,i.lhs=n,i.rhs=u,i}x(t,e);var n=t.prototype;return n.getPriority=function(){throw new Error("F_ABSTRACT")},n.getOp=function(){throw new Error("F_ABSTRACT")},n.evalInfix=function(e,t){throw new Error("F_ABSTRACT")},n.evaluateCore=function(e){var t=this.lhs.evaluate(e),n=this.rhs.evaluate(e);return this.evalInfix(t,n)},n.dependCore=function(e,t,n){return e===this||this.lhs.dependOuter(e,t,n)||this.rhs.dependOuter(e,t,n)},n.appendTo=function(e,t){var n=this.getPriority();n<=t&&e.append("("),this.lhs.appendTo(e,n),e.append(this.getOp()),this.rhs.appendTo(e,n),n<=t&&e.append(")")},n.expand=function(e,t){var n=this.lhs.expand(e,t),u=this.rhs.expand(e,t);return n===this.lhs&&u===this.rhs?this:new this.constructor(this.scope,n,u)},t}(Ve),We=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}return x(t,e),t.prototype.getPriority=function(){return 1},t}(Ge),Xe=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}return x(t,e),t.prototype.getPriority=function(){return 2},t}(Ge),je=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}return x(t,e),t.prototype.getPriority=function(){return 3},t}(Ge),$e=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}return x(t,e),t.prototype.getPriority=function(){return 4},t}(Ge),qe=function(e){function t(t,n){return e.call(this,t,n)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return"!"},n.evalPrefix=function(e){return!e},t}(He),Ye=function(e){function t(t,n){return e.call(this,t,n)||this}return x(t,e),t.prototype.getOp=function(){return"not "},t}(qe),Ke=function(e){function t(t,n){return e.call(this,t,n)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return"-"},n.evalPrefix=function(e){return-e},t}(He),Qe=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return"&&"},n.evaluateCore=function(e){return this.lhs.evaluate(e)&&this.rhs.evaluate(e)},t}(We),Ze=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}return x(t,e),t.prototype.getOp=function(){return" and "},t}(Qe),Je=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return"||"},n.evaluateCore=function(e){return this.lhs.evaluate(e)||this.rhs.evaluate(e)},t}(We),et=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}return x(t,e),t.prototype.getOp=function(){return", "},t}(Je),tt=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}return x(t,e),t.prototype.getOp=function(){return" or "},t}(Je),nt=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return"<"},n.evalInfix=function(e,t){return e<t},t}(Xe),ut=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return"<="},n.evalInfix=function(e,t){return e<=t},t}(Xe),it=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return">"},n.evalInfix=function(e,t){return e>t},t}(Xe),rt=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return">="},n.evalInfix=function(e,t){return e>=t},t}(Xe),ot=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return"=="},n.evalInfix=function(e,t){return e==t},t}(Xe),at=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return"!="},n.evalInfix=function(e,t){return e!=t},t}(Xe),st=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return"+"},n.evalInfix=function(e,t){return e+t},t}(je),lt=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return" - "},n.evalInfix=function(e,t){return e-t},t}(je),ct=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return"*"},n.evalInfix=function(e,t){return e*t},t}($e),Dt=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return"/"},n.evalInfix=function(e,t){return e/t},t}($e),ht=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.getOp=function(){return"%"},n.evalInfix=function(e,t){return e%t},t}($e),ft=function(e){function t(t,n,u){var i,r;return(r=e.call(this,t)||this).num=void 0,r.unit=void 0,r.num=n,r.unit=null!=(i=null==u?void 0:u.toLowerCase())?i:"",r}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){e.append(this.num.toString()),e.append(oe(this.unit))},n.evaluateCore=function(e){return this.num*e.queryUnitSize(this.unit,!1)},t}(Ve),dt=function(e){function t(t,n){var u;return(u=e.call(this,t)||this).qualifiedName=void 0,u.qualifiedName=n,u}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){e.append(this.qualifiedName)},n.evaluateCore=function(e){return e.evalName(this.scope,this.qualifiedName).evaluate(e)},n.dependCore=function(e,t,n){return e===this||t.evalName(this.scope,this.qualifiedName).dependOuter(e,t,n)},t}(Ve),pt=function(e){function t(t,n,u){var i;return(i=e.call(this,t)||this).not=void 0,i.name=void 0,i.not=n,i.name=u,i}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){this.not&&e.append("not "),e.append(oe(this.name))},n.evaluateCore=function(e){return e.evalMediaName(this.name,this.not)},n.isMediaName=function(){return!0},t}(Ve),Et=function(e){function t(t,n,u){var i;return(i=e.call(this,t)||this).fn=void 0,i.str=void 0,i.fn=n,i.str=u,i}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){e.append(this.str)},n.evaluateCore=function(e){return this.fn.call(e)},t}(Ve),Ct=function(e){function t(t,n,u){var i;return(i=e.call(this,t)||this).qualifiedName=void 0,i.params=void 0,i.qualifiedName=n,i.params=u,i}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){e.append(this.qualifiedName),function(e,t){e.append("(");for(var n=0;n<t.length;n++)n&&e.append(","),t[n].appendTo(e,0);e.append(")")}(e,this.params)},n.evaluateCore=function(e){return e.evalCall(this.scope,this.qualifiedName,this.params,!1).expand(e,this.params).evaluate(e)},n.dependCore=function(e,t,n){if(e===this)return!0;for(var u=0;u<this.params.length;u++)if(this.params[u].dependOuter(e,t,n))return!0;return t.evalCall(this.scope,this.qualifiedName,this.params,!0).dependOuter(e,t,n)},n.expand=function(e,n){var u=function(e,t,n){for(var u=t,i=0;i<t.length;i++){var r=t[i].expand(e,n);if(t!==u)u[i]=r;else if(r!==t[i]){u=Array(t.length);for(var o=0;o<i;o++)u[o]=t[o];u[i]=r}}return u}(e,this.params,n);return u===this.params?this:new t(this.scope,this.qualifiedName,u)},t}(Ve),gt=function(e){function t(t,n,u,i){var r;return(r=e.call(this,t)||this).cond=void 0,r.ifTrue=void 0,r.ifFalse=void 0,r.cond=n,r.ifTrue=u,r.ifFalse=i,r}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){t>0&&e.append("("),this.cond.appendTo(e,0),e.append("?"),this.ifTrue.appendTo(e,0),e.append(":"),this.ifFalse.appendTo(e,0),t>0&&e.append(")")},n.evaluateCore=function(e){return this.cond.evaluate(e)?this.ifTrue.evaluate(e):this.ifFalse.evaluate(e)},n.dependCore=function(e,t,n){return e===this||this.cond.dependOuter(e,t,n)||this.ifTrue.dependOuter(e,t,n)||this.ifFalse.dependOuter(e,t,n)},n.expand=function(e,n){var u=this.cond.expand(e,n),i=this.ifTrue.expand(e,n),r=this.ifFalse.expand(e,n);return u===this.cond&&i===this.ifTrue&&r===this.ifFalse?this:new t(this.scope,u,i,r)},t}(Ve),Ft=function(e){function t(t,n){var u;return(u=e.call(this,t)||this).val=void 0,u.val=n,u}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){switch(typeof this.val){case"number":case"boolean":e.append(this.val.toString());break;case"string":e.append('"'),e.append(ae(this.val)),e.append('"');break;default:throw new Error("F_UNEXPECTED_STATE")}},n.evaluateCore=function(e){return this.val},t}(Ve),vt=function(e){function t(t,n,u){var i;return(i=e.call(this,t)||this).name=void 0,i.value=void 0,i.name=n,i.value=u,i}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){e.append("("),e.append(ae(this.name.name)),e.append(":"),this.value.appendTo(e,0),e.append(")")},n.evaluateCore=function(e){return e.evalMediaTest(this.name.name,this.value)},n.dependCore=function(e,t,n){return e===this||this.value.dependOuter(e,t,n)},n.expand=function(e,n){var u=this.value.expand(e,n);return u===this.value?this:new t(this.scope,this.name,u)},t}(Ve),mt=function(e){function t(t,n,u,i){var r;return(r=e.call(this,t)||this).name=void 0,r.value=void 0,r.isFunc=void 0,r.name=n,r.value=u,r.isFunc=i,r}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){this.isFunc&&e.append(this.name),e.append("("),!this.isFunc&&this.name&&(e.append(this.name),e.append(":")),e.append(this.value),e.append(")")},n.evaluateCore=function(e){return e.evalSupportsTest(this.name,this.value,this.isFunc)},t}(Ve),At=function(e){function t(t,n){var u;return(u=e.call(this,t)||this).index=void 0,u.index=n,u}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){e.append("$"),e.append(this.index.toString())},n.expand=function(e,t){var n=t[this.index];if(!n)throw new Error("Parameter missing: "+this.index);return n},t}(Ve);function yt(e,t,n){return t===e._false||t===e.zero||n==e._false||n==e.zero?e._false:t===e._true||t===e.one?n:n===e._true||n===e.one?t:new Qe(e,t,n)}function Bt(e,t,n){return t===e.zero?n:n===e.zero?t:new st(e,t,n)}function bt(e,t,n){return t===e.zero?new Ke(e,n):n===e.zero?t:new lt(e,t,n)}function wt(e,t,n){return t===e.zero||n===e.zero?e.zero:t===e.one?n:n===e.one?t:new ct(e,t,n)}function St(e,t,n){return t===e.zero?e.zero:n===e.one?t:new Dt(e,t,n)}var Nt=function(){function e(){}var t=e.prototype;return t.visitValues=function(e){for(var t=0;t<e.length;t++)e[t].visit(this);return null},t.visitEmpty=function(e){return null},t.visitSlash=function(e){return null},t.visitStr=function(e){return null},t.visitIdent=function(e){return null},t.visitNumeric=function(e){return null},t.visitNum=function(e){return null},t.visitInt=function(e){return this.visitNum(e)},t.visitHexColor=function(e){return null},t.visitURL=function(e){return null},t.visitURange=function(e){return null},t.visitSpaceList=function(e){return this.visitValues(e.values),null},t.visitCommaList=function(e){return this.visitValues(e.values),null},t.visitFunc=function(e){return this.visitValues(e.values),null},t.visitExpr=function(e){return null},e}(),xt=function(e){function t(){var t;return(t=e.call(this)||this).error=!1,t}x(t,e);var n=t.prototype;return n.visitValues=function(e){for(var t=null,n=0;n<e.length;n++){var u=e[n],i=u.visit(this);if(this.error)return[];if(t)t[n]=i;else if(u!==i){t=new Array(e.length);for(var r=0;r<n;r++)t[r]=e[r];t[n]=i}}return t||e},n.visitEmpty=function(e){return e},n.visitStr=function(e){return e},n.visitIdent=function(e){return e},n.visitSlash=function(e){return e},n.visitNumeric=function(e){return e},n.visitNum=function(e){return e},n.visitInt=function(e){return e},n.visitHexColor=function(e){return e},n.visitURL=function(e){return e},n.visitURange=function(e){return e},n.visitSpaceList=function(e){var t=this.visitValues(e.values);return this.error?It:t===e.values?e:new jt(t)},n.visitCommaList=function(e){var t=this.visitValues(e.values);return this.error?It:t===e.values?e:new $t(t)},n.visitFunc=function(e){var t=this.visitValues(e.values);return this.error?It:t===e.values?e:new qt(e.name,t)},n.visitExpr=function(e){return e},t}(Nt),Tt=function(){function e(){}var t=e.prototype;return t.toString=function(){var e=new ie;return this.appendTo(e,!0),e.toString()},t.stringValue=function(){var e=new ie;return this.appendTo(e,!1),e.toString()},t.toExpr=function(e,t){return null},t.appendTo=function(e,t){e.append("[error]")},t.isExpr=function(){return!1},t.isNumeric=function(){return!1},t.isNum=function(){return!1},t.isIdent=function(){return!1},t.isSpaceList=function(){return!1},t.visit=function(e){return this},e}(),kt=function(e){function t(){return e.call(this)||this}x(t,e);var n=t.prototype;return n.toExpr=function(e,t){return new Ft(e,"")},n.appendTo=function(e,t){},n.visit=function(e){return e.visitEmpty(this)},N(t,null,[{key:"instance",get:function(){return this.empty||(this.empty=new t),this.empty}}]),t}(Tt);kt.empty=void 0;var It=kt.instance,Pt=function(e){function t(){return e.call(this)||this}x(t,e);var n=t.prototype;return n.toExpr=function(e,t){return new Ft(e,"/")},n.appendTo=function(e,t){e.append("/")},n.visit=function(e){return e.visitSlash(this)},N(t,null,[{key:"instance",get:function(){return this.slash||(this.slash=new t),this.slash}}]),t}(Tt);Pt.slash=void 0;var Rt=Pt.instance,Lt=function(e){function t(t){var n;return(n=e.call(this)||this).str=void 0,n.str=t,n}x(t,e);var n=t.prototype;return n.toExpr=function(e,t){return new Ft(e,this.str)},n.appendTo=function(e,t){t?(e.append('"'),e.append(ae(this.str)),e.append('"')):e.append(this.str)},n.visit=function(e){return e.visitStr(this)},t}(Tt),Ot={},_t=function(e){function t(t){var n;if((n=e.call(this)||this).name=void 0,n.name=t,Ot[t])throw new Error("E_INVALID_CALL");return Ot[t]=L(n),n}x(t,e);var n=t.prototype;return n.toExpr=function(e,t){return new Ft(e,this.name)},n.appendTo=function(e,t){e.append(t?oe(this.name):this.name)},n.visit=function(e){return e.visitIdent(this)},n.isIdent=function(){return!0},t}(Tt);function Mt(e){var t=Ot[e];return t||(t=new _t(e)),t}var Ut=function(e){function t(t,n){var u,i;return(i=e.call(this)||this).num=void 0,i.unit=void 0,i.num=t,i.unit=null!=(u=null==n?void 0:n.toLowerCase())?u:"",i}x(t,e);var n=t.prototype;return n.toExpr=function(e,t){return 0==this.num?e.zero:t&&"%"==this.unit?100==this.num?t:new ct(e,t,new Ft(e,this.num/100)):new ft(e,this.num,this.unit)},n.appendTo=function(e,t){e.append(this.num.toString()),e.append(this.unit)},n.visit=function(e){return e.visitNumeric(this)},n.isNumeric=function(){return!0},t}(Tt),zt=function(e){function t(t){var n;return(n=e.call(this)||this).num=void 0,n.num=t,n}x(t,e);var n=t.prototype;return n.toExpr=function(e,t){return 0==this.num?e.zero:1==this.num?e.one:new Ft(e,this.num)},n.appendTo=function(e,t){e.append(this.num.toString())},n.visit=function(e){return e.visitNum(this)},n.isNum=function(){return!0},t}(Tt),Vt=function(e){function t(t){return e.call(this,t)||this}return x(t,e),t.prototype.visit=function(e){return e.visitInt(this)},t}(zt),Ht=function(e){function t(t){var n;return(n=e.call(this)||this).hex=void 0,n.hex=t,n}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){e.append("#"),e.append(this.hex)},n.visit=function(e){return e.visitHexColor(this)},t}(Tt),Gt=function(e){function t(t){var n;return(n=e.call(this)||this).url=void 0,n.url=t,n}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){e.append('url("'),e.append(ae(this.url)),e.append('")')},n.visit=function(e){return e.visitURL(this)},t}(Tt),Wt=function(e){function t(t){var n;return(n=e.call(this)||this).urangeText=void 0,n.urangeText=t,n}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){e.append(this.urangeText)},n.visit=function(e){return e.visitURange(this)},t}(Tt);function Xt(e,t,n,u){var i=t.length;if(i>0){var r;null==(r=t[0])||r.appendTo(e,u);for(var o=1;o<i;o++){var a;e.append(n),null==(a=t[o])||a.appendTo(e,u)}}}var jt=function(e){function t(t){var n;return(n=e.call(this)||this).values=void 0,n.values=t,n}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){Xt(e,this.values," ",t)},n.visit=function(e){return e.visitSpaceList(this)},n.isSpaceList=function(){return!0},t}(Tt),$t=function(e){function t(t){var n;return(n=e.call(this)||this).values=void 0,n.values=t,n}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){Xt(e,this.values,",",t)},n.visit=function(e){return e.visitCommaList(this)},t}(Tt),qt=function(e){function t(t,n){var u;return(u=e.call(this)||this).name=void 0,u.values=void 0,u.name=t,u.values=n,u}x(t,e);var n=t.prototype;return n.appendTo=function(e,t){e.append(oe(this.name)),e.append("("),Xt(e,this.values,",",t),e.append(")")},n.visit=function(e){return e.visitFunc(this)},t}(Tt),Yt=function(e){function t(t){var n;return(n=e.call(this)||this).expr=void 0,n.expr=t,n}x(t,e);var n=t.prototype;return n.toExpr=function(){return this.expr},n.appendTo=function(e,t){this.expr instanceof Ft||this.expr instanceof ft?this.expr.appendTo(e,0):(e.append("-epubx-expr("),this.expr.appendTo(e,0),e.append(")"))},n.visit=function(e){return e.visitExpr(this)},n.isExpr=function(){return!0},t}(Tt),Kt=function(e){function t(t){var n;return(n=e.call(this)||this).text=void 0,n.text=t,n}return x(t,e),t.prototype.appendTo=function(e,t){e.append(this.text||" ")},t}(Tt);function Qt(e,t){if(e){if(e.isNumeric()){var n=e;return t.queryUnitSize(n.unit,!1)*n.num}if(e.isNum())return e.num}return 0}function Zt(e,t){return new Ut(Qt(e,t),"px")}var Jt={absolute:Mt("absolute"),all:Mt("all"),always:Mt("always"),anywhere:Mt("anywhere"),auto:Mt("auto"),avoid:Mt("avoid"),balance:Mt("balance"),balance_all:Mt("balance-all"),block:Mt("block"),block_end:Mt("block-end"),block_start:Mt("block-start"),both:Mt("both"),bottom:Mt("bottom"),border_box:Mt("border-box"),break_all:Mt("break-all"),break_word:Mt("break-word"),clip:Mt("clip"),crop:Mt("crop"),cross:Mt("cross"),column:Mt("column"),discard:Mt("discard"),exclusive:Mt("exclusive"),_false:Mt("false"),fixed:Mt("fixed"),flex:Mt("flex"),flow_root:Mt("flow-root"),footnote:Mt("footnote"),footer:Mt("footer"),grid:Mt("grid"),header:Mt("header"),hidden:Mt("hidden"),horizontal_tb:Mt("horizontal-tb"),inherit:Mt("inherit"),initial:Mt("initial"),inline:Mt("inline"),inline_block:Mt("inline-block"),inline_end:Mt("inline-end"),inline_start:Mt("inline-start"),keep:Mt("keep"),landscape:Mt("landscape"),left:Mt("left"),line:Mt("line"),list_item:Mt("list-item"),ltr:Mt("ltr"),manual:Mt("manual"),none:Mt("none"),normal:Mt("normal"),oeb_page_foot:Mt("oeb-page-foot"),oeb_page_head:Mt("oeb-page-head"),page:Mt("page"),relative:Mt("relative"),revert:Mt("revert"),right:Mt("right"),same:Mt("same"),scale:Mt("scale"),snap_block:Mt("snap-block"),spread:Mt("spread"),_static:Mt("static"),rtl:Mt("rtl"),table:Mt("table"),table_caption:Mt("table-caption"),table_cell:Mt("table-cell"),table_footer_group:Mt("table-footer-group"),table_header_group:Mt("table-header-group"),table_row:Mt("table-row"),top:Mt("top"),transparent:Mt("transparent"),unset:Mt("unset"),vertical_lr:Mt("vertical-lr"),vertical_rl:Mt("vertical-rl"),visible:Mt("visible"),_true:Mt("true")},en=new Ut(100,"%"),tn=new Ut(100,"pvw"),nn=new Ut(100,"pvh"),un=new Ut(0,"px"),rn=new Wt("U+0-10FFFF"),on={"font-size":1,"line-height":2,color:3};function an(e){return e===Jt.inherit||e===Jt.initial||e===Jt.revert||e===Jt.unset}function sn(e,t){return(on[e]||Number.MAX_VALUE)-(on[t]||Number.MAX_VALUE)}function ln(e){return(null==e?void 0:e.length)>2&&e.startsWith("--")}var cn=function(e,t,n,u){this.x1=void 0,this.y1=void 0,this.x2=void 0,this.y2=void 0,this.x1=e,this.y1=t,this.x2=n,this.y2=u},Dn=function(e,t){this.x=void 0,this.y=void 0,this.x=e,this.y=t},hn=function(e,t,n,u){this.left=void 0,this.top=void 0,this.right=void 0,this.bottom=void 0,this.left=e,this.top=t,this.right=n,this.bottom=u},fn=function(e,t,n,u){this.low=void 0,this.high=void 0,this.winding=void 0,this.shapeId=void 0,this.low=e,this.high=t,this.winding=n,this.shapeId=u},dn=function(e,t,n,u){this.y1=void 0,this.y2=void 0,this.x1=void 0,this.x2=void 0,this.left=null,this.right=null,this.y1=e,this.y2=t,this.x1=n,this.x2=u};function pn(e,t){return e.low.y-t.low.y||e.low.x-t.low.x}var En=function(){function e(e){this.points=void 0,this.points=e}var t=e.prototype;return t.addSegments=function(e,t){for(var n=this.points,u=n.length,i=n[u-1],r=0;r<u;r++){var o,a=n[r];o=i.y<a.y?new fn(i,a,1,t):new fn(a,i,-1,t),e.push(o),i=a}},t.withOffset=function(t,n){for(var u,i=[],r=_(this.points);!(u=r()).done;){var o=u.value;i.push(new Dn(o.x+t,o.y+n))}return new e(i)},e}();function Cn(e,t,n,u){for(var i=[],r=0;r<20;r++){var o=2*r*Math.PI/20;i.push(new Dn(e+n*Math.sin(o),t+u*Math.cos(o)))}return new En(i)}function gn(e,t,n,u){return new En([new Dn(e,t),new Dn(n,t),new Dn(n,u),new Dn(e,u)])}var Fn=function(e,t,n,u){this.x=void 0,this.winding=void 0,this.shapeId=void 0,this.lowOrHigh=void 0,this.x=e,this.winding=t,this.shapeId=n,this.lowOrHigh=u};function vn(e,t){var n=e.low.x+(e.high.x-e.low.x)*(t-e.low.y)/(e.high.y-e.low.y);if(isNaN(n))throw new Error("Bad intersection");return n}function mn(e,t,n,u){var i,r,o,a;t.high.y<n&&f.warn("Error: inconsistent segment (1)"),t.low.y<=n?(i=vn(t,n),r=t.winding):(i=t.low.x,r=0),t.high.y>=u?(o=vn(t,u),a=t.winding):(o=t.high.x,a=0),i<o?(e.push(new Fn(i,r,t.shapeId,-1)),e.push(new Fn(o,a,t.shapeId,1))):(e.push(new Fn(o,a,t.shapeId,-1)),e.push(new Fn(i,r,t.shapeId,1)))}function An(e,t,n){var u,i=t+n,r=Array(i),o=Array(i);for(u=0;u<=i;u++)r[u]=0,o[u]=0;for(var a=[],s=!1,l=e.length,c=0;c<l;c++){var D=e[c];r[D.shapeId]+=D.winding,o[D.shapeId]+=D.lowOrHigh;var h=!1;for(u=0;u<t;u++)if(r[u]&&!o[u]){h=!0;break}if(h)for(u=t;u<=i;u++)if(r[u]||o[u]){h=!1;break}s!=h&&(a.push(D.x),s=h)}return a}function yn(e,t){return t?Math.floor(e/t)*t:e}function Bn(e){return new cn(e.y1,-e.x2,e.y2,-e.x1)}function bn(e){return new cn(-e.y2,e.x1,-e.y1,e.x2)}function wn(e){return new En(e.points.map((function(e){return function(e){return new Dn(e.y,-e.x)}(e)})))}function Sn(e,t){for(var n=t.length-1,u=new dn(e.y2,e.y2,e.x1,e.x2);n>=0;){var i=u;((u=t[n]).y2-u.y1<1||u.x1==i.x1&&u.x2==i.x2)&&(i.y1=u.y1,t.splice(n,1),u=i),n--}}function Nn(e,t){for(var n=0,u=e.length;n<u;){var i=Math.floor((n+u)/2);t>=e[i].y2?n=i+1:u=i}return n}function xn(e,t){if(!e.length)return t;var n,u,i=t.y1;for(u=0;u<e.length&&!((n=e[u]).y2>t.y1&&n.x1-.1<=t.x1&&n.x2+.1>=t.x2);u++)i=Math.max(i,n.y2);for(var r=i;u<e.length&&!((n=e[u]).y1>=t.y2||n.x1-.1>t.x1||n.x2+.1<t.x2);u++)r=n.y2;return(r=u===e.length?t.y2:Math.min(r,t.y2))<=i?null:new cn(t.x1,i,t.x2,r)}function Tn(e,t){if(!e.length)return t;var n,u,i=t.y2;for(u=e.length-1;u>=0&&(n=e[u],!(u===e.length-1&&n.y2<t.y2))&&!(n.y1<t.y2&&n.x1-.1<=t.x1&&n.x2+.1>=t.x2);u--)i=Math.min(i,n.y1);for(var r=Math.min(i,n.y2);u>=0&&!((n=e[u]).y2<=t.y1||n.x1-.1>t.x1||n.x2+.1<t.x2);u--)r=n.y1;return i<=(r=Math.max(r,t.y1))?null:new cn(t.x1,r,t.x2,i)}var kn=function(e){function t(){var t;return(t=e.call(this)||this).propSet={},t}x(t,e);var n=t.prototype;return n.visitIdent=function(e){return this.propSet[e.name]=!0,e},n.visitSpaceList=function(e){return this.visitValues(e.values),e},t}(Nt),In=function(e){function t(t){var n;return(n=e.call(this)||this).value=void 0,n.value=t,n}return x(t,e),t.prototype.visitInt=function(e){return this.value=e.num,e},t}(Nt);function Pn(e,t){if(e){var n=new In(t);try{return e.visit(n),n.value}catch(e){f.warn(e,"toInt: ")}}return t}var Rn=function(e){function t(){var t;return(t=e.call(this)||this).collect=!1,t.coords=[],t.name=null,t}x(t,e);var n=t.prototype;return n.visitNumeric=function(e){return this.collect&&this.coords.push(e),null},n.visitNum=function(e){return this.collect&&0==e.num&&this.coords.push(new Ut(0,"px")),null},n.visitSpaceList=function(e){return this.visitValues(e.values),null},n.visitFunc=function(e){return this.collect||(this.collect=!0,this.visitValues(e.values),this.collect=!1,this.name=e.name.toLowerCase()),null},n.getShape=function(e,t,n,u,i){var r=this;if(this.coords.length>0){var o=[];switch(this.coords.forEach((function(e,t){if("%"==e.unit){var a=t%2==0?n:u;3==t&&"circle"==r.name&&(a=Math.sqrt((n*n+u*u)/2)),o.push(e.num*a/100)}else o.push(e.num*i.queryUnitSize(e.unit,!1))})),this.name){case"polygon":if(o.length%2==0){for(var a=[],s=0;s<o.length;s+=2)a.push(new Dn(e+o[s],t+o[s+1]));return new En(a)}break;case"rectangle":if(4==o.length)return gn(e+o[0],t+o[1],e+o[0]+o[2],t+o[1]+o[3]);break;case"ellipse":if(4==o.length)return Cn(e+o[0],t+o[1],o[2],o[3]);break;case"circle":if(3==o.length)return Cn(e+o[0],t+o[1],o[2],o[2])}}return null},t}(Nt);function Ln(e,t,n,u,i,r){if(e){var o=new Rn;try{return e.visit(o),o.getShape(t,n,u,i,r)}catch(e){f.warn(e,"toShape:")}}return gn(t,n,t+u,n+i)}var On=function(e){function t(t){var n;return(n=e.call(this)||this).reset=void 0,n.counters={},n.name=null,n.reset=t,n}x(t,e);var n=t.prototype;return n.visitIdent=function(e){return this.name=e.toString(),this.counters[this.name]=this.reset?0:(this.counters[this.name]||0)+1,e},n.visitInt=function(e){return this.name&&(this.counters[this.name]+=e.num-(this.reset?0:1)),e},n.visitSpaceList=function(e){return this.visitValues(e.values),e},t}(Nt);function _n(e,t){var n=new On(t);try{e.visit(n)}catch(e){f.warn(e,"toCounters:")}return n.counters}var Mn=function(e){function t(t,n){var u;return(u=e.call(this)||this).baseUrl=void 0,u.transformer=void 0,u.baseUrl=t,u.transformer=n,u}return x(t,e),t.prototype.visitURL=function(e){return new Gt(this.transformer.transformURL(e.url,this.baseUrl))},t}(xt);function Un(e){var t={};return Object.keys(e).forEach((function(n){t[n]=Array.from(e[n])})),t}var zn,Vn=function(){function e(e,t){this.targetId=void 0,this.resolved=void 0,this.pageCounters=null,this.spineIndex=-1,this.pageIndex=-1,this.targetId=e,this.resolved=t}var t=e.prototype;return t.equals=function(e){return this===e||!!e&&this.targetId===e.targetId&&this.resolved===e.resolved&&this.spineIndex===e.spineIndex&&this.pageIndex===e.pageIndex},t.isResolved=function(){return this.resolved},t.resolve=function(){this.resolved=!0},t.unresolve=function(){this.resolved=!1},e}(),Hn=function(){function e(e,t){this.counterStore=void 0,this.baseURL=void 0,this.counterStore=e,this.baseURL=t}var t=e.prototype;return t.countersOfId=function(e,t){e=this.counterStore.documentURLTransformer.transformFragment(e,this.baseURL),this.counterStore.countersById[e]=t},t.getExprContentListener=function(){return this.counterStore.getExprContentListener()},e}(),Gn=function(){function e(e,t,n,u){this.counterStore=void 0,this.baseURL=void 0,this.rootScope=void 0,this.pageScope=void 0,this.styler=null,this.namedStringValues={},this.counterStore=e,this.baseURL=t,this.rootScope=n,this.pageScope=u}var t=e.prototype;return t.setStyler=function(e){this.styler=e},t.getFragment=function(e){var t=e.match(/^[^#]*#(.*)$/);return t?t[1]:null},t.getTransformedId=function(e){var t=this.counterStore.documentURLTransformer.transformURL($(e,this.baseURL),this.baseURL);return"#"===t.charAt(0)&&(t=t.substring(1)),t},t.getPageCounterVal=function(e,t){var n=this,u=new Et(this.pageScope,(function(){return t(function(){var t=n.counterStore.currentPageCounters[e];return t&&t.length?t[t.length-1]:null}())}),"page-counter-"+e);return this.counterStore.registerPageCounterExpr(e,(function(e){return t(e[0])}),u),u},t.getPageCountersVal=function(e,t){var n=this,u=new Et(this.pageScope,(function(){return t(n.counterStore.currentPageCounters[e]||[])}),"page-counters-"+e);return this.counterStore.registerPageCounterExpr(e,t,u),u},t.getTargetCounters=function(e,t,n){var u=this.counterStore.countersById[t];return!u&&n&&e&&(this.styler.styleUntilIdIsReached(e),u=this.counterStore.countersById[t]),u||null},t.getTargetPageCounters=function(e){return this.counterStore.currentPage.elementsById[e]?this.counterStore.currentPageCounters:this.counterStore.pageCountersById[e]||null},t.getTargetCounterVal=function(e,t,n){var u=this,i=this.getFragment(e),r=this.getTransformedId(e),o=this.getTargetCounters(i,r,!1);if(o&&o[t]){var a=o[t];return new Ft(this.rootScope,n(a[a.length-1]||null))}return new Et(this.pageScope,(function(){if(o=u.getTargetCounters(i,r,!0)){if(o[t]){var e=o[t];return n(e[e.length-1]||null)}var a=u.getTargetPageCounters(r);if(a){if(u.counterStore.resolveReference(r),a[t]){var s=a[t];return n(s[s.length-1]||null)}return n(0)}return u.counterStore.saveReferenceOfCurrentPage(r,!1),"??"}return u.counterStore.saveReferenceOfCurrentPage(r,!1),"??"}),"target-counter-"+t+"-of-"+e)},t.getTargetCountersVal=function(e,t,n){var u=this,i=this.getFragment(e),r=this.getTransformedId(e);return new Et(this.pageScope,(function(){var e=u.getTargetPageCounters(r);if(e){u.counterStore.resolveReference(r);var o=e[t]||[],a=u.getTargetCounters(i,r,!0);return n(o.concat(a[t]||[]))}return u.counterStore.saveReferenceOfCurrentPage(r,!1),"??"}),"target-counters-"+t+"-of-"+e)},t.getNamedStringVal=function(e,t){var n=this;return new Et(this.pageScope,(function(){var u=n.namedStringValues[e];if(!u)return"";for(var i=Object.keys(u).map((function(e){return parseInt(e,10)})).sort(fe),r=n.counterStore.currentPage,o=r.isBlankPage?r.offset-1:r.offset,a=r.isBlankPage?o:Math.max.apply(Math,[o].concat(Array.from(r.container.querySelectorAll("[data-adapt-eloff]")).map((function(e){return parseInt(e.getAttribute("data-adapt-eloff"),10)})))),s=-1,l=-1,c=-1,D=-1,h=0;h<i.length;h++){var f=i[h],d=h>0?i[h-1]:-1,p=h<i.length-1?i[h+1]:-1;if(f>a)break;if(f>=o){if(s<0&&(s=f,D=-1),l<0)if(f===o)l=f;else{d<s&&(l=d);var E=r.container.querySelector('[data-adapt-eloff="'+f+'"]');if(E){var C=r.container.querySelector('[data-adapt-eloff="'+o+'"]');if(C||(C=r.container.querySelector('[data-adapt-eloff="0"]')),C)for(var g=C;g;g=g.firstElementChild)if(g===E){l=f;break}}else l<0&&(l=f)}c=f}else(p>a||p<0)&&(s=l=c=D=f)}return u[{first:s,start:l,last:c,"first-except":D}[t]]||""}),"named-string-"+t+"-"+e)},t.setNamedString=function(e,t,n){(this.namedStringValues[e]||(this.namedStringValues[e]={}))[n.currentElementOffset]=t},e}(),Wn=function(){function e(e){this.documentURLTransformer=void 0,this.countersById={},this.pageCountersById={},this.currentPageCounters={},this.previousPageCounters={},this.currentPageCountersStack=[],this.pageIndicesById={},this.currentPage=null,this.newReferencesOfCurrentPage=[],this.referencesToSolve=[],this.referencesToSolveStack=[],this.unresolvedReferences={},this.resolvedReferences={},this.pagesCounterExprs=[],this.documentURLTransformer=e,this.currentPageCounters.page=[0]}var t=e.prototype;return t.createCounterListener=function(e){return new Hn(this,e)},t.createCounterResolver=function(e,t,n){return new Gn(this,e,t,n)},t.setCurrentPage=function(e){this.currentPage=e},t.definePageCounter=function(e,t){this.currentPageCounters[e]?this.currentPageCounters[e].push(t):this.currentPageCounters[e]=[t]},t.forceSetPageCounter=function(e){var t=this.currentPageCounters.page;t&&t.length?t[t.length-1]=e:this.currentPageCounters.page=[e]},t.updatePageCounters=function(e,t){var n;this.previousPageCounters=Un(this.currentPageCounters);var u,i=e["counter-reset"];if(i){var r=i.evaluate(t);r&&(n=_n(r,!0))}if(n)for(var o in n)this.definePageCounter(o,n[o]);var a=e["counter-increment"];if(a){var s=a.evaluate(t);s&&(u=_n(s,!1))}for(var l in u?"page"in u||(u.page=1):(u={}).page=1,u){this.currentPageCounters[l]||this.definePageCounter(l,0);var c=this.currentPageCounters[l];c[c.length-1]+=u[l]}},t.pushPageCounters=function(e){this.currentPageCountersStack.push(this.currentPageCounters),this.currentPageCounters=Un(e)},t.popPageCounters=function(){this.currentPageCounters=this.currentPageCountersStack.pop()},t.resolveReference=function(e){var t=this.unresolvedReferences[e],n=this.resolvedReferences[e];n||(n=this.resolvedReferences[e]=[]);for(var u=!1,i=0;i<this.referencesToSolve.length;){var r=this.referencesToSolve[i];if(r.targetId===e){if(r.resolve(),this.referencesToSolve.splice(i,1),t){var o=t.indexOf(r);o>=0&&t.splice(o,1)}n.push(r),u=!0}else i++}u||this.saveReferenceOfCurrentPage(e,!0)},t.saveReferenceOfCurrentPage=function(e,t){if(!this.newReferencesOfCurrentPage.some((function(t){return t.targetId===e}))){var n=new Vn(e,t);this.newReferencesOfCurrentPage.push(n)}},t.finishPage=function(e,t){var n=this,u=Object.keys(this.currentPage.elementsById);if(u.length>0){var i=Un(this.currentPageCounters);u.forEach((function(u){n.pageCountersById[u]=i;var r=n.pageIndicesById[u];if(r&&r.pageIndex<t){var o=n.resolvedReferences[u];if(o){var a,s=n.unresolvedReferences[u];for(s||(s=n.unresolvedReferences[u]=[]);a=o.shift();)a.unresolve(),s.push(a)}}n.pageIndicesById[u]={spineIndex:e,pageIndex:t}}))}for(var r,o=this.previousPageCounters;r=this.newReferencesOfCurrentPage.shift();){r.pageCounters=o,r.spineIndex=e,r.pageIndex=t;var a=void 0;r.isResolved()?(a=this.resolvedReferences[r.targetId])||(a=this.resolvedReferences[r.targetId]=[]):(a=this.unresolvedReferences[r.targetId])||(a=this.unresolvedReferences[r.targetId]=[]),a.every((function(e){return!r.equals(e)}))&&a.push(r)}this.currentPage=null},t.getUnresolvedRefsToPage=function(e){var t=this,n=[];Object.keys(e.elementsById).forEach((function(e){var u=t.unresolvedReferences[e];u&&(n=n.concat(u))})),n.sort((function(e,t){return e.spineIndex-t.spineIndex||e.pageIndex-t.pageIndex}));var u=[],i=null;return n.forEach((function(e){i&&i.spineIndex===e.spineIndex&&i.pageIndex===e.pageIndex?i.refs.push(e):u.push(i={spineIndex:e.spineIndex,pageIndex:e.pageIndex,pageCounters:e.pageCounters,refs:[e]})})),u},t.pushReferencesToSolve=function(e){this.referencesToSolveStack.push(this.referencesToSolve),this.referencesToSolve=e},t.popReferencesToSolve=function(){this.referencesToSolve=this.referencesToSolveStack.pop()},t.registerPageCounterExpr=function(e,t,n){"pages"===e&&this.pagesCounterExprs.push({expr:n,format:t})},t.getExprContentListener=function(){return this.exprContentListener.bind(this)},t.exprContentListener=function(e,t,n){if(this.pagesCounterExprs.findIndex((function(t){return t.expr===e}))>=0){var u=n.createElement("span");return u.textContent=t,u.setAttribute(Xn,e.key),u}return null},t.finishLastPage=function(e){for(var t,n=this,u=e.root.querySelectorAll("["+Xn+"]"),i=this.currentPageCounters.page[0],r=function(){var e=t.value,u=e.getAttribute(Xn),r=n.pagesCounterExprs.findIndex((function(e){return e.expr.key===u}));e.textContent=n.pagesCounterExprs[r].format([i])},o=_(u);!(t=o()).done;)r()},t.createLayoutConstraint=function(e){return new jn(this,e)},e}(),Xn="data-vivliostyle-pages-counter",jn=function(){function e(e,t){this.counterStore=void 0,this.pageIndex=void 0,this.counterStore=e,this.pageIndex=t}return e.prototype.allowLayout=function(e){if(!e||e.after)return!0;var t=e.viewNode;if(!t||1!==t.nodeType)return!0;var n=t.getAttribute("data-vivliostyle-id")||t.getAttribute("id")||t.getAttribute("name");if(!n)return!0;if(!this.counterStore.resolvedReferences[n]&&!this.counterStore.unresolvedReferences[n])return!0;var u=this.counterStore.pageIndicesById[n];return!u||this.pageIndex>=u.pageIndex},e}();function $n(e){if((e=e.substr(1)).match(/^[^0-9a-fA-F\n\r]$/))return e;var t=parseInt(e,16);return isNaN(t)?"":0===t||t>=55296&&t<=57343||t>1114111?"\ufffd":String.fromCodePoint(t)}function qn(e){return e.replace(/\\([0-9a-fA-F]{1,6}(\r\n|[ \n\r\t\f])?|[^0-9a-fA-F\n\r])/g,$n)}!function(e){e[e.EOF=0]="EOF",e[e.IDENT=1]="IDENT",e[e.STR=2]="STR",e[e.NUMERIC=3]="NUMERIC",e[e.NUM=4]="NUM",e[e.INT=5]="INT",e[e.FUNC=6]="FUNC",e[e.HASH=7]="HASH",e[e.URL=8]="URL",e[e.CLASS=9]="CLASS",e[e.O_PAR=10]="O_PAR",e[e.C_PAR=11]="C_PAR",e[e.O_BRC=12]="O_BRC",e[e.C_BRC=13]="C_BRC",e[e.O_BRK=14]="O_BRK",e[e.C_BRK=15]="C_BRK",e[e.COMMA=16]="COMMA",e[e.SEMICOL=17]="SEMICOL",e[e.COLON=18]="COLON",e[e.SLASH=19]="SLASH",e[e.AT=20]="AT",e[e.PERCENT=21]="PERCENT",e[e.QMARK=22]="QMARK",e[e.PLUS=23]="PLUS",e[e.MINUS=24]="MINUS",e[e.BAR_BAR=25]="BAR_BAR",e[e.AMP_AMP=26]="AMP_AMP",e[e.URANGE=27]="URANGE",e[e.BANG=31]="BANG",e[e.DOLLAR=32]="DOLLAR",e[e.HAT=33]="HAT",e[e.BAR=34]="BAR",e[e.TILDE=35]="TILDE",e[e.STAR=36]="STAR",e[e.GT=37]="GT",e[e.LT=38]="LT",e[e.EQ=39]="EQ",e[e.BANG_EQ=41]="BANG_EQ",e[e.DOLLAR_EQ=42]="DOLLAR_EQ",e[e.HAT_EQ=43]="HAT_EQ",e[e.BAR_EQ=44]="BAR_EQ",e[e.TILDE_EQ=45]="TILDE_EQ",e[e.STAR_EQ=46]="STAR_EQ",e[e.GT_EQ=47]="GT_EQ",e[e.LT_EQ=48]="LT_EQ",e[e.EQ_EQ=49]="EQ_EQ",e[e.COL_COL=50]="COL_COL",e[e.CDO=51]="CDO",e[e.CDC=52]="CDC",e[e.UNKNOWN=53]="UNKNOWN",e[e.INVALID=54]="INVALID",e[e.LAST=54]="LAST"}(zn||(zn={}));var Yn,Kn=function(){function e(){this.type=void 0,this.precededBySpace=!1,this.num=0,this.text="",this.position=0,this.type=zn.EOF}return e.prototype.toString=function(){switch(this.type){case zn.O_PAR:return"(";case zn.C_PAR:return")";case zn.O_BRC:return"{";case zn.C_BRC:return"}";case zn.O_BRK:return"[";case zn.C_BRK:return"]";case zn.COMMA:return",";case zn.SEMICOL:return";";case zn.COLON:return":";case zn.SLASH:return"/";case zn.PERCENT:return"%";case zn.QMARK:return"?";case zn.PLUS:return"+";case zn.MINUS:return"-";case zn.BAR_BAR:return"||";case zn.AMP_AMP:return"&&";case zn.BANG:return"!";case zn.DOLLAR:return"$";case zn.HAT:return"^";case zn.BAR:return"|";case zn.TILDE:return"~";case zn.STAR:return"*";case zn.GT:return">";case zn.LT:return"<";case zn.EQ:return"=";case zn.BANG_EQ:return"!=";case zn.DOLLAR_EQ:return"$=";case zn.HAT_EQ:return"^=";case zn.BAR_EQ:return"|=";case zn.TILDE_EQ:return"~=";case zn.STAR_EQ:return"*=";case zn.GT_EQ:return">=";case zn.LT_EQ:return"<=";case zn.EQ_EQ:return"==";case zn.COL_COL:return"::";case zn.CDO:return"\x3c!--";case zn.CDC:return"--\x3e";case zn.NUMERIC:return this.num.toString()+this.text;case zn.NUM:case zn.INT:return this.num.toString();case zn.AT:return"@"+this.text;case zn.HASH:return"#"+this.text;case zn.FUNC:return this.text+"(";case zn.CLASS:return"."+this.text;case zn.EOF:return"/*EOF*/";default:return this.text}},e}();function Qn(e,t){var n,u=Array(128);for(n=0;n<128;n++)u[n]=e;for(u.NaN=e==Yn.END?Yn.END:Yn.INVALID,n=0;n<t.length;n+=2)u[t[n]]=t[n+1];return u}!function(e){e[e.SPACE=1]="SPACE",e[e.INT=2]="INT",e[e.IDENT=3]="IDENT",e[e.BANG=4]="BANG",e[e.HASH=6]="HASH",e[e.DOLLAR=7]="DOLLAR",e[e.PERCENT=8]="PERCENT",e[e.AMP=9]="AMP",e[e.O_PAR=10]="O_PAR",e[e.C_PAR=11]="C_PAR",e[e.STAR=12]="STAR",e[e.PLUS=13]="PLUS",e[e.COMMA=14]="COMMA",e[e.MINUS=15]="MINUS",e[e.DOT=16]="DOT",e[e.SLASH=17]="SLASH",e[e.COLON=18]="COLON",e[e.SEMICOL=19]="SEMICOL",e[e.LT=20]="LT",e[e.EQ=21]="EQ",e[e.GT=22]="GT",e[e.QMARK=23]="QMARK",e[e.AT=24]="AT",e[e.O_BRK=25]="O_BRK",e[e.C_BRK=26]="C_BRK",e[e.O_BRC=27]="O_BRC",e[e.C_BRC=28]="C_BRC",e[e.BSLASH=29]="BSLASH",e[e.HAT=30]="HAT",e[e.BAR=31]="BAR",e[e.TILDE=32]="TILDE",e[e.STR1=33]="STR1",e[e.STR2=34]="STR2",e[e.END=35]="END",e[e.EQTAIL=36]="EQTAIL",e[e.ENDINT=37]="ENDINT",e[e.ENDNUM=38]="ENDNUM",e[e.CONT=39]="CONT",e[e.UNIT=40]="UNIT",e[e.PCUNIT=41]="PCUNIT",e[e.NUMBER=42]="NUMBER",e[e.ENDIDNT=43]="ENDIDNT",e[e.IDNTESC=44]="IDNTESC",e[e.ENDIDES=45]="ENDIDES",e[e.ENDSTR=46]="ENDSTR",e[e.ENDESTR=47]="ENDESTR",e[e.STR1ESC=48]="STR1ESC",e[e.STR2ESC=49]="STR2ESC",e[e.BAR_BAR=50]="BAR_BAR",e[e.AMP_AMP=51]="AMP_AMP",e[e.FUNC=52]="FUNC",e[e.FUNCES=53]="FUNCES",e[e.COMMENT=54]="COMMENT",e[e.COMMST=55]="COMMST",e[e.ENDNOTK=56]="ENDNOTK",e[e.MINMIN=57]="MINMIN",e[e.TOINT=58]="TOINT",e[e.TONUM=59]="TONUM",e[e.TOIDENT=60]="TOIDENT",e[e.TOIDES=61]="TOIDES",e[e.KILL1=62]="KILL1",e[e.KILL2=63]="KILL2",e[e.URL=64]="URL",e[e.URL1=65]="URL1",e[e.URL2=66]="URL2",e[e.ENDURL=67]="ENDURL",e[e.TERMURL=68]="TERMURL",e[e.FINURL=69]="FINURL",e[e.LT_BG=70]="LT_BG",e[e.LT_BG_M=71]="LT_BG_M",e[e.INVALID=72]="INVALID",e[e.CHKPOSS=73]="CHKPOSS",e[e.CHKPOSN=74]="CHKPOSN",e[e.URLESC=75]="URLESC",e[e.IDESCH=76]="IDESCH",e[e.COL_COL=77]="COL_COL",e[e.TOCLASS=78]="TOCLASS",e[e.CHKSP=79]="CHKSP",e[e.EOF=80]="EOF",e[e.CDO=81]="CDO",e[e.CDC=82]="CDC"}(Yn||(Yn={}));var Zn=[Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.SPACE,Yn.SPACE,Yn.INVALID,Yn.SPACE,Yn.SPACE,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.SPACE,Yn.BANG,Yn.STR2,Yn.HASH,Yn.DOLLAR,Yn.PERCENT,Yn.AMP,Yn.STR1,Yn.O_PAR,Yn.C_PAR,Yn.STAR,Yn.PLUS,Yn.COMMA,Yn.MINUS,Yn.DOT,Yn.SLASH,Yn.INT,Yn.INT,Yn.INT,Yn.INT,Yn.INT,Yn.INT,Yn.INT,Yn.INT,Yn.INT,Yn.INT,Yn.COLON,Yn.SEMICOL,Yn.LT,Yn.EQ,Yn.GT,Yn.QMARK,Yn.AT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.O_BRK,Yn.BSLASH,Yn.C_BRK,Yn.HAT,Yn.IDENT,Yn.INVALID,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.IDENT,Yn.O_BRC,Yn.BAR,Yn.C_BRC,Yn.TILDE,Yn.INVALID];Zn.NaN=Yn.EOF;var Jn=[Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.FUNC,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.CONT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.ENDIDNT,Yn.IDNTESC,Yn.ENDIDNT,Yn.ENDIDNT,Yn.CONT,Yn.ENDIDNT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT,Yn.ENDIDNT];Jn.NaN=Yn.ENDIDNT;var eu=[Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.TOCLASS,Yn.TONUM,Yn.INVALID,Yn.TONUM,Yn.TONUM,Yn.TONUM,Yn.TONUM,Yn.TONUM,Yn.TONUM,Yn.TONUM,Yn.TONUM,Yn.TONUM,Yn.TONUM,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.INVALID,Yn.TOIDES,Yn.INVALID,Yn.INVALID,Yn.TOCLASS,Yn.INVALID,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.TOCLASS,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID,Yn.INVALID];Jn.NaN=Yn.ENDIDNT;var tu=[Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.MINMIN,Yn.TONUM,Yn.END,Yn.TOINT,Yn.TOINT,Yn.TOINT,Yn.TOINT,Yn.TOINT,Yn.TOINT,Yn.TOINT,Yn.TOINT,Yn.TOINT,Yn.TOINT,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.END,Yn.TOIDES,Yn.END,Yn.END,Yn.TOIDENT,Yn.END,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.TOIDENT,Yn.END,Yn.END,Yn.END,Yn.END,Yn.END];tu.NaN=Yn.END;var nu=[Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.CHKPOSS,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.CHKPOSS,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.FUNCES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.ENDIDES,Yn.IDNTESC,Yn.ENDIDES,Yn.ENDIDES,Yn.CONT,Yn.ENDIDES,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES,Yn.ENDIDES];nu.NaN=Yn.ENDIDES;var uu=[Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.PCUNIT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.NUMBER,Yn.ENDINT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.UNIT,Yn.ENDINT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT,Yn.ENDINT];uu.NaN=Yn.ENDINT;var iu=[Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.PCUNIT,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.CONT,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.UNIT,Yn.ENDNUM,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.UNIT,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM,Yn.ENDNUM];iu.NaN=Yn.ENDNUM;var ru,ou=Qn(Yn.END,[61,Yn.EQTAIL]),au=Qn(Yn.END,[58,Yn.COL_COL]),su=Qn(Yn.END,[61,Yn.EQTAIL,124,Yn.BAR_BAR]),lu=Qn(Yn.END,[38,Yn.AMP_AMP]),cu=Qn(Yn.END,[42,Yn.COMMENT]),Du=Qn(Yn.CONT,[42,Yn.COMMST]),hu=Qn(Yn.COMMENT,[42,Yn.COMMST,47,Yn.ENDNOTK]),fu=Qn(Yn.KILL1,[62,Yn.CDC]),du=Qn(Yn.END,[61,Yn.EQTAIL,33,Yn.LT_BG]),pu=Qn(Yn.KILL1,[45,Yn.LT_BG_M]),Eu=Qn(Yn.KILL2,[45,Yn.CDO]),Cu=Qn(Yn.IDESCH,[10,Yn.INVALID,13,Yn.INVALID]),gu=Qn(Yn.CONT,[39,Yn.ENDSTR,10,Yn.INVALID,13,Yn.INVALID,92,Yn.STR1ESC]),Fu=Qn(Yn.CONT,[34,Yn.ENDSTR,10,Yn.INVALID,13,Yn.INVALID,92,Yn.STR2ESC]),vu=Qn(Yn.CONT,[39,Yn.ENDESTR,10,Yn.CHKPOSN,13,Yn.CHKPOSN,92,Yn.STR1ESC]),mu=Qn(Yn.CONT,[34,Yn.ENDESTR,10,Yn.CHKPOSN,13,Yn.CHKPOSN,92,Yn.STR2ESC]),Au=Qn(Yn.URL,[9,Yn.CONT,32,Yn.CONT,34,Yn.URL2,39,Yn.URL1,41,Yn.INVALID,10,Yn.CONT,13,Yn.CONT]),yu=Qn(Yn.CONT,[41,Yn.ENDURL,9,Yn.CHKSP,10,Yn.CHKSP,13,Yn.CHKSP,32,Yn.CHKSP,92,Yn.URLESC,40,Yn.INVALID,91,Yn.INVALID,93,Yn.INVALID,123,Yn.INVALID,125,Yn.INVALID,NaN,Yn.ENDURL]),Bu=Qn(Yn.CONT,[39,Yn.TERMURL,10,Yn.CHKPOSN,13,Yn.CHKPOSN,92,Yn.URLESC,NaN,Yn.ENDURL]),bu=Qn(Yn.CONT,[34,Yn.TERMURL,10,Yn.CHKPOSN,13,Yn.CHKPOSN,92,Yn.URLESC,NaN,Yn.ENDURL]),wu=Qn(Yn.INVALID,[9,Yn.CONT,10,Yn.CONT,13,Yn.CONT,32,Yn.CONT,41,Yn.FINURL]),Su=function(){function e(e,t){this.input=void 0,this.handler=void 0,this.indexMask=void 0,this.buffer=void 0,this.tail=0,this.curr=0,this.position=0,this.input=e,this.handler=t,this.indexMask=15,this.buffer=Array(this.indexMask+1);for(var n=0;n<=this.indexMask;n++)this.buffer[n]=new Kn}var t=e.prototype;return t.token=function(){return this.tail==this.curr&&this.fillBuffer(),this.buffer[this.curr]},t.nthToken=function(e){return(this.tail-this.curr&this.indexMask)<=e&&this.fillBuffer(),this.buffer[this.curr+e&this.indexMask]},t.consume=function(){this.curr=this.curr+1&this.indexMask},t.fillBuffer=function(){var e=this.tail,t=this.curr,n=this.indexMask;if(e>=t?t+=n:t--,t==e)throw new Error("F_CSSTOK_INTERNAL");for(var u=Zn,i=this.input,r=this.position,o=this.buffer,a=zn.EOF,s=0,l="",c=0,D=!1,h=o[e],f=-9;;){var d=i.charCodeAt(r);switch(u[d]||u[65]){case Yn.INVALID:l=i.substring(s,r),a=isNaN(d)?zn.EOF:zn.INVALID,u=Zn;break;case Yn.SPACE:r++,D=!0;continue;case Yn.INT:s=r++,u=uu;continue;case Yn.IDENT:a=zn.IDENT,s=r++,u=Jn;continue;case Yn.BANG:s=r++,a=zn.BANG,u=ou;continue;case Yn.STR1:a=zn.STR,s=++r,u=gu;continue;case Yn.STR2:a=zn.STR,s=++r,u=Fu;continue;case Yn.HASH:s=++r,a=zn.HASH,u=Jn;continue;case Yn.DOLLAR:s=r++,a=zn.DOLLAR,u=ou;continue;case Yn.PERCENT:s=r++,a=zn.PERCENT;break;case Yn.AMP:s=r++,a=zn.DOLLAR,u=lu;continue;case Yn.O_PAR:s=r++,a=zn.O_PAR;break;case Yn.C_PAR:s=r++,a=zn.C_PAR;break;case Yn.STAR:s=r++,a=zn.STAR,u=ou;continue;case Yn.PLUS:s=r++,a=zn.PLUS;break;case Yn.COMMA:s=r++,a=zn.COMMA;break;case Yn.MINUS:a=zn.MINUS,s=r++,u=tu;continue;case Yn.DOT:s=r++,u=eu;continue;case Yn.TOCLASS:s=r++,a=zn.CLASS,u=Jn;continue;case Yn.SLASH:s=r++,a=zn.SLASH,u=cu;continue;case Yn.COLON:s=r++,a=zn.COLON,u=au;continue;case Yn.COL_COL:r++,a=zn.COL_COL;break;case Yn.SEMICOL:s=r++,a=zn.SEMICOL;break;case Yn.LT:s=r++,a=zn.LT,u=du;continue;case Yn.EQ:s=r++,a=zn.EQ,u=ou;continue;case Yn.GT:s=r++,a=zn.GT,u=ou;continue;case Yn.QMARK:s=r++,a=zn.QMARK;break;case Yn.AT:s=++r,a=zn.AT,u=Jn;continue;case Yn.O_BRK:s=r++,a=zn.O_BRK;break;case Yn.C_BRK:s=r++,a=zn.C_BRK;break;case Yn.O_BRC:s=r++,a=zn.O_BRC;break;case Yn.C_BRC:s=r++,a=zn.C_BRC;break;case Yn.BSLASH:f=s=r++,a=zn.IDENT,u=Cu;continue;case Yn.HAT:s=r++,a=zn.HAT,u=ou;continue;case Yn.BAR:s=r++,a=zn.BAR,u=su;continue;case Yn.TILDE:s=r++,a=zn.TILDE,u=ou;continue;case Yn.END:break;case Yn.EQTAIL:r++,a=a+zn.BANG_EQ-zn.BANG;break;case Yn.ENDINT:a=zn.INT,c=parseInt(i.substring(s,r),10);break;case Yn.ENDNUM:a=zn.NUM,c=parseFloat(i.substring(s,r));break;case Yn.CONT:r++;continue;case Yn.UNIT:a=zn.NUMERIC,c=parseFloat(i.substring(s,r)),s=r++,u=Jn;continue;case Yn.PCUNIT:a=zn.NUMERIC,c=parseFloat(i.substring(s,r)),l="%",s=r++;break;case Yn.NUMBER:r++,u=iu;continue;case Yn.ENDIDNT:if(l=qn(i.substring(s,r)),a===zn.URANGE&&63===d||a===zn.IDENT&&"u"===l.toLowerCase()&&/^(\bu\+[?0-9a-f]+(-[?0-9a-f]+)?|,|\s+|\/\*([^*]|\*[^/])*\*\/)+[;}]/i.test(i.substring(r-1))){a=zn.URANGE,r++;continue}break;case Yn.IDNTESC:f=r++,u=Cu;continue;case Yn.ENDIDES:l=qn(i.substring(s,r));break;case Yn.ENDSTR:l=i.substring(s,r),r++;break;case Yn.ENDESTR:l=qn(i.substring(s,r)),r++;break;case Yn.STR1ESC:f=r,r+=2,u=vu;continue;case Yn.STR2ESC:f=r,r+=2,u=mu;continue;case Yn.BAR_BAR:r++,a=zn.BAR_BAR;break;case Yn.AMP_AMP:r++,a=zn.AMP_AMP;break;case Yn.FUNC:if(l=i.substring(s,r),a==zn.IDENT){if(r++,"url"==l.toLowerCase()){u=Au;continue}a=zn.FUNC}break;case Yn.FUNCES:if(l=qn(i.substring(s,r)),a==zn.IDENT){if(r++,"url"==l.toLowerCase()){u=Au;continue}a=zn.FUNC}break;case Yn.COMMENT:u=Du,r++;continue;case Yn.COMMST:u=hu,r++;continue;case Yn.ENDNOTK:u=Zn,r++;continue;case Yn.MINMIN:u=fu,">"!==i[++r]&&(a=zn.IDENT,u=Jn);continue;case Yn.CDO:a=zn.CDO,l=i.substring(s,++r),u=Zn;break;case Yn.CDC:a=zn.CDC,l=i.substring(s,++r),u=Zn;break;case Yn.TOINT:a=zn.INT,u=uu,r++;continue;case Yn.TONUM:a=zn.NUM,u=iu,r++;continue;case Yn.TOIDENT:a=zn.IDENT,u=Jn,r++;continue;case Yn.TOIDES:a=zn.IDENT,u=Cu,f=r++;continue;case Yn.KILL1:r--;break;case Yn.KILL2:r-=2;break;case Yn.URL:s=r++,u=yu;continue;case Yn.URL1:s=++r,u=Bu;continue;case Yn.URL2:s=++r,u=bu;continue;case Yn.ENDURL:a=zn.URL,l=qn(i.substring(s,r)),r++;break;case Yn.FINURL:r++;break;case Yn.LT_BG:u=pu,r++;continue;case Yn.LT_BG_M:u=Eu,r++;continue;case Yn.CHKSP:if(r-f<8&&i.substring(f+1,r+1).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])|[ \t]$/)){r++;continue}case Yn.TERMURL:a=zn.URL,l=qn(i.substring(s,r)),r++,u=wu;continue;case Yn.CHKPOSN:if(++r-f<9&&i.substring(f+1,r).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])$/))continue;a=zn.INVALID,l="E_CSS_UNEXPECTED_NEWLINE",u=Zn;break;case Yn.CHKPOSS:if(r-f<9&&i.substring(f+1,r+1).match(/^[0-9a-fA-F]{0,6}[ \t]$/)){r++,u=Jn;continue}l=qn(i.substring(s,r));break;case Yn.URLESC:f=r++;continue;case Yn.IDESCH:r++,u=nu;continue;default:if(u!==Zn){a=zn.INVALID,l="E_CSS_UNEXPECTED_STATE";break}s=r,a=zn.EOF}if(h.type=a,h.precededBySpace=D,h.num=c,h.text=l,h.position=s,++e>=t)break;u=Zn,D=!1,h=o[e&n]}this.position=r,this.tail=e&n},e}(),Nu=null,xu=null;function Tu(){return Nu}function ku(e){if(!Nu)throw new Error("E_TASK_NO_CONTEXT");Nu.name||(Nu.name=e);var t=Nu,n=new zu(t,t.top,e);return t.top=n,n.state=ru.ACTIVE,n}function Iu(e){return new Mu(e)}function Pu(e,t,n){var u=ku(e);u.handler=n;try{t(u)}catch(e){u.task.raise(e,u)}return u.result()}!function(e){e[e.INIT=0]="INIT",e[e.ACTIVE=1]="ACTIVE",e[e.FINISHED=2]="FINISHED",e[e.DEAD=3]="DEAD"}(ru||(ru={}));var Ru=function(){function e(){}var t=e.prototype;return t.currentTime=function(){return(new Date).valueOf()},t.setTimeout=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return setTimeout(e,t)})),t.clearTimeout=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){clearTimeout(e)})),e}(),Lu=function(){function e(e){this.timer=void 0,this.timeout=1,this.slice=25,this.sliceOverTime=0,this.queue=void 0,this.wakeupTime=null,this.timeoutToken=null,this.inTimeSlice=!1,this.order=0,this.timer=e,this.queue=new K,xu||(xu=this)}var t=e.prototype;return t.setSlice=function(e){this.slice=e},t.setTimeout=function(e){this.timeout=e},t.isTimeSliceOver=function(){return this.timer.currentTime()>=this.sliceOverTime},t.arm=function(){var e=this;if(!this.inTimeSlice){var t=this.queue.peek().scheduledTime,n=this.timer.currentTime();if(null!=this.timeoutToken){if(n+this.timeout>this.wakeupTime)return;this.timer.clearTimeout(this.timeoutToken)}var u=t-n;u<=this.timeout&&(u=this.timeout),this.wakeupTime=n+u,this.timeoutToken=this.timer.setTimeout((function(){e.timeoutToken=null,e.doTimeSlice()}),u)}},t.schedule=function(e,t){var n=e,u=this.timer.currentTime();n.order=this.order++,n.scheduledTime=u+(t||0),this.queue.add(n),this.arm()},t.doTimeSlice=function(){null!=this.timeoutToken&&(this.timer.clearTimeout(this.timeoutToken),this.timeoutToken=null),this.inTimeSlice=!0;try{var e=this.timer.currentTime();for(this.sliceOverTime=e+this.slice;this.queue.length();){var t=this.queue.peek();if(t.scheduledTime>e)break;if(this.queue.remove(),t.canceled||t.resumeInternal(),(e=this.timer.currentTime())>=this.sliceOverTime)break}}catch(e){f.error(e)}this.inTimeSlice=!1,this.queue.length()&&this.arm()},t.run=function(e,t){var n=new _u(this,t||"");n.top=new zu(n,null,"bootstrap"),n.top.state=ru.ACTIVE,n.top.then((function(){var t=function(){n.running=!1;for(var e,t=_(n.callbacks);!(e=t()).done;){var u=e.value;try{u()}catch(e){f.error(e)}}};try{e().then((function(e){n.result=e,t()}))}catch(e){n.raise(e),t()}}));var u=Nu;return Nu=n,this.schedule(n.top.suspend("bootstrap")),Nu=u,n},e}(),Ou=function(){function e(e){this.task=void 0,this.scheduledTime=0,this.order=0,this.result=null,this.canceled=!1,this.task=e}var t=e.prototype;return t.compare=function(e){return e.scheduledTime-this.scheduledTime||e.order-this.order},t.getTask=function(){return this.task},t.schedule=function(e,t){this.result=e,this.task.scheduler.schedule(this,t)},t.resumeInternal=function(){var e=this.task;if(this.task=null,e&&e.continuation==this){e.continuation=null;var t=Nu;return Nu=e,e.top.finish(this.result),Nu=t,!0}return!1},t.cancel=function(){this.canceled=!0},e}(),_u=function(){function e(e,t){this.scheduler=void 0,this.name=void 0,this.callbacks=[],this.exception=null,this.running=!0,this.result=null,this.waitTarget=null,this.top=null,this.continuation=null,this.scheduler=e,this.name=t}var t=e.prototype;return t.getName=function(){return this.name},t.interrupt=function(e){if(this.raise(e||new Error("E_TASK_INTERRUPT")),this!==Nu&&this.continuation){this.continuation.cancel();var t=new Ou(this);this.waitTarget="interrupt",this.continuation=t,this.scheduler.schedule(t)}},t.getScheduler=function(){return this.scheduler},t.isRunning=function(){return this.running},t.whenDone=function(e){this.callbacks.push(e)},t.join=function(){var e=this,t=ku("Task.join");if(this.running){var n=t.suspend(this);this.whenDone((function(){n.schedule(e.result)}))}else t.finish(this.result);return t.result()},t.unwind=function(){for(;this.top&&!this.top.handler;)this.top=this.top.parent;if(this.top&&this.top.handler&&this.exception){var e=this.exception;this.exception=null,this.top.handler(this.top,e)}else this.exception&&f.error(this.exception,"Unhandled exception in task",this.name)},t.raise=function(e,t){if(this.fillStack(e),t){for(var n=this.top;n&&n!=t;)n=n.parent;n==t&&(this.top=n)}this.exception=e,this.unwind()},t.fillStack=function(e){var t=e.frameTrace;if(!t){t=e.stack?e.stack+"\n\t---- async ---\n":"";for(var n=this.top;n;n=n.parent)t+="\t",t+=n.getName(),t+="\n";e.frameTrace=t}},e}(),Mu=function(){function e(e){this.value=void 0,this.value=e}var t=e.prototype;return t.then=function(e){e(this.value)},t.thenAsync=function(e){return e(this.value)},t.thenReturn=function(t){return new e(t)},t.thenFinish=function(e){e.finish(this.value)},t.isPending=function(){return!1},t.get=function(){return this.value},e}(),Uu=function(){function e(e){this.frame=void 0,this.frame=e}var t=e.prototype;return t.then=function(e){this.frame.then(e)},t.thenAsync=function(e){if(this.isPending()){var t=new zu(this.frame.task,this.frame.parent,"AsyncResult.thenAsync");return t.state=ru.ACTIVE,this.frame.parent=t,this.frame.then((function(n){e(n).then((function(e){t.finish(e)}))})),t.result()}return e(this.frame.res)},t.thenReturn=function(e){return this.isPending()?this.thenAsync((function(){return new Mu(e)})):new Mu(e)},t.thenFinish=function(e){this.isPending()?this.then((function(t){e.finish(t)})):e.finish(this.frame.res)},t.isPending=function(){return this.frame.state==ru.ACTIVE},t.get=function(){if(this.isPending())throw new Error("Result is pending");return this.frame.res},e}(),zu=function(){function e(e,t,n){this.task=void 0,this.parent=void 0,this.name=void 0,this.res=null,this.state=void 0,this.callback=null,this.handler=null,this.task=e,this.parent=t,this.name=n,this.state=ru.INIT}var t=e.prototype;return t.checkEnvironment=function(){if(!Nu)throw new Error("F_TASK_NO_CONTEXT");if(this!==Nu.top)throw new Error("F_TASK_NOT_TOP_FRAME")},t.result=function(){return new Uu(this)},t.finish=function(e){this.checkEnvironment(),Nu&&!Nu.exception&&(this.res=e),this.state=ru.FINISHED;var t=this.parent;if(Nu&&(Nu.top=t),this.callback){try{this.callback(e)}catch(e){this.task.raise(e,t)}this.state=ru.DEAD}},t.getTask=function(){return this.task},t.getName=function(){return this.name},t.getScheduler=function(){return this.task.scheduler},t.then=function(e){switch(this.state){case ru.ACTIVE:if(this.callback)throw new Error("F_TASK_FRAME_ALREADY_HAS_CALLBACK");this.callback=e;break;case ru.FINISHED:var t=this.task,n=this.parent;try{e(this.res),this.state=ru.DEAD}catch(e){this.state=ru.DEAD,t.raise(e,n)}break;case ru.DEAD:throw new Error("F_TASK_DEAD_FRAME");default:throw new Error("F_TASK_UNEXPECTED_FRAME_STATE "+this.state)}},t.timeSlice=function(){var e=ku("Frame.timeSlice");return e.getScheduler().isTimeSliceOver()?(f.debug("-- time slice --"),e.suspend().schedule(!0)):e.finish(!0),e.result()},t.sleep=function(e){var t=ku("Frame.sleep");return t.suspend().schedule(!0,e),t.result()},t.loop=function(e){var t=ku("Frame.loop");return function n(u){try{for(;u;){var i=e();if(i.isPending())return void i.then(n);i.then((function(e){u=e}))}t.finish(!0)}catch(e){t.task.raise(e,t)}}(!0),t.result()},t.loopWithFrame=function(e){var t=Nu;if(!t)throw new Error("E_TASK_NO_CONTEXT");return this.loop((function(){var n;do{var u=new Vu(t,t.top);t.top=u,u.state=ru.ACTIVE,e(u),n=u.result()}while(!n.isPending()&&n.get());return n}))},t.suspend=function(e){if(this.checkEnvironment(),this.task.continuation)throw new Error("E_TASK_ALREADY_SUSPENDED");var t=new Ou(this.task);return this.task.continuation=t,Nu=null,this.task.waitTarget=e||null,t},e}(),Vu=function(e){function t(t,n){return e.call(this,t,n,"loop")||this}x(t,e);var n=t.prototype;return n.continueLoop=function(){this.finish(!0)},n.breakLoop=function(){this.finish(!1)},t}(zu),Hu=function(){function e(e,t){this.fetch=void 0,this.name=void 0,this.arrived=!1,this.resource=null,this.task=null,this.piggybacks=[],this.fetch=e,this.name=t}var t=e.prototype;return t.start=function(){var e=this;this.task||(this.task=Tu().getScheduler().run((function(){var t=ku("Fetcher.run");return e.fetch().then((function(n){var u=e.piggybacks;if(e.arrived=!0,e.resource=n,e.task=null,e.piggybacks=[],u)for(var i=0;i<u.length;i++)try{u[i](n)}catch(e){f.error(e,"Error:")}t.finish(n)})),t.result()}),this.name))},t.piggyback=function(e){this.arrived?e(this.resource):this.piggybacks.push(e)},t.get=function(){return this.arrived?Iu(this.resource):(this.start(),this.task.join())},t.hasArrived=function(){return this.arrived},e}(),Gu=function(e){if(0==e.length)return Iu(!0);if(1==e.length)return e[0].get().thenReturn(!0);var t=ku("waitForFetches"),n=0;return t.loop((function(){for(;n<e.length;){var t=e[n++];if(!t.hasArrived())return t.get().thenReturn(!0)}return Iu(!1)})).then((function(){t.finish(!0)})),t.result()};function Wu(e,t){var n=new Hu((function(){var n=ku("loadElement"),u=n.suspend(e),i=!1,r=function(e){i||(i=!0,u.schedule(e?e.type:"timeout"))};return e.addEventListener("load",r,!1),e.addEventListener("error",r,!1),e.addEventListener("abort",r,!1),e.namespaceURI==W.SVG?(t&&e.setAttributeNS(W.XLINK,"xlink:href",t),setTimeout(r,300)):"script"===e.localName?setTimeout(r,3e3):t&&(e.src=t),n.result()}),"loadElement "+(t||e.localName));return n.start(),n}var Xu,ju='\n@media screen {\n  [data-vivliostyle-viewer-viewport] {\n    background: #aaaaaa;\n  }\n\n  [data-vivliostyle-page-container] {\n    background: white;\n    z-index: 0;\n  }\n\n  [data-vivliostyle-viewer-viewport] {\n    display: flex;\n    overflow: auto;\n    position: relative;\n  }\n\n  [data-vivliostyle-outer-zoom-box] {\n    margin: auto;\n    overflow: hidden;\n    flex: none;\n  }\n\n  [data-vivliostyle-viewer-viewport] [data-vivliostyle-spread-container] {\n    display: flex;\n    flex: none;\n    justify-content: center;\n    transform-origin: left top;\n  }\n\n  [data-vivliostyle-viewer-viewport][data-vivliostyle-page-progression="ltr"]\n    [data-vivliostyle-spread-container] {\n    flex-direction: row;\n  }\n\n  [data-vivliostyle-viewer-viewport][data-vivliostyle-page-progression="rtl"]\n    [data-vivliostyle-spread-container] {\n    flex-direction: row-reverse;\n  }\n\n  [data-vivliostyle-viewer-viewport] [data-vivliostyle-page-container] {\n    margin: 0 auto;\n    flex: none;\n    transform-origin: center top;\n  }\n\n  [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view="true"]\n    [data-vivliostyle-page-container][data-vivliostyle-page-side="left"] {\n    margin-right: 1px;\n    transform-origin: right top;\n  }\n\n  [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view="true"]\n    [data-vivliostyle-page-container][data-vivliostyle-page-side="right"] {\n    margin-left: 1px;\n    transform-origin: left top;\n  }\n\n  [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view="true"]\n    [data-vivliostyle-page-container][data-vivliostyle-unpaired-page="true"] {\n    margin-left: auto;\n    margin-right: auto;\n    transform-origin: center top;\n  }\n}\n',$u="\n[data-vivliostyle-layout-box] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  z-index: -1;\n  transform-origin: left top;\n}\n\n[data-vivliostyle-debug] [data-vivliostyle-layout-box] {\n  right: auto;\n  bottom: auto;\n  overflow: visible;\n  z-index: auto;\n}\n\n[data-vivliostyle-spread-container] {\n  transform: scale(var(--viv-outputScale,1));\n  transform-origin: left top;\n}\n\n/* Emulate high pixel ratio using zoom & transform:scale() */\n@supports (zoom: 8) {\n  [data-vivliostyle-layout-box] {\n    zoom: calc(var(--viv-outputPixelRatio,1) / var(--viv-devicePixelRatio,1));\n    transform: scale(calc(var(--viv-devicePixelRatio,1) / var(--viv-outputPixelRatio,1)));\n  }\n  [data-vivliostyle-spread-container] {\n    zoom: calc(var(--viv-outputPixelRatio,1) / var(--viv-devicePixelRatio,1));\n    transform: scale(calc(var(--viv-outputScale,1) * var(--viv-devicePixelRatio,1) / var(--viv-outputPixelRatio,1)));\n  }\n  /* Workaround for Chromium's default border etc. widths not zoomed but scaled down */\n  [data-vivliostyle-spread-container] :where([style*=border],[style*=outline],[style*=rule]) {\n    border-width: medium;\n    outline-width: medium;\n    column-rule-width: medium;\n  }\n  [data-vivliostyle-spread-container] ::-webkit-scrollbar {\n    width: 8px;\n    height: 8px;\n  }\n  [data-vivliostyle-spread-container] ::-webkit-scrollbar-track {\n    background-color: #f4f4f4;\n  }\n  [data-vivliostyle-spread-container] ::-webkit-scrollbar-thumb {\n    border-radius: 4px;\n    background: #c7c7c7;\n  }\n  [data-vivliostyle-spread-container] ::-webkit-scrollbar-thumb:hover {\n    background: #7d7d7d;\n  }\n}\n\n[data-vivliostyle-page-container] {\n  position: relative;\n  overflow: hidden;\n}\n\n[data-vivliostyle-bleed-box] {\n  position: absolute;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n\n[data-vivliostyle-page-box] ~ [data-vivliostyle-page-box] {\n  display: none;\n}\n\n[data-vivliostyle-toc-box] {\n  position: absolute;\n  left: 3px;\n  top: 3px;\n  overflow: scroll;\n  overflow-x: hidden;\n  background: rgba(248, 248, 248, 0.9);\n  border-radius: 2px;\n  box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.4);\n}\n\n@media print {\n  [data-vivliostyle-toc-box] {\n    display: none;\n  }\n\n  [data-vivliostyle-outer-zoom-box],\n  [data-vivliostyle-spread-container] {\n    width: 100% !important;\n    height: 100% !important;\n  }\n\n  [data-vivliostyle-spread-container] {\n    --viv-outputScale: 1 !important;\n    --viv-devicePixelRatio: 1 !important;\n  }\n\n  /* for Safari */\n  ::-webkit-full-page-media, [data-vivliostyle-spread-container] {\n    zoom: normal !important;\n    transform: none !important;\n  }\n\n  [data-vivliostyle-page-container] {\n    transform: none !important;\n  }\n\n  [data-vivliostyle-page-container] {\n    display: block !important;\n    max-height: 100vh;\n  }\n\n  [data-vivliostyle-page-container]:not(:last-child) {\n    break-after: page;\n  }\n\n  /* Gecko-only hack, see https://bugzilla.mozilla.org/show_bug.cgi?id=267029#c17 */\n  @-moz-document url-prefix()  {\n    [data-vivliostyle-page-container]:nth-last-child(n + 2) {\n      top: -1px;\n      margin-top: 1px;\n      margin-bottom: -1px;\n    }\n    /* Workaround Gecko problem on page break */\n    [data-vivliostyle-page-container] {\n      break-after: auto !important;\n      height: 100% !important;\n    }\n  }\n}\n",qu="\n/*\n * Copyright 2013 Google, Inc.\n * Copyright 2015 Trim-marks Inc.\n * Copyright 2019 Vivliostyle Foundation\n *\n * CSS property validation.\n */\nNUM = POS_NUM | ZERO | NEGATIVE;\nNNEG_NUM = POS_NUM | ZERO;\nINT = POS_INT | ZERO | NEGATIVE;\nNNEG_INT = POS_INT | ZERO;\nPERCENTAGE = POS_PERCENTAGE | ZERO | NEGATIVE;\nSTRICT_PERCENTAGE = POS_PERCENTAGE | ZERO_PERCENTAGE | NEGATIVE;\nNNEG_PERCENTAGE = POS_PERCENTAGE | ZERO;\nLENGTH = POS_LENGTH | ZERO | NEGATIVE;\nNNEG_LENGTH = POS_LENGTH | ZERO;\nPLENGTH = LENGTH | PERCENTAGE;\nPPLENGTH = POS_LENGTH | ZERO | POS_PERCENTAGE;\nALENGTH = LENGTH | auto;\nAPLENGTH = PLENGTH | auto;\nPAPLENGTH = PPLENGTH | auto;\nANGLE = POS_ANGLE | ZERO | NEGATIVE;\nLENGTH_OR_NUM = LENGTH | NUM;\nANGLE_OR_NUM = ANGLE | NUM;\nMIN_MAX_FIT_CONTENT = min-content | max-content | fit-content;\nBG_POSITION_TERM = PLENGTH | left | center | right | top | bottom;\nURI_OR_NONE = URI | none;\nIMAGE = URI | IMAGE_FUNCTION | none;\nbackground-attachment = COMMA( [scroll | fixed | local]+ );\nbackground-color = COLOR;\nbackground-image = COMMA( IMAGE+ );\nbackground-position = COMMA( SPACE(BG_POSITION_TERM{1,4})+ ); /* relaxed */\nbackground-repeat = COMMA( [repeat | repeat-x | repeat-y | no-repeat]+ );\nborder-collapse = collapse | separate;\nBORDER_SIDE_COLOR = COLOR;\nBORDER_SIDE_STYLE = none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset;\nBORDER_SIDE_WIDTH = thin: 1px | medium: 3px | thick: 5px | NNEG_LENGTH;\nborder-spacing = LENGTH LENGTH?;\nborder-top-color = BORDER_SIDE_COLOR;\nborder-right-color = BORDER_SIDE_COLOR;\nborder-bottom-color = BORDER_SIDE_COLOR;\nborder-left-color = BORDER_SIDE_COLOR;\nborder-top-style = BORDER_SIDE_STYLE;\nborder-right-style = BORDER_SIDE_STYLE;\nborder-bottom-style = BORDER_SIDE_STYLE;\nborder-left-style = BORDER_SIDE_STYLE;\nborder-top-width = BORDER_SIDE_WIDTH;\nborder-right-width = BORDER_SIDE_WIDTH;\nborder-bottom-width = BORDER_SIDE_WIDTH;\nborder-left-width = BORDER_SIDE_WIDTH;\nBORDER_RADIUS = PLENGTH{1,2};\nborder-top-left-radius = BORDER_RADIUS;\nborder-top-right-radius = BORDER_RADIUS;\nborder-bottom-right-radius = BORDER_RADIUS;\nborder-bottom-left-radius = BORDER_RADIUS;\nborder-image-source = IMAGE;\nborder-image-slice = [NUM | PERCENTAGE]{1,4} || fill; /* relaxed */\nborder-image-width = [NUM | PLENGTH | auto]{1,4};\nborder-image-outset = [NUM | LENGTH]{1,4};\nborder-image-repeat = [ stretch | repeat | round | space ]{1,2};\nbottom = APLENGTH;\ncaption-side = top | bottom;\nclear = none | left | right | top | bottom | both | all | same;\nclip = rect(ALENGTH{4}) | rect(SPACE(ALENGTH{4})) | auto;\ncolor = COLOR;\nLIST_STYLE_TYPE = disc | circle | square | decimal | decimal-leading-zero | lower-roman |\n    upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha |\n    upper-alpha | russian | upper-russian | lower-russian | cjk-ideographic | trad-chinese-informal |\n    hebrew | none;\nTYPE_OR_UNIT_IN_ATTR = string | color | url | integer | number | length | angle | time | frequency;\nATTR = attr(SPACE(IDENT TYPE_OR_UNIT_IN_ATTR?) [ STRING | IDENT | COLOR | INT | NUM | PLENGTH | ANGLE | POS_TIME | FREQUENCY]?);\nCONTENT_LIST = [ STRING | URI | counter(IDENT LIST_STYLE_TYPE?) |\n    counters(IDENT STRING LIST_STYLE_TYPE?) | ATTR |\n    target-counter([ STRING | URI ] IDENT LIST_STYLE_TYPE?) |\n    target-counter(ATTR IDENT LIST_STYLE_TYPE?) |\n    target-counters([ STRING | URI ] IDENT STRING LIST_STYLE_TYPE?) |\n    target-counters(ATTR IDENT STRING LIST_STYLE_TYPE?) |\n    open-quote | close-quote | no-open-quote | no-close-quote |\n    content([ text | before | after | first-letter ]?) |\n    string(IDENT [first | start | last | first-except]?) ]+;\nCONTENT = normal | none | CONTENT_LIST;\ncontent = CONTENT;\nCOUNTER = [ IDENT INT? ]+ | none;\ncounter-increment = COUNTER;\ncounter-reset = COUNTER;\ncounter-set = COUNTER;\ncursor = COMMA(URI* [ auto | crosshair | default | pointer | move | e-resize | ne-resize | nw-resize |\n    n-resize | se-resize | sw-resize | s-resize | w-resize | text | wait | help | progress ]);\ndirection = ltr | rtl;\ndisplay = inline | block | list-item | inline-block | table | inline-table | table-row-group |\n    table-header-group | table-footer-group | table-row | table-column-group | table-column |\n    table-cell | table-caption | none | oeb-page-head | oeb-page-foot | flex | inline-flex |\n    ruby | ruby-base | ruby-text | ruby-base-container | ruby-text-container | run-in | compact | marker |\n    flow-root | grid | inline-grid | contents;\nempty-cells = show | hide;\nFAMILY = SPACE(IDENT+) | STRING;\nFAMILY_LIST = COMMA( FAMILY+ );\nfont-family = FAMILY_LIST;\nfont-size = xx-small | x-small | small | medium | large | x-large | xx-large | larger | smaller | PPLENGTH;\nfont-style = normal | italic | oblique;\nfont-weight = normal | bold | bolder | lighter | POS_NUM;\nheight = PAPLENGTH | MIN_MAX_FIT_CONTENT;\nleft = APLENGTH;\nletter-spacing = normal | LENGTH_OR_NUM;\nline-height = normal | POS_NUM | PPLENGTH;\nlist-style-image = IMAGE;\nlist-style-position = inside | outside;\nlist-style-type = LIST_STYLE_TYPE;\nmargin-right = APLENGTH;\nmargin-left = APLENGTH;\nmargin-top = APLENGTH;\nmargin-bottom = APLENGTH;\nNPLENGTH = none | PLENGTH;\nmax-height = NPLENGTH | MIN_MAX_FIT_CONTENT;\nmax-width = NPLENGTH | MIN_MAX_FIT_CONTENT;\nmin-height = APLENGTH | MIN_MAX_FIT_CONTENT;\nmin-width = APLENGTH | MIN_MAX_FIT_CONTENT;\norphans = POS_INT;\noutline-offset = LENGTH;\noutline-color = COLOR | invert;\noutline-style = BORDER_SIDE_STYLE;\noutline-width = BORDER_SIDE_WIDTH;\noverflow = visible | hidden | scroll | auto | clip;\npadding-right = PPLENGTH;\npadding-left = PPLENGTH;\npadding-top = PPLENGTH;\npadding-bottom = PPLENGTH;\nPAGE_BREAK = auto | always | avoid | left | right | recto | verso;\npage-break-after = PAGE_BREAK;\npage-break-before = PAGE_BREAK;\npage-break-inside = avoid | auto;\nposition = static | relative | absolute | fixed;\nquotes = [STRING STRING]+ | none | auto;\nright = APLENGTH;\ntable-layout = auto | fixed;\ntext-align = left | right | center | justify | start | end;\ntext-indent = PLENGTH;\ntext-transform = capitalize | uppercase | lowercase | none;\ntop = APLENGTH;\nvertical-align = baseline | sub | super | top | text-top | middle | bottom | text-bottom | PLENGTH;\nvisibility = visible | hidden | collapse;\nwhite-space = normal | pre | nowrap | pre-wrap | pre-line | break-spaces;\nwidows = POS_INT;\nwidth = PAPLENGTH | MIN_MAX_FIT_CONTENT;\nword-spacing = normal | LENGTH_OR_NUM;\nz-index = auto | INT;\n\n[epub,moz,webkit]hyphens = auto | manual | none;\n[webkit]hyphenate-character = auto | STRING;\n\n/* css-logical */\nmargin-block-start = APLENGTH;\nmargin-block-end = APLENGTH;\nmargin-inline-start = APLENGTH;\nmargin-inline-end = APLENGTH;\npadding-block-start = APLENGTH;\npadding-block-end = APLENGTH;\npadding-inline-start = APLENGTH;\npadding-inline-end = APLENGTH;\nborder-block-start-color = BORDER_SIDE_COLOR;\nborder-block-end-color = BORDER_SIDE_COLOR;\nborder-inline-start-color = BORDER_SIDE_COLOR;\nborder-inline-end-color = BORDER_SIDE_COLOR;\nborder-block-start-style = BORDER_SIDE_STYLE;\nborder-block-end-style = BORDER_SIDE_STYLE;\nborder-inline-start-style = BORDER_SIDE_STYLE;\nborder-inline-end-style = BORDER_SIDE_STYLE;\nborder-block-start-width = BORDER_SIDE_WIDTH;\nborder-block-end-width = BORDER_SIDE_WIDTH;\nborder-inline-start-width = BORDER_SIDE_WIDTH;\nborder-inline-end-width = BORDER_SIDE_WIDTH;\nblock-start = APLENGTH;\nblock-end = APLENGTH;\ninline-start = APLENGTH;\ninline-end = APLENGTH;\nblock-size = PAPLENGTH | MIN_MAX_FIT_CONTENT;\ninline-size = PAPLENGTH | MIN_MAX_FIT_CONTENT;\nmax-block-size = NPLENGTH | MIN_MAX_FIT_CONTENT;\nmax-inline-size = NPLENGTH | MIN_MAX_FIT_CONTENT;\nmin-block-size = APLENGTH | MIN_MAX_FIT_CONTENT;\nmin-inline-size = APLENGTH | MIN_MAX_FIT_CONTENT;\n\nSHAPE = auto | rectangle( PLENGTH{4} ) |  ellipse( PLENGTH{4} ) |  circle( PLENGTH{3} ) |\n    polygon( SPACE(PLENGTH+)+ );\n[epubx]shape-inside = SHAPE;\n[epubx,webkit]shape-outside = SHAPE;\n[epubx]wrap-flow = auto | both | start | end | maximum | clear | around /* epub al */;\n\nTRANSFORM_FUNCTION = matrix(NUM{6}) | translate(PLENGTH{1,2}) | translateX(PLENGTH) | translateY(PLENGTH) |\n scale(NUM{1,2}) | scaleX(NUM) | scaleY(NUM) | rotate(ANGLE) | skewX(ANGLE) | skewY(ANGLE);\n[epub]transform = none | TRANSFORM_FUNCTION+;\n[epub]transform-origin = [[[ top | bottom | left | right] PLENGTH?] | center | PLENGTH]{1,2}; /* relaxed */\n\nBOX = border-box | padding-box | content-box;\nSHADOW = SPACE(inset || LENGTH{2,4} || COLOR); /* relaxed */\n[webkit]background-size = COMMA( SPACE( [PLENGTH | auto ]{1,2} | cover | contain)+ );\n[webkit]background-origin = COMMA( BOX+ );\n[webkit]background-clip = COMMA( BOX+ );\n[webkit]box-shadow = none | COMMA( SHADOW+ );\ntext-shadow = none |  COMMA( SHADOW+ );\n[webkit]box-decoration-break = slice | clone;\nFILTER_FUNCTION = blur(LENGTH) | brightness(NUM | PERCENTAGE) | contrast(NUM | PERCENTAGE) | drop-shadow(SPACE(LENGTH{2,3} COLOR?))\n                | grayscale(NUM | PERCENTAGE) | hue-rotate(ANGLE) | invert(NUM | PERCENTAGE) | opacity(NUM | PERCENTAGE)\n                | saturate(NUM | PERCENTAGE) | sepia(NUM | PERCENTAGE);\nFILTER_FUNCTION_LIST = FILTER_FUNCTION+;\n[webkit]filter = none | FILTER_FUNCTION_LIST;\n\nopacity = NUM;\n\n[moz,webkit]column-width = LENGTH | auto;\n[moz,webkit]column-count = INT | auto;\n[moz,webkit]column-gap = LENGTH | normal;\n[moz,webkit]column-rule-color = COLOR;\n[moz,webkit]column-rule-style = BORDER_SIDE_STYLE;\n[moz,webkit]column-rule-width = BORDER_SIDE_WIDTH;\nBREAK = auto | avoid | avoid-page | page | left | right | recto | verso | avoid-column | column | avoid-region | region;\nbreak-before = BREAK;\nbreak-after = BREAK;\nbreak-inside = auto | avoid | avoid-page | avoid-column | avoid-region;\n[webkit]column-span = none | auto | all;\n[moz]column-fill = auto | balance | balance-all;\nmargin-break = auto | keep | discard;\n\nsrc = COMMA([SPACE(URI format(STRING+)?) | local(FAMILY)]+); /* for font-face */\n\n[epubx,webkit]flow-from = IDENT;\n[epubx,webkit]flow-into = IDENT;\n[epubx]flow-linger = INT | none;\n[epubx]flow-priority = INT;\n[epubx]flow-options = none | [ exclusive || last || static ];\n[epubx]page = INT | auto | IDENT; /* page: IDENT is for CSS Paged Media */\n[epubx]min-page-width = LENGTH;\n[epubx]min-page-height = LENGTH;\n[epubx]required = true | false;\n[epubx]enabled = true | false;\n[epubx]conflicting-partitions = COMMA(IDENT+);\n[epubx]required-partitions = COMMA(IDENT+);\n[epubx]snap-height = LENGTH | none;\n[epubx]snap-width = LENGTH | none;\n[epubx]flow-consume = all | some;\n[epubx]utilization = NUM;\n[epubx]text-zoom = font-size | scale;\n\n[adapt]template = URI_OR_NONE;\n[adapt]behavior = IDENT;\n\n/* CSS Fonts */\nCOMMON_LIG_VALUES        = [ common-ligatures | no-common-ligatures ];\nDISCRETIONARY_LIG_VALUES = [ discretionary-ligatures | no-discretionary-ligatures ];\nHISTORICAL_LIG_VALUES    = [ historical-ligatures | no-historical-ligatures ];\nCONTEXTUAL_ALT_VALUES    = [ contextual | no-contextual ];\nfont-variant-ligatures = normal | none | [ COMMON_LIG_VALUES || DISCRETIONARY_LIG_VALUES || HISTORICAL_LIG_VALUES || CONTEXTUAL_ALT_VALUES ];\nfont-variant-caps = normal | small-caps | all-small-caps | petite-caps | all-petite-caps | unicase | titling-caps;\nNUMERIC_FIGURE_VALUES   = [ lining-nums | oldstyle-nums ];\nNUMERIC_SPACING_VALUES  = [ proportional-nums | tabular-nums ];\nNUMERIC_FRACTION_VALUES = [ diagonal-fractions | stacked-fractions ];\nfont-variant-numeric = normal | [ NUMERIC_FIGURE_VALUES || NUMERIC_SPACING_VALUES || NUMERIC_FRACTION_VALUES || ordinal || slashed-zero ];\nEAST_ASIAN_VARIANT_VALUES = [ jis78 | jis83 | jis90 | jis04 | simplified | traditional ];\nEAST_ASIAN_WIDTH_VALUES   = [ full-width | proportional-width ];\nfont-variant-east-asian = normal | [ EAST_ASIAN_VARIANT_VALUES || EAST_ASIAN_WIDTH_VALUES || ruby ];\nfont-variant_css2 = normal | small-caps; /* for font shorthand */\nfont-size-adjust = none | NNEG_NUM;\n[webkit]font-kerning = auto | normal | none;\nfont-feature-settings = COMMA( normal | SPACE( STRING [ on | off | INT ]? )+ );\nFONT_STRETCH_CSS3_VALUES = normal | wider | narrower | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded;\nfont-stretch = FONT_STRETCH_CSS3_VALUES | PERCENTAGE;\nfont-stretch_css3 = FONT_STRETCH_CSS3_VALUES; /* for font shorthand */\nfont-display = [ auto | block | swap | fallback | optional ];\nunicode-range = COMMA( URANGE+ );\n\n/* CSS Images */\nimage-resolution = RESOLUTION;\nobject-fit = fill | contain | cover | none | scale-down;\nobject-position = COMMA( SPACE(BG_POSITION_TERM{1,4})+ ); /* relaxed */\n\n/* CSS Paged Media */\nPAGE_SIZE = a10 | a9 | a8 | a7 | a6 | a5 | a4 | a3 | a2 | a1 | a0\n          | b10 | b9 | b8 | b7 | b6 | b5 | b4 | b3 | b2 | b1 | b0\n          | c10 | c9 | c8 | c7 | c6 | c5 | c4 | c3 | c2 | c1 | c0\n          | jis-b10 | jis-b9 | jis-b8 | jis-b7 | jis-b6 | jis-b5 | jis-b4 | jis-b3 | jis-b2 | jis-b1 | jis-b0\n          | letter | legal | ledger;\nbleed = auto | LENGTH;\nmarks = none | [ crop || cross ];\nsize = POS_LENGTH{1,2} | auto | [ PAGE_SIZE || [ portrait | landscape ] ];\ncrop-offset = auto | LENGTH;\n\n/* CSS Page Floats */\nfloat-reference = inline | column | region | page;\nfloat = block-start | block-end | inline-start | inline-end | snap-block | snap-inline | left | right | top | bottom | none | footnote;\nfloat-min-wrap-block = PPLENGTH;\n\n/* CSS Ruby */\nruby-align = start | center | space-between | space-around;\nruby-position = over | under | inter-character;\n\n/* CSS Size Adjust */\n[moz]text-size-adjust = auto | none | POS_PERCENTAGE;\n\n/* CSS Text */\n[webkit]line-break = auto | loose | normal | strict | anywhere;\noverflow-wrap = normal | break-word | anywhere;\n[moz]tab-size = NNEG_INT | NNEG_LENGTH;\n[moz]text-align-last = auto | start | end | left | right | center | justify;\ntext-justify = auto | none | inter-word | inter-character;\nword-break = normal | keep-all | break-all | break-word;\ntext-spacing = normal | none | auto | [[ trim-start | space-start | space-first ] ||\n    [ trim-end | space-end | allow-end ] || [ trim-adjacent | space-adjacent ] ||\n    no-compress || ideograph-alpha || ideograph-numeric || punctuation];\nhanging-punctuation = none | [ first || [ force-end | allow-end ] || last ];\n\n/* CSS Text Decoration */\n[webkit]text-decoration-color = COLOR;\n[webkit]text-decoration-line = none | [ underline || overline || line-through || blink ];\n[webkit]text-decoration-skip = none | [ objects || spaces || ink || edges || box-decoration ];\n[webkit]text-decoration-style = solid | double | dotted | dashed | wavy;\n[webkit]text-decoration-thickness = from-font | APLENGTH;\n[epub,webkit]text-emphasis-color = COLOR;\n[webkit]text-emphasis-position = [ over | under ] [ right | left ];\n[epub,webkit]text-emphasis-style = none | [[ filled | open ] || [ dot | circle | double-circle | triangle | sesame ]] | STRING;\n[webkit]text-underline-position = auto | [ under || [ left | right ]];\n\n/* CSS Transforms */\n[webkit]backface-visibility = visible | hidden;\n\n/* CSS UI */\nbox-sizing = content-box | padding-box | border-box;\ntext-overflow = [clip | ellipsis | STRING]{1,2};\n\n/* CSS Writing Modes */\n[epub,webkit]text-combine = none | horizontal;\ntext-combine-upright = none | all; /* relaxed */\n[epub,webkit]text-orientation = mixed | upright | sideways-right | sideways-left | sideways | use-glyph-orientation /* the following values are kept for backward-compatibility */ | vertical-right | rotate-right | rotate-left | rotate-normal | auto;\nunicode-bidi = normal | embed | isolate | bidi-override | isolate-override | plaintext;\n[epub,webkit]writing-mode = horizontal-tb | vertical-rl | lr-tb | rl-tb | tb-rl | lr | rl | tb;\n\n/* CSS Flex box */\nFLEX_BASIS = content | PAPLENGTH;\nflex-direction = row | row-reverse | column | column-reverse;\nflex-wrap = nowrap | wrap | wrap-reverse;\norder = INT;\nflex-grow = NNEG_NUM;\nflex-shrink = NNEG_NUM;\nflex-basis = FLEX_BASIS;\nflex = none | [ [ NNEG_NUM NNEG_NUM? ] || FLEX_BASIS ];\njustify-content = flex-start | flex-end | center | space-between | space-around;\nalign-items = flex-start | flex-end | center | baseline | stretch;\nalign-self = auto | flex-start | flex-end | center | baseline | stretch;\nalign-content = flex-start | flex-end | center | space-between | space-around | stretch;\n\n/* Pointer Events */\ntouch-action = auto | none | [ pan-x || pan-y ] | manipulation;\n\n/* SVG 2 */\nOPACITY_VALUE = NUM | PERCENTAGE;\nDASH_ARRAY = COMMA( SPACE( [ LENGTH | PERCENTAGE | NUM ]+ )+ );\nPAINT = none | child | child(INT) | COLOR | SPACE( URI [none | COLOR]? ) | context-fill | context-stroke;\ncolor-interpolation = auto | sRGB | linearRGB;\ncolor-rendering = auto | optimizeSpeed | optimizeQuality;\nfill = PAINT;\nfill-opacity = OPACITY_VALUE;\nfill-rule = nonzero | evenodd;\nglyph-orientation-vertical = auto | NUM | ANGLE;\nimage-rendering = auto | optimizeSpeed | optimizeQuality | crisp-edges | pixelated;\nmarker-start = none | URI;\nmarker-mid = none | URI;\nmarker-end = none | URI;\npointer-events = bounding-box | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | none;\npaint-order = normal | [ fill || stroke || markers ];\nshape-rendering = auto | optimizeSpeed | crispEdges | geometricPrecision;\nstop-color = COLOR;\nstop-opacity = OPACITY_VALUE;\nstroke = PAINT;\nstroke-dasharray = none | DASH_ARRAY;\nstroke-dashoffset = PERCENTAGE | LENGTH_OR_NUM;\nstroke-linecap = butt | round | square;\nstroke-linejoin = miter | round | bevel;\nstroke-miterlimit = NUM;\nstroke-opacity = OPACITY_VALUE;\nstroke-width = PERCENTAGE | LENGTH_OR_NUM;\ntext-anchor = start | middle | end;\ntext-rendering = auto | optimizeSpeed | optimizeLegibility | geometricPrecision;\nvector-effect = none | SPACE( [ non-scaling-stroke | non-scaling-size | non-rotation | fixed-position ]+ [ viewport | screen ]? );\n\n/* SVG 1.1 */\nalignment-baseline = auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical;\nbaseline-shift = baseline | sub | super | PERCENTAGE | LENGTH_OR_NUM;\ndominant-baseline = auto | use-script | no-change | reset-size | ideographic | alphabetic | hanging | mathematical | central | middle | text-after-edge | text-before-edge;\nmask = none | URI;\n\n/* css-masking-1 */\nSHAPE_RADIUS = PLENGTH | closest-side | farthest-side;\nFILL_RULE = nonzero | evenodd;\nSHAPE_BOX = BOX | margin-box;\nGEOMETRY_BOX = SHAPE_BOX | fill-box | stroke-box | view-box;\nBASIC_SHAPE =\n    inset( SPACE( PLENGTH{1,4} [ round PLENGTH{1,4} [ SLASH PLENGTH{1,4} ]? ]? ) )\n  | circle(  SPACE( [SHAPE_RADIUS]?    [at BG_POSITION_TERM{1,4}]? ) )\n  | ellipse( SPACE( SHAPE_RADIUS{2}? [at BG_POSITION_TERM{1,4}]? ) )\n  | polygon( FILL_RULE? COMMA( SPACE( PLENGTH{2} )+ )+ );\n[webkit]clip-path = none | URI | [ BASIC_SHAPE || GEOMETRY_BOX ];\nclip-rule = nonzero | evenodd;\n\n/* filters */\nflood-color = COLOR;\nflood-opacity = OPACITY_VALUE;\nlighting-color = COLOR;\n\n/* compositing-1 */\nBLEND_MODE = normal | multiply | screen | overlay | darken | lighten | color-dodge | color-burn | hard-light | soft-light | difference | exclusion | hue | saturation | color | luminosity;\nmix-blend-mode = BLEND_MODE;\nisolation = auto | isolate;\nbackground-blend-mode = COMMA( BLEND_MODE+ );\n\n/* CSS GCPM */\nstring-set = COMMA( SPACE( IDENT CONTENT_LIST )+ | none );\nfootnote-policy = auto | line;\n\n/* CSS Repeated Headers and Footers */\n[viv]repeat-on-break = auto | none | header | footer;\n\n/* Compatibility */\n[webkit]text-fill-color = COLOR;\n[webkit]text-stroke-color = COLOR;\n[webkit]text-stroke-width = BORDER_SIDE_WIDTH;\n\nDEFAULTS\n\nbackground-attachment: scroll;\nbackground-color: transparent;\nbackground-image: none;\nbackground-repeat: repeat;\nbackground-position: 0% 0%;\nbackground-clip: border-box;\nbackground-origin: padding-box;\nbackground-size: auto;\nborder-top-color: currentColor;\nborder-right-color: currentColor;\nborder-bottom-color: currentColor;\nborder-left-color: currentColor;\nborder-top-style: none;\nborder-right-style: none;\nborder-bottom-style: none;\nborder-left-style: none;\nborder-top-width: 3px;\nborder-right-width: 3px;\nborder-bottom-width: 3px;\nborder-left-width: 3px;\nborder-top-left-radius: 0;\nborder-top-right-radius: 0;\nborder-bottom-right-radius: 0;\nborder-bottom-left-radius: 0;\nborder-image-source: none;\nborder-image-slice: 100%;\nborder-image-width: 1;\nborder-image-outset: 0;\nborder-image-repeat: stretch;\ncolumn-count: auto;\ncolumn-gap: normal;\ncolumn-width: auto;\ncolumn-rule-color: currentColor;\ncolumn-rule-style: none;\ncolumn-rule-width: 3px;\ncolumn-fill: balance;\noutline-color: currentColor;\noutline-style: none;\noutline-width: 3px;\nflex-direction: row;\nflex-wrap: nowrap;\nfont-family: serif;\nfont-style: normal;\nfont-size: medium;\nfont-size-adjust: none;\nfont-kerning: auto;\nfont-feature-settings: normal;\nfont-variant-ligatures: normal;\nfont-variant-caps: normal;\nfont-variant-numeric: normal;\nfont-variant-east-asian: normal;\nfont-weight: normal;\nfont-stretch: normal;\nline-height: normal;\nlist-style-image: none;\nlist-style-position: outside;\nlist-style-type: disc;\nmargin-bottom: auto;\nmargin-left: auto;\nmargin-right: auto;\nmargin-top: auto;\npadding-bottom: auto;\npadding-left: auto;\npadding-right: auto;\npadding-top: auto;\ntext-emphasis-color: currentColor;\ntext-emphasis-style: none;\ntext-stroke-color: currentColor;\ntext-stroke-width: 0;\nmarker-start: none;\nmarker-mid: none;\nmarker-end: none;\n\n/* css-logical */\nborder-block-start-color: currentColor;\nborder-block-end-color: currentColor;\nborder-inline-start-color: currentColor;\nborder-inline-end-color: currentColor;\nborder-block-start-style: none;\nborder-block-end-style: none;\nborder-inline-start-style: none;\nborder-inline-end-style: none;\nborder-block-start-width: 3px;\nborder-block-end-width: 3px;\nborder-inline-start-width: 3px;\nborder-inline-end-width: 3px;\n\nSHORTHANDS\n\nall = ALL;\nbackground = COMMA background-image [background-position [ / background-size ]] background-repeat\n     background-attachment [background-origin background-clip] background-color; /* background-color is a special case, see the code */\nborder-top = border-top-width border-top-style border-top-color;\nborder-right = border-right-width border-right-style border-right-color;\nborder-bottom = border-bottom-width border-bottom-style border-bottom-color;\nborder-left = border-left-width border-left-style border-left-color;\nborder-width = INSETS border-top-width border-right-width border-bottom-width border-left-width;\nborder-style = INSETS border-top-style border-right-style border-bottom-style border-left-style;\nborder-color = INSETS border-top-color border-right-color border-bottom-color border-left-color;\nborder = border-width border-style border-color;\nborder-image = border-image-source border-image-slice [ / border-image-width [ / border-image-outset ] ]\n     border-image-repeat;\nborder-radius = INSETS_SLASH border-top-left-radius border-top-right-radius\n     border-bottom-right-radius border-bottom-left-radius;\n[moz,webkit]columns = column-width column-count;\n[moz,webkit]column-rule = column-rule-width column-rule-style column-rule-color;\nflex-flow = flex-direction flex-wrap;\noeb-column-number = column-count;\noutline = outline-width outline-style outline-color;\nlist-style = list-style-type list-style-position list-style-image;\nmargin = INSETS margin-top margin-right margin-bottom margin-left;\npadding = INSETS padding-top padding-right padding-bottom padding-left;\nfont = FONT font-style font-variant_css2 font-weight font-stretch_css3 /* font-size line-height font-family are special-cased */;\nfont-variant = font-variant-ligatures font-variant-caps font-variant-numeric font-variant-east-asian;\n[epub,webkit]text-emphasis = text-emphasis-style text-emphasis-color;\nmarker = INSETS marker-start marker-mid marker-end;\n[webkit]text-stroke = text-stroke-width text-stroke-color;\ntext-decoration = text-decoration-line text-decoration-color text-decoration-style text-decoration-thickness;\n\n/* css-logical */\nmargin-block = INSETS margin-block-start margin-block-end;\nmargin-inline = INSETS margin-inline-start margin-inline-end;\npadding-block = INSETS padding-block-start padding-block-end;\npadding-inline = INSETS padding-inline-start padding-inline-end;\nborder-block-width = INSETS border-block-start-width border-block-end-width;\nborder-block-style = INSETS border-block-start-style border-block-end-style;\nborder-block-color = INSETS border-block-start-color border-block-end-color;\nborder-inline-width = INSETS border-inline-start-width border-inline-end-width;\nborder-inline-style = INSETS border-inline-start-style border-inline-end-style;\nborder-inline-color = INSETS border-inline-start-color border-inline-end-color;\nborder-block = border-block-width border-block-style border-block-color;\nborder-inline = border-inline-width border-inline-style border-inline-color;\nborder-block-start = border-block-start-width border-block-start-style border-block-start-color;\nborder-block-end = border-block-end-width border-block-end-style border-block-end-color;\nborder-inline-start = border-inline-start-width border-inline-start-style border-inline-start-color;\nborder-inline-end = border-inline-end-width border-inline-end-style border-inline-end-color;\ninset-block-start = block-start;\ninset-block-end = block-end;\ninset-inline-start = inline-start;\ninset-inline-end = inline-end;\ninset-block = INSETS block-start block-end;\ninset-inline = INSETS inline-start inline-end;\ninset = INSETS top right bottom left;\n\n/* old names  */\nword-wrap = overflow-wrap;\n[adapt,webkit]margin-before = margin-block-start;\n[adapt,webkit]margin-after = margin-block-end;\n[adapt,webkit]margin-start = margin-inline-start;\n[adapt,webkit]margin-end = margin-inline-end;\n[adapt,webkit]padding-before = padding-block-start;\n[adapt,webkit]padding-after = padding-block-end;\n[adapt,webkit]padding-start = padding-inline-start;\n[adapt,webkit]padding-end = padding-inline-end;\n[adapt,webkit]border-before-color = border-block-start-color;\n[adapt,webkit]border-after-color = border-block-end-color;\n[adapt,webkit]border-start-color = border-inline-start-color;\n[adapt,webkit]border-end-color = border-inline-end-color;\n[adapt,webkit]border-before-style = border-block-start-style;\n[adapt,webkit]border-after-style = border-block-end-style;\n[adapt,webkit]border-start-style = border-inline-start-style;\n[adapt,webkit]border-end-style = border-inline-end-style;\n[adapt,webkit]border-before-width = border-block-start-width;\n[adapt,webkit]border-after-width = border-block-end-width;\n[adapt,webkit]border-start-width = border-inline-start-width;\n[adapt,webkit]border-end-width = border-inline-end-width;\n[adapt,webkit]before = block-start;\n[adapt,webkit]after = block-end;\n[adapt,webkit]start = inline-start;\n[adapt,webkit]end = inline-end;\n\n",Yu='\n<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://www.pyroxy.com/ns/shadow">\n<head>\n<style><![CDATA[\n\n.footnote-content {\n  float: footnote;\n}\n\n.table-cell-container {\n  display: block;\n}\n\n]]></style>\n</head>\n<body>\n\n<s:template id="footnote"><s:content/><s:include class="footnote-content"/></s:template>\n\n<s:template id="table-cell"><div data-vivliostyle-flow-root="true" class="table-cell-container"><s:content/></div></s:template>\n\n</body>\n</html>',Ku='\n@namespace html "http://www.w3.org/1999/xhtml";\n\n:root {\n  hyphens: -epubx-expr(pref-hyphenate? "auto": "manual");\n}\n:root[data-vivliostyle-epub-spine-properties~="page-spread-left"] {\n  break-before: left;\n}\n:root[data-vivliostyle-epub-spine-properties~="page-spread-right"] {\n  break-before: right;\n}\n\n@-adapt-footnote-area {\n  display: block;\n  margin-block-start: 0.5em;\n  margin-block-end: 0.5em;\n}\n\n@-adapt-footnote-area ::before {\n  display: block;\n  border-block-start-width: 1px;\n  border-block-start-style: solid;\n  border-block-start-color: black;\n  margin-block-end: 0.4em;\n  margin-inline-start: 0;\n  margin-inline-end: 60%;\n}\n\n/* default page master */\n@-epubx-page-master :background-host {\n  @-epubx-partition :layout-host {\n    -epubx-flow-from: body;\n    top: -epubx-expr(header.margin-bottom-edge);\n    bottom: -epubx-expr(page-height - footer.margin-top-edge);\n    left: 0px;\n    right: 0px;\n    column-width: 25em;\n  }\n  @-epubx-partition footer :oeb-page-foot {\n    writing-mode: horizontal-tb;\n    -epubx-flow-from: oeb-page-foot;\n    bottom: 0px;\n    left: 0px;\n    right: 0px;\n  }\n  @-epubx-partition header :oeb-page-head {\n    writing-mode: horizontal-tb;\n    -epubx-flow-from: oeb-page-head;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n  }\n}\n\n@page {\n  @top-left-corner {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @top-left {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @top-center {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @top-right {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @top-right-corner {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @left-top {\n    text-align: center;\n    vertical-align: top;\n  }\n  @left-middle {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @left-bottom {\n    text-align: center;\n    vertical-align: bottom;\n  }\n  @right-top {\n    text-align: center;\n    vertical-align: top;\n  }\n  @right-middle {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @right-bottom {\n    text-align: center;\n    vertical-align: bottom;\n  }\n  @bottom-left-corner {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @bottom-left {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @bottom-center {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @bottom-right {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @bottom-right-corner {\n    text-align: left;\n    vertical-align: middle;\n  }\n}\n\n@media print {\n  @page {\n    margin: 10%;\n  }\n}\n',Qu='\n@namespace html "http://www.w3.org/1999/xhtml";\n\nhtml|html,\nhtml|address,\nhtml|blockquote,\nhtml|body,\nhtml|dd,\nhtml|div,\nhtml|dl,\nhtml|dt,\nhtml|fieldset,\nhtml|form,\nhtml|frame,\nhtml|frameset,\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6,\nhtml|noframes,\nhtml|ol,\nhtml|p,\nhtml|ul,\nhtml|center,\nhtml|dir,\nhtml|hr,\nhtml|menu,\nhtml|pre,\nhtml|article,\nhtml|section,\nhtml|nav,\nhtml|aside,\nhtml|hgroup,\nhtml|footer,\nhtml|header,\nhtml|figure,\nhtml|figcaption,\nhtml|main {\n  display: block;\n  unicode-bidi: normal;\n}\nhtml|li {\n  display: list-item;\n}\nhtml|head {\n  display: none !important;\n}\nhtml|table {\n  display: table;\n}\nhtml|tr {\n  display: table-row;\n}\nhtml|thead {\n  display: table-header-group;\n  break-after: avoid;\n}\nhtml|tbody {\n  display: table-row-group;\n}\nhtml|tfoot {\n  display: table-footer-group;\n  break-before: avoid;\n}\nhtml|col {\n  display: table-column;\n}\nhtml|colgroup {\n  display: table-column-group;\n}\nhtml|td,\nhtml|th {\n  display: table-cell;\n}\nhtml|caption {\n  display: table-caption;\n  text-align: center;\n}\nhtml|th {\n  font-weight: bolder;\n  text-align: center;\n}\nhtml|*[hidden],\nhtml|link,\nhtml|style,\nhtml|script {\n  display: none;\n}\nhtml|h1 {\n  font-size: 2em;\n  margin-block-start: 0.67em;\n  margin-block-end: 0.67em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h2 {\n  font-size: 1.5em;\n  margin-block-start: 0.75em;\n  margin-block-end: 0.75em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h3 {\n  font-size: 1.17em;\n  margin-block-start: 0.83em;\n  margin-block-end: 0.83em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h4,\nhtml|p,\nhtml|blockquote,\nhtml|ul,\nhtml|fieldset,\nhtml|form,\nhtml|ol,\nhtml|dl,\nhtml|dir,\nhtml|menu,\nhtml|h5,\nhtml|h6 {\n  margin-block-start: 1em;\n  margin-block-end: 1em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h5 {\n  font-size: 0.83em;\n}\nhtml|h6 {\n  font-size: 0.75em;\n}\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6,\nhtml|b,\nhtml|strong {\n  font-weight: bolder;\n}\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6 {\n  break-after: avoid;\n}\nhtml|blockquote {\n  margin-block-start: 0px;\n  margin-block-end: 0px;\n  margin-inline-start: 40px;\n  margin-inline-end: 40px;\n}\nhtml|i,\nhtml|cite,\nhtml|em,\nhtml|var,\nhtml|address {\n  font-style: italic;\n}\nhtml|pre,\nhtml|tt,\nhtml|code,\nhtml|kbd,\nhtml|samp {\n  font-family: monospace;\n}\nhtml|pre {\n  white-space: pre;\n}\nhtml|button,\nhtml|textarea,\nhtml|input,\nhtml|select {\n  display: inline-block;\n}\nhtml|big {\n  font-size: 1.17em;\n}\nhtml|small,\nhtml|sub,\nhtml|sup {\n  font-size: 0.83em;\n}\nhtml|sub {\n  vertical-align: sub;\n}\nhtml|sup {\n  vertical-align: super;\n}\nhtml|table {\n  border-spacing: 2px;\n}\nhtml|thead,\nhtml|tbody,\nhtml|tfoot {\n  vertical-align: middle;\n}\n/* for XHTML tables without tbody */\nhtml|table > html|tr {\n  vertical-align: middle;\n}\nhtml|td,\nhtml|th {\n  vertical-align: inherit;\n}\nhtml|s,\nhtml|strike,\nhtml|del {\n  text-decoration: line-through;\n}\nhtml|hr {\n  border: 1px inset;\n}\nhtml|ol,\nhtml|ul,\nhtml|dir,\nhtml|menu,\nhtml|dd {\n  margin: 0px;\n  margin-inline-start: 40px;\n}\nhtml|ol html|ul,\nhtml|ul html|ol,\nhtml|ul html|ul,\nhtml|ol html|ol {\n  margin-block-start: 0;\n  margin-block-end: 0;\n}\nhtml|u,\nhtml|ins {\n  text-decoration: underline;\n}\nhtml|center {\n  text-align: center;\n}\nhtml|q:before {\n  content: open-quote;\n}\nhtml|q:after {\n  content: close-quote;\n}\n\nhtml|audio,\nhtml|video {\n  break-inside: avoid;\n}\n\nhtml|ruby {\n  display: ruby;\n}\nhtml|rp {\n  display: none;\n}\nhtml|rbc {\n  display: ruby-base-container;\n}\nhtml|rtc {\n  display: ruby-text-container;\n}\nhtml|rb {\n  display: ruby-base;\n  white-space: nowrap;\n}\nhtml|rt {\n  display: ruby-text;\n}\n\nhtml|rtc,\nhtml|rt {\n  font-variant-east-asian: ruby;\n  text-emphasis: none;\n  white-space: nowrap;\n  line-height: 1;\n}\n\nhtml|rtc:lang(zh),\nhtml|rt:lang(zh) {\n  ruby-align: center;\n}\n\nhtml|rtc,\nhtml|rt {\n  font-size: 50%;\n}\n\nhtml|rtc:lang(zh-TW),\nhtml|rt:lang(zh-TW) {\n  font-size: 30%;\n}\n\nhtml|rtc > html|rt,\nhtml|rtc > html|rt:lang(zh-TW) {\n  font-size: 100%;\n}\n\n/* Bidi settings */\nhtml|bdo[dir="ltr"] {\n  direction: ltr;\n  unicode-bidi: bidi-override;\n}\nhtml|bdo[dir="rtl"] {\n  direction: rtl;\n  unicode-bidi: bidi-override;\n}\nhtml|*[dir="ltr"] {\n  direction: ltr;\n  unicode-bidi: embed;\n}\nhtml|*[dir="rtl"] {\n  direction: rtl;\n  unicode-bidi: embed;\n}\n\n/* MathML */\nmath[display="block"] {\n  display: block;\n}\n\n/*------------------ epub-specific ---------------------*/\n\n@namespace epub "http://www.idpf.org/2007/ops";\n\nhtml|a[epub|type="noteref"] {\n  font-size: 0.75em;\n  vertical-align: super;\n  line-height: 0.01;\n}\n\nhtml|a[epub|type="noteref"]:href-epub-type(footnote) {\n  -adapt-template: url(user-agent.xml#footnote);\n  text-decoration: none;\n}\n\nhtml|aside[epub|type="footnote"] {\n  display: none;\n}\n\nhtml|aside[epub|type="footnote"]:footnote-content {\n  display: block;\n  margin: 0.25em;\n  font-size: 1.2em;\n  line-height: 1.2;\n}\n\nepub|trigger {\n  display: none;\n}\n\nepub|switch {\n  display: inline;\n}\n\nepub|default {\n  display: inline;\n}\n\nepub|case {\n  display: none;\n}\n\nepub|case[required-namespace::supported] {\n  display: inline;\n}\n\nepub|case[required-namespace::supported] ~ epub|case {\n  display: none;\n}\n\nepub|case[required-namespace::supported] ~ epub|default {\n  display: none;\n}\n\n/*--------------- ncx and toc ----------------------*/\n\n@namespace ncx "http://www.daisy.org/z3986/2005/ncx/";\n\nncx|ncx {\n  display: block;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\nncx|content {\n  display: none;\n}\n\nbody > * {\n  -adapt-behavior: body-child;\n}\n\n[role="doc-toc"],\n[role="directory"],\nnav,\n.toc,\n#toc,\n#table-of-contents,\n#contents {\n  -adapt-behavior: toc-root;\n}\n\n[role="doc-toc"] a,\n[role="directory"] a,\nnav a,\n.toc a,\n#toc a,\nncx|navLabel {\n  -adapt-behavior: toc-node-anchor;\n}\n\n[role="doc-toc"] li,\n[role="directory"] li,\nnav li,\n.toc li,\n#toc li,\nncx|navPoint {\n  -adapt-behavior: toc-node;\n}\n\n[role="doc-toc"] li > *:first-child,\n[role="directory"] li > *:first-child,\nnav li > *:first-child,\n.toc li > *:first-child,\n#toc li > *:first-child {\n  -adapt-behavior: toc-node-first-child;\n}\n\n[role="doc-toc"] ol,\n[role="directory"] ol,\nnav ol,\n.toc ol,\n#toc ol,\n[role="doc-toc"] ul,\n[role="directory"] ul,\nnav ul,\n.toc ul,\n#toc ul,\nol[role="doc-toc"],\nol[role="directory"],\nol.toc,\nol#toc,\nul[role="doc-toc"],\nul[role="directory"],\nul.toc,\nul#toc {\n  -adapt-behavior: toc-container;\n}\n',Zu='\n[data-viv-margin-discard~="block-start"] {\n  margin-block-start: 0 !important;\n}\n[data-viv-margin-discard~="block-end"] {\n  margin-block-end: 0 !important;\n}\n[data-viv-margin-discard~="inline-start"] {\n  margin-inline-start: 0 !important;\n}\n[data-viv-margin-discard~="inline-end"] {\n  margin-inline-end: 0 !important;\n}\n\n[data-viv-box-break~="inline-start"]:not([data-viv-box-break~="clone"]) {\n  margin-inline-start: 0 !important;\n  padding-inline-start: 0 !important;\n  border-inline-start-width: 0 !important;\n  border-start-start-radius: 0 !important;\n  border-end-start-radius: 0 !important;\n}\n[data-viv-box-break~="inline-end"]:not([data-viv-box-break~="clone"]) {\n  margin-inline-end: 0 !important;\n  padding-inline-end: 0 !important;\n  border-inline-end-width: 0 !important;\n  border-start-end-radius: 0 !important;\n  border-end-end-radius: 0 !important;\n}\n[data-viv-box-break~="block-start"]:not([data-viv-box-break~="clone"]) {\n  margin-block-start: 0 !important;\n  padding-block-start: 0 !important;\n  border-block-start-width: 0 !important;\n  border-start-start-radius: 0 !important;\n  border-start-end-radius: 0 !important;\n}\n[data-viv-box-break~="block-end"]:not([data-viv-box-break~="clone"]) {\n  margin-block-end: 0 !important;\n  padding-block-end: 0 !important;\n  border-block-end-width: 0 !important;\n  border-end-start-radius: 0 !important;\n  border-end-end-radius: 0 !important;\n}\n[data-viv-box-break~="block-start"][data-viv-box-break~="text-start"] {\n  text-indent: 0 !important;\n}\n[data-viv-box-break~="block-end"][data-viv-box-break~="text-end"][data-viv-box-break~="justify"] {\n  text-align-last: justify !important;\n}\n[data-viv-box-break~="block-end"][data-viv-box-break~="text-end"][data-viv-box-break~="justify"] > * {\n  text-align-last: auto;\n}\n[data-viv-box-break~="block-end"][data-viv-box-break~="text-end"]:not([data-viv-box-break~="justify"]) {\n  text-align-last: auto !important;\n}\n\nspan.viv-anonymous-block {\n  display: block;\n}\n\nviv-ts-open.viv-ts-auto > viv-ts-inner,\nviv-ts-open.viv-ts-trim > viv-ts-inner {\n  margin-inline-start: -0.5em;\n}\nviv-ts-close.viv-ts-auto > viv-ts-inner,\nviv-ts-close.viv-ts-trim > viv-ts-inner {\n  letter-spacing: -0.5em;\n}\nviv-ts-close.viv-hang-end > viv-ts-inner,\nviv-ts-close.viv-hang-last > viv-ts-inner {\n  letter-spacing: -1em;\n}\nviv-ts-open.viv-ts-auto::before,\nviv-ts-close.viv-ts-auto::after,\nviv-ts-close.viv-hang-end::after {\n  content: " ";\n  font-family: Courier, monospace;\n  word-spacing: normal;\n  letter-spacing: -0.11em;\n  line-height: 0;\n  text-orientation: mixed;\n  visibility: hidden;\n}\nviv-ts-close.viv-hang-end:not(.viv-hang-hw)::after {\n  letter-spacing: 0.4em;\n}\nviv-ts-close.viv-hang-hw > viv-ts-inner {\n  letter-spacing: -0.5em;\n}\nviv-ts-open.viv-hang-first > viv-ts-inner {\n  display: inline-block;\n  line-height: 1;\n  inline-size: 1em;\n  text-indent: 0;\n  text-align: end;\n  text-align-last: end;\n  margin-inline-start: -1em;\n}\nviv-ts-thin-sp::after {\n  content: " ";\n  font-family: Times, serif;\n  word-spacing: normal;\n  letter-spacing: -0.125em;\n  line-height: 0;\n  text-orientation: mixed;\n}\n';function Ju(e,t,n,u,i){var r=ku("ajax"),o=new XMLHttpRequest,a=r.suspend(o),s={status:0,statusText:"",url:e,contentType:null,responseText:null,responseXML:null,responseBlob:null};o.open(n||"GET",e,!0),t&&(o.responseType=t),o.onreadystatechange=function(){if(4===o.readyState){if(s.status=o.status,s.statusText=o.statusText||404==o.status&&"Not Found"||"",200==s.status||0==s.status)if(t&&t!==Xu.DOCUMENT||!o.responseXML||"parsererror"==o.responseXML.documentElement.localName)if((!t||t===Xu.DOCUMENT)&&o.response instanceof Document)s.responseXML=o.response,s.contentType=o.response.contentType;else{var n=o.response;t&&t!==Xu.TEXT||"string"!=typeof n?n?s.responseBlob="string"==typeof n?ei([n]):n:f.warn("Unexpected empty success response for",e):s.responseText=n;var u=o.getResponseHeader("Content-Type");u&&(s.contentType=u.replace(/(.*);.*$/,"$1"))}else s.responseXML=o.responseXML,s.contentType=o.responseXML.contentType;a.schedule(s)}};try{u?(o.setRequestHeader("Content-Type",i||"text/plain; charset=UTF-8"),o.send(u)):(/^file:|^https?:\/\/[^/]+\.githubusercontent\.com|\.(xhtml|xht|opf)$/i.test(e)?/\/aozorabunko\/[^/]+\/cards\/[^/]+\/files\/[^/.]+\.html$/.test(e)?o.overrideMimeType("text/html; charset=Shift_JIS"):/\.(html|htm)$/i.test(e)?o.overrideMimeType("text/html; charset=UTF-8"):/\.(xhtml|xht|xml|opf)$/i.test(e)?o.overrideMimeType("application/xml; charset=UTF-8"):/\.(txt|css)$/i.test(e)?o.overrideMimeType("text/plain; charset=UTF-8"):o.overrideMimeType("text/html; charset=UTF-8"):/^data:,(<|%3c)/i.test(e)?o.overrideMimeType("text/html; charset=UTF-8"):/^data:,/i.test(e)&&o.overrideMimeType("text/plain; charset=UTF-8"),o.send(null))}catch(t){f.warn(t,"Error fetching "+e),a.schedule(s)}return r.result()}function ei(e,t){return new Blob(e,{type:t||"application/octet-stream"})}!function(e){e.DEFAULT="",e.ARRAYBUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(Xu||(Xu={}));var ti,ni=function(){function e(e,t){this.parser=void 0,this.type=void 0,this.resources={},this.fetchers={},this.parser=e,this.type=t}var t=e.prototype;return t.load=function(e,t,n){e=V(e);var u=this.resources[e];return void 0!==u?Iu(u):this.fetch(e,t,n).get()},t.fetchInner=function(e,t,n){var u=this,i=ku("fetch"),r=e.endsWith("?viv-toc-box");r&&(e=e.replace("?viv-toc-box",""));var o=$("user-agent.xml",X),a=!r&&e===o;return a&&(e="data:application/xml,"+encodeURIComponent(Yu)),Ju(e,this.type).then((function(s){if(s.status>=400&&t)throw new Error((n||"Failed to fetch required resource: "+e)+" ("+s.status+(s.statusText?" "+s.statusText:"")+")");r?(e+="?viv-toc-box",s.url+="?viv-toc-box"):a&&(s.url=e=o),u.parser(s,u).then((function(t){delete u.fetchers[e],u.resources[e]=t,i.finish(t)}))})),i.result()},t.fetch=function(e,t,n){var u=this;if(e=V(e),this.resources[e])return null;var i=this.fetchers[e];return i||(i=new Hu((function(){return u.fetchInner(e,t,n)}),"Fetch "+e),this.fetchers[e]=i,i.start()),i},t.get=function(e){return this.resources[V(e)]},t.delete=function(e){delete this.resources[V(e)]},e}();function ui(e,t){var n=e.responseText;return Iu(n?z(n):null)}!function(e){e.USER_AGENT="UA",e.USER="User",e.AUTHOR="Author"}(ti||(ti={}));var ii,ri=function(){function e(e){this.scope=void 0,this.flavor=void 0,this.scope=e,this.flavor=ti.AUTHOR}var t=e.prototype;return t.getCurrentToken=function(){return null},t.getScope=function(){return this.scope},t.error=function(e,t){},t.startStylesheet=function(e){this.flavor=e},t.tagSelector=function(e,t){},t.classSelector=function(e){},t.pseudoclassSelector=function(e,t){},t.pseudoelementSelector=function(e,t){},t.idSelector=function(e){},t.attributeSelector=function(e,t,n,u){},t.descendantSelector=function(){},t.childSelector=function(){},t.adjacentSiblingSelector=function(){},t.followingSiblingSelector=function(){},t.nextSelector=function(){},t.startSelectorRule=function(){},t.startFontFaceRule=function(){},t.startFootnoteRule=function(e){},t.startViewportRule=function(){},t.startDefineRule=function(){},t.startRegionRule=function(){},t.startPageRule=function(){},t.startPageMarginBoxRule=function(e){},t.startWhenRule=function(e){},t.startMediaRule=function(e){this.startWhenRule(e)},t.startFlowRule=function(e){},t.startPageTemplateRule=function(){},t.startPageMasterRule=function(e,t,n){},t.startPartitionRule=function(e,t,n){},t.startPartitionGroupRule=function(e,t,n){},t.startRuleBody=function(){},t.property=function(e,t,n){},t.endRule=function(){},t.startFuncWithSelector=function(e){},t.endFuncWithSelector=function(){},t.pushSelectorText=function(e){},t.getImportantSpecificity=function(){switch(this.flavor){case ti.USER_AGENT:return 0;case ti.USER:return 100663296;default:return 83886080}},t.getBaseSpecificity=function(){switch(this.flavor){case ti.USER_AGENT:return 0;case ti.USER:return 16777216;default:return 33554432}},e}(),oi=function(e){function t(){var t;return(t=e.call(this,null)||this).stack=[],t.tokenizer=null,t.slave=null,t}x(t,e);var n=t.prototype;return n.pushHandler=function(e){this.stack.push(this.slave),this.slave=e},n.popHandler=function(){this.slave=this.stack.pop()},n.getCurrentToken=function(){return this.tokenizer?this.tokenizer.token():null},n.getScope=function(){return this.slave.getScope()},n.error=function(e,t){this.slave.error(e,t)},n.errorMsg=function(e,t){var n;f.warn(e,null!=(n=null==t?void 0:t.toString())?n:"")},n.startStylesheet=function(t){e.prototype.startStylesheet.call(this,t),this.stack.length>0&&(this.slave=this.stack[0],this.stack=[]),this.slave.startStylesheet(t)},n.tagSelector=function(e,t){this.slave.tagSelector(e,t)},n.classSelector=function(e){this.slave.classSelector(e)},n.pseudoclassSelector=function(e,t){this.slave.pseudoclassSelector(e,t)},n.pseudoelementSelector=function(e,t){this.slave.pseudoelementSelector(e,t)},n.idSelector=function(e){this.slave.idSelector(e)},n.attributeSelector=function(e,t,n,u){this.slave.attributeSelector(e,t,n,u)},n.descendantSelector=function(){this.slave.descendantSelector()},n.childSelector=function(){this.slave.childSelector()},n.adjacentSiblingSelector=function(){this.slave.adjacentSiblingSelector()},n.followingSiblingSelector=function(){this.slave.followingSiblingSelector()},n.nextSelector=function(){this.slave.nextSelector()},n.startSelectorRule=function(){this.slave.startSelectorRule()},n.startFontFaceRule=function(){this.slave.startFontFaceRule()},n.startFootnoteRule=function(e){this.slave.startFootnoteRule(e)},n.startViewportRule=function(){this.slave.startViewportRule()},n.startDefineRule=function(){this.slave.startDefineRule()},n.startRegionRule=function(){this.slave.startRegionRule()},n.startPageRule=function(){this.slave.startPageRule()},n.startPageMarginBoxRule=function(e){this.slave.startPageMarginBoxRule(e)},n.startWhenRule=function(e){this.slave.startWhenRule(e)},n.startFlowRule=function(e){this.slave.startFlowRule(e)},n.startPageTemplateRule=function(){this.slave.startPageTemplateRule()},n.startPageMasterRule=function(e,t,n){this.slave.startPageMasterRule(e,t,n)},n.startPartitionRule=function(e,t,n){this.slave.startPartitionRule(e,t,n)},n.startPartitionGroupRule=function(e,t,n){this.slave.startPartitionGroupRule(e,t,n)},n.startRuleBody=function(){this.slave.startRuleBody()},n.property=function(e,t,n){this.slave.property(e,t,n)},n.endRule=function(){this.slave.endRule()},n.startFuncWithSelector=function(e){this.slave.startFuncWithSelector(e)},n.endFuncWithSelector=function(){this.slave.endFuncWithSelector()},n.pushSelectorText=function(e){this.slave.pushSelectorText(e)},t}(ri),ai=function(e){function t(t,n,u){var i;return(i=e.call(this,t)||this).owner=void 0,i.topLevel=void 0,i.depth=0,i.owner=n,i.topLevel=u,n&&(i.flavor=n.flavor),i}x(t,e);var n=t.prototype;return n.getCurrentToken=function(){return this.owner.getCurrentToken()},n.error=function(e,t){this.owner.errorMsg(e,t)},n.startRuleBody=function(){this.depth++},n.endRule=function(){0!=--this.depth||this.topLevel||this.owner.popHandler()},t}(ri),si=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.report=function(e){this.error(e,this.getCurrentToken())},n.reportAndSkip=function(e){this.report(e),this.owner.pushHandler(new ai(this.scope,this.owner,!1))},n.startSelectorRule=function(){this.reportAndSkip("E_CSS_UNEXPECTED_SELECTOR")},n.startFontFaceRule=function(){this.reportAndSkip("E_CSS_UNEXPECTED_FONT_FACE")},n.startFootnoteRule=function(e){this.reportAndSkip("E_CSS_UNEXPECTED_FOOTNOTE")},n.startViewportRule=function(){this.reportAndSkip("E_CSS_UNEXPECTED_VIEWPORT")},n.startDefineRule=function(){this.reportAndSkip("E_CSS_UNEXPECTED_DEFINE")},n.startRegionRule=function(){this.reportAndSkip("E_CSS_UNEXPECTED_REGION")},n.startPageRule=function(){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE")},n.startWhenRule=function(e){this.reportAndSkip("E_CSS_UNEXPECTED_WHEN")},n.startFlowRule=function(e){this.reportAndSkip("E_CSS_UNEXPECTED_FLOW")},n.startPageTemplateRule=function(){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE_TEMPLATE")},n.startPageMasterRule=function(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE_MASTER")},n.startPartitionRule=function(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PARTITION")},n.startPartitionGroupRule=function(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PARTITION_GROUP")},n.startFuncWithSelector=function(e){this.reportAndSkip("E_CSS_UNEXPECTED_SELECTOR_FUNC")},n.endFuncWithSelector=function(){this.reportAndSkip("E_CSS_UNEXPECTED_END_SELECTOR_FUNC")},n.property=function(e,t,n){this.error("E_CSS_UNEXPECTED_PROPERTY",this.getCurrentToken())},t}(ai),li=[],ci=[],Di=[],hi=[],fi=[],di=[],pi=[],Ei=[],Ci=[],gi=[],Fi=[],vi=[],mi=[];!function(e){e[e.SELECTOR_NAME_1=1]="SELECTOR_NAME_1",e[e.SELECTOR_NAME=2]="SELECTOR_NAME",e[e.SELECTOR_ANY_1=3]="SELECTOR_ANY_1",e[e.SELECTOR_ANY=4]="SELECTOR_ANY",e[e.SELECTOR_ID_1=5]="SELECTOR_ID_1",e[e.SELECTOR_ID=6]="SELECTOR_ID",e[e.SELECTOR_CLASS_1=7]="SELECTOR_CLASS_1",e[e.SELECTOR_CLASS=8]="SELECTOR_CLASS",e[e.SELECTOR_ATTR_1=9]="SELECTOR_ATTR_1",e[e.SELECTOR_ATTR=10]="SELECTOR_ATTR",e[e.SELECTOR_CHILD=11]="SELECTOR_CHILD",e[e.SELECTOR_SIBLING=12]="SELECTOR_SIBLING",e[e.SELECTOR_BODY=13]="SELECTOR_BODY",e[e.SELECTOR_PSEUDOCLASS=14]="SELECTOR_PSEUDOCLASS",e[e.VAL_IDENT=15]="VAL_IDENT",e[e.VAL_HASH=16]="VAL_HASH",e[e.VAL_NUM=17]="VAL_NUM",e[e.VAL_INT=18]="VAL_INT",e[e.VAL_NUMERIC=19]="VAL_NUMERIC",e[e.VAL_STR=20]="VAL_STR",e[e.VAL_URL=21]="VAL_URL",e[e.VAL_COMMA=22]="VAL_COMMA",e[e.VAL_SLASH=23]="VAL_SLASH",e[e.VAL_FUNC=24]="VAL_FUNC",e[e.VAL_C_PAR=25]="VAL_C_PAR",e[e.VAL_END=26]="VAL_END",e[e.RULE_END=27]="RULE_END",e[e.IDENT=28]="IDENT",e[e.SELECTOR_START=29]="SELECTOR_START",e[e.AT=30]="AT",e[e.EXPR_IDENT=31]="EXPR_IDENT",e[e.EXPR_NUM=32]="EXPR_NUM",e[e.EXPR_NUMERIC=33]="EXPR_NUMERIC",e[e.EXPR_STR=34]="EXPR_STR",e[e.EXPR_PARAM=35]="EXPR_PARAM",e[e.EXPR_PREFIX=36]="EXPR_PREFIX",e[e.EXPR_INFIX=37]="EXPR_INFIX",e[e.EXPR_FUNC=38]="EXPR_FUNC",e[e.EXPR_C_PAR=39]="EXPR_C_PAR",e[e.EXPR_O_PAR=40]="EXPR_O_PAR",e[e.SELECTOR_NEXT=41]="SELECTOR_NEXT",e[e.SELECTOR_PSEUDOELEM=42]="SELECTOR_PSEUDOELEM",e[e.EXPR_O_BRC=43]="EXPR_O_BRC",e[e.VAL_FINISH=44]="VAL_FINISH",e[e.EXPR_INFIX_NAME=45]="EXPR_INFIX_NAME",e[e.PROP=46]="PROP",e[e.VAL_BANG=47]="VAL_BANG",e[e.VAL_BRC=48]="VAL_BRC",e[e.EXPR_SEMICOL=49]="EXPR_SEMICOL",e[e.ERROR_PUSH=50]="ERROR_PUSH",e[e.ERROR_POP=51]="ERROR_POP",e[e.ERROR_POP_DECL=52]="ERROR_POP_DECL",e[e.ERROR_SEMICOL=53]="ERROR_SEMICOL",e[e.VAL_PLUS=54]="VAL_PLUS",e[e.SELECTOR_PSEUDOCLASS_1=55]="SELECTOR_PSEUDOCLASS_1",e[e.SELECTOR_FOLLOWING_SIBLING=56]="SELECTOR_FOLLOWING_SIBLING",e[e.VAL_URANGE=57]="VAL_URANGE",e[e.SELECTOR_PSEUDOELEM_1=58]="SELECTOR_PSEUDOELEM_1",e[e.DONE=200]="DONE"}(ii||(ii={}));var Ai,yi=zn.LAST+1,Bi=zn.LAST+2,bi=zn.LAST+3;li[zn.IDENT]=ii.IDENT,li[zn.STAR]=ii.SELECTOR_START,li[zn.HASH]=ii.SELECTOR_START,li[zn.CLASS]=ii.SELECTOR_START,li[zn.O_BRK]=ii.SELECTOR_START,li[zn.COLON]=ii.SELECTOR_START,li[zn.COL_COL]=ii.SELECTOR_START,li[zn.AT]=ii.AT,li[zn.C_BRC]=ii.RULE_END,li[zn.EOF]=ii.DONE,ci[zn.IDENT]=ii.PROP,ci[zn.EOF]=ii.DONE,di[zn.IDENT]=ii.SELECTOR_NAME,di[zn.STAR]=ii.SELECTOR_ANY,di[zn.HASH]=ii.SELECTOR_ID,di[zn.CLASS]=ii.SELECTOR_CLASS,di[zn.O_BRK]=ii.SELECTOR_ATTR,di[zn.COLON]=ii.SELECTOR_PSEUDOCLASS,di[zn.COL_COL]=ii.SELECTOR_PSEUDOELEM,Di[zn.GT]=ii.SELECTOR_CHILD,Di[zn.PLUS]=ii.SELECTOR_SIBLING,Di[zn.TILDE]=ii.SELECTOR_FOLLOWING_SIBLING,Di[zn.IDENT]=ii.SELECTOR_NAME_1,Di[zn.STAR]=ii.SELECTOR_ANY_1,Di[zn.HASH]=ii.SELECTOR_ID_1,Di[zn.CLASS]=ii.SELECTOR_CLASS_1,Di[zn.O_BRK]=ii.SELECTOR_ATTR_1,Di[zn.O_BRC]=ii.SELECTOR_BODY,Di[zn.COLON]=ii.SELECTOR_PSEUDOCLASS_1,Di[zn.COL_COL]=ii.SELECTOR_PSEUDOELEM_1,Di[zn.COMMA]=ii.SELECTOR_NEXT,hi[zn.GT]=ii.SELECTOR_CHILD,hi[zn.PLUS]=ii.SELECTOR_SIBLING,hi[zn.TILDE]=ii.SELECTOR_FOLLOWING_SIBLING,hi[zn.IDENT]=ii.SELECTOR_NAME_1,hi[zn.STAR]=ii.SELECTOR_ANY_1,hi[zn.HASH]=ii.SELECTOR_ID_1,hi[zn.CLASS]=ii.SELECTOR_CLASS_1,hi[zn.O_BRK]=ii.SELECTOR_ATTR_1,hi[zn.COLON]=ii.SELECTOR_PSEUDOCLASS_1,fi[zn.IDENT]=ii.SELECTOR_NAME,fi[zn.STAR]=ii.SELECTOR_ANY,fi[zn.HASH]=ii.SELECTOR_ID,fi[zn.CLASS]=ii.SELECTOR_CLASS,fi[zn.COLON]=ii.SELECTOR_PSEUDOCLASS,fi[zn.COL_COL]=ii.SELECTOR_PSEUDOELEM,fi[zn.O_BRK]=ii.SELECTOR_ATTR,fi[zn.O_BRC]=ii.SELECTOR_BODY,pi[zn.IDENT]=ii.VAL_IDENT,pi[zn.HASH]=ii.VAL_HASH,pi[zn.NUM]=ii.VAL_NUM,pi[zn.INT]=ii.VAL_INT,pi[zn.NUMERIC]=ii.VAL_NUMERIC,pi[zn.STR]=ii.VAL_STR,pi[zn.URL]=ii.VAL_URL,pi[zn.URANGE]=ii.VAL_URANGE,pi[zn.COMMA]=ii.VAL_COMMA,pi[zn.SLASH]=ii.VAL_SLASH,pi[zn.FUNC]=ii.VAL_FUNC,pi[zn.C_PAR]=ii.VAL_C_PAR,pi[zn.SEMICOL]=ii.VAL_END,pi[zn.C_BRC]=ii.VAL_BRC,pi[zn.BANG]=ii.VAL_BANG,pi[zn.PLUS]=ii.VAL_PLUS,pi[zn.EOF]=ii.VAL_FINISH,Ei[zn.IDENT]=ii.EXPR_IDENT,Ei[zn.NUM]=ii.EXPR_NUM,Ei[zn.INT]=ii.EXPR_NUM,Ei[zn.NUMERIC]=ii.EXPR_NUMERIC,Ei[zn.STR]=ii.EXPR_STR,Ei[zn.O_PAR]=ii.EXPR_O_PAR,Ei[zn.FUNC]=ii.EXPR_FUNC,Ei[zn.BANG]=ii.EXPR_PREFIX,Ei[zn.MINUS]=ii.EXPR_PREFIX,Ei[zn.DOLLAR]=ii.EXPR_PARAM,Ci[zn.IDENT]=ii.EXPR_INFIX_NAME,Ci[zn.COMMA]=ii.EXPR_INFIX,Ci[zn.GT]=ii.EXPR_INFIX,Ci[zn.LT]=ii.EXPR_INFIX,Ci[zn.GT_EQ]=ii.EXPR_INFIX,Ci[zn.LT_EQ]=ii.EXPR_INFIX,Ci[zn.EQ]=ii.EXPR_INFIX,Ci[zn.EQ_EQ]=ii.EXPR_INFIX,Ci[zn.BANG_EQ]=ii.EXPR_INFIX,Ci[zn.AMP_AMP]=ii.EXPR_INFIX,Ci[zn.BAR_BAR]=ii.EXPR_INFIX,Ci[zn.PLUS]=ii.EXPR_INFIX,Ci[zn.MINUS]=ii.EXPR_INFIX,Ci[zn.SLASH]=ii.EXPR_INFIX,Ci[zn.PERCENT]=ii.EXPR_INFIX,Ci[zn.STAR]=ii.EXPR_INFIX,Ci[zn.COLON]=ii.EXPR_INFIX,Ci[zn.QMARK]=ii.EXPR_INFIX,Ci[zn.C_PAR]=ii.EXPR_C_PAR,Ci[zn.O_BRC]=ii.EXPR_O_BRC,Ci[zn.SEMICOL]=ii.EXPR_SEMICOL,gi[zn.EOF]=ii.DONE,gi[zn.O_BRC]=ii.ERROR_PUSH,gi[zn.C_BRC]=ii.ERROR_POP,gi[zn.O_BRK]=ii.ERROR_PUSH,gi[zn.C_BRK]=ii.ERROR_POP,gi[zn.O_PAR]=ii.ERROR_PUSH,gi[zn.C_PAR]=ii.ERROR_POP,gi[zn.SEMICOL]=ii.ERROR_SEMICOL,Fi[zn.EOF]=ii.DONE,Fi[zn.O_BRC]=ii.ERROR_PUSH,Fi[zn.C_BRC]=ii.ERROR_POP_DECL,Fi[zn.O_BRK]=ii.ERROR_PUSH,Fi[zn.C_BRK]=ii.ERROR_POP,Fi[zn.O_PAR]=ii.ERROR_PUSH,Fi[zn.C_PAR]=ii.ERROR_POP,Fi[zn.SEMICOL]=ii.ERROR_SEMICOL,vi[zn.EOF]=ii.DONE,vi[zn.O_BRC]=ii.ERROR_PUSH,vi[zn.C_BRC]=ii.ERROR_POP,vi[zn.O_BRK]=ii.ERROR_PUSH,vi[zn.C_BRK]=ii.ERROR_POP,vi[zn.O_PAR]=ii.ERROR_PUSH,vi[zn.C_PAR]=ii.ERROR_POP,mi[zn.C_PAR]=0,mi[zn.COMMA]=0,mi[zn.QMARK]=1,mi[zn.COLON]=1,mi[zn.AMP_AMP]=2,mi[zn.BAR_BAR]=2,mi[zn.LT]=3,mi[zn.GT]=3,mi[zn.LT_EQ]=3,mi[zn.GT_EQ]=3,mi[zn.EQ]=3,mi[zn.EQ_EQ]=3,mi[zn.BANG_EQ]=3,mi[zn.PLUS]=4,mi[zn.MINUS]=4,mi[zn.STAR]=5,mi[zn.SLASH]=5,mi[zn.PERCENT]=5,mi[zn.EOF]=6,mi[yi]=2,mi[Bi]=2,function(e){e[e.PROP=0]="PROP",e[e.WHEN=1]="WHEN",e[e.MEDIA=2]="MEDIA",e[e.IMPORT=3]="IMPORT",e[e.SUPPORTS=4]="SUPPORTS"}(Ai||(Ai={}));var wi=function(){function e(e,t,n,u){this.actions=void 0,this.tokenizer=void 0,this.handler=void 0,this.baseURL=void 0,this.valStack=[],this.namespacePrefixToURI={},this.defaultNamespaceURI=null,this.propName=null,this.propImportant=!1,this.exprContext=void 0,this.result=null,this.importReady=!1,this.importURL=null,this.importCondition=null,this.errorBrackets=[],this.ruleStack=[],this.regionRule=!1,this.pageRule=!1,this.inStyleDeclaration=!1,this.actions=e,this.tokenizer=t,this.handler=n,this.baseURL=u,this.exprContext=Ai.MEDIA}var t=e.prototype;return t.extractVals=function(e,t){for(var n=[],u=this.valStack;t<u.length&&(n.push(u[t++]),t!==u.length);){if(u[t++]!==e)throw new Error("Unexpected state");t===u.length&&n.push(It)}return n},t.valStackReduce=function(e,t){var n,u=this.valStack,i=u.length,r=0;do{if(n=u[--i],")"===e&&n instanceof Kt)if(")"===n.text)r++;else if("("===n.text){if(0===r)return null;r--}}while(void 0!==n&&"string"!=typeof n);var o=u.length-(i+1);if(o>1&&u.splice(i+1,o,new jt(u.slice(i+1,u.length))),","==e)return null;i++;do{n=u[--i]}while(void 0!==n&&("string"!=typeof n||","==n));if(o=u.length-(i+1),"("==n){")"!=e&&t.type!==zn.EOF&&(this.handler.error("E_CSS_MISMATCHED_C_PAR",t),this.actions=Fi);var a=new qt(u[i-1],this.extractVals(",",i+1));if(u.splice(i-1,o+2,a),"var"===a.name){var s=a.values[0]instanceof _t&&a.values[0].name;ln(s)&&s!==this.propName||(this.handler.error("E_CSS_INVALID_VAR "+a.toString(),t),this.actions=Fi)}return a}if(";"!=e||i>=0)return this.handler.error("E_CSS_UNEXPECTED_VAL_END",t),this.actions=Fi,null;if(o>1)return new $t(this.extractVals(",",i+1));var l=u[0];return l instanceof Tt?l:l?new Kt(l.toString()):It},t.exprError=function(e,t){this.actions=this.propName?Fi:gi,f.warn(e,t.toString())},t.exprStackReduce=function(e,t){for(var n,u=this.valStack,i=this.handler,r=u.pop();;){var o=u.pop();if(e==zn.C_PAR){for(var a=[r];o==zn.COMMA;)a.unshift(u.pop()),o=u.pop();if("string"==typeof o){if("{"==o){for(;a.length>=2;){var s=a.shift(),l=a.shift(),c=new et(i.getScope(),s,l);a.unshift(c)}return u.push(new Yt(a[0])),!0}if("("==o){var D=u.pop(),h=u.pop();r=new Ct(i.getScope(),Re(h,D),a),e=zn.EOF;continue}}if(o==zn.O_PAR){r.isMediaName()&&(r=new vt(i.getScope(),r,null)),e=zn.EOF;continue}}else if("string"==typeof o){u.push(o);break}if(o<0)if(o==-zn.BANG)r=new qe(i.getScope(),r);else if(o==-zn.MINUS)r=new Ke(i.getScope(),r);else{if(o!=-bi)return this.exprError("F_UNEXPECTED_STATE",t),!1;r=new Ye(i.getScope(),r)}else{if(mi[e]>mi[o]){u.push(o);break}switch(n=u.pop(),o){case zn.AMP_AMP:r=new Qe(i.getScope(),n,r);break;case yi:r=new Ze(i.getScope(),n,r);break;case Bi:r=new tt(i.getScope(),n,r);break;case zn.BAR_BAR:r=new Je(i.getScope(),n,r);break;case zn.LT:r=new nt(i.getScope(),n,r);break;case zn.GT:r=new it(i.getScope(),n,r);break;case zn.LT_EQ:r=new ut(i.getScope(),n,r);break;case zn.GT_EQ:r=new rt(i.getScope(),n,r);break;case zn.EQ:case zn.EQ_EQ:r=new ot(i.getScope(),n,r);break;case zn.BANG_EQ:r=new at(i.getScope(),n,r);break;case zn.PLUS:r=new st(i.getScope(),n,r);break;case zn.MINUS:r=new lt(i.getScope(),n,r);break;case zn.STAR:r=new ct(i.getScope(),n,r);break;case zn.SLASH:r=new Dt(i.getScope(),n,r);break;case zn.PERCENT:r=new ht(i.getScope(),n,r);break;case zn.COLON:if(!(u.length>1))return this.exprError("E_CSS_EXPR_COND",t),!1;switch(u[u.length-1]){case zn.QMARK:u.pop(),r=new gt(i.getScope(),u.pop(),n,r);break;case zn.O_PAR:if(!n.isMediaName())return this.exprError("E_CSS_MEDIA_TEST",t),!1;r=new vt(i.getScope(),n,r)}break;case zn.QMARK:if(e!=zn.COLON)return this.exprError("E_CSS_EXPR_COND",t),!1;case zn.O_PAR:return u.push(n),u.push(o),u.push(r),!1;default:return this.exprError("F_UNEXPECTED_STATE",t),!1}}}return u.push(r),!1},t.readSupportsTest=function(e){var t,n,u=e.type===zn.FUNC,i=this.tokenizer;if(u)t=e.position+(n=e.text).length+1;else{if(e.type!==zn.O_PAR)return null;var r=i.nthToken(1),o=i.nthToken(2);if(r.type===zn.IDENT&&o.type===zn.COLON)i.consume(),i.consume(),n=r.text,t=o.position+1;else{if(r.type===zn.O_PAR||r.type===zn.FUNC||r.type===zn.IDENT&&"not"===r.text.toLowerCase()&&(o.type===zn.O_PAR||o.type===zn.FUNC))return null;t=e.position+1}}for(var a,s=0,l=0;s>=0;)switch(i.consume(),(a=i.token()).type){case zn.C_PAR:s--;break;case zn.O_PAR:case zn.FUNC:s++;break;case zn.COMMA:0===s&&l++;break;case zn.EOF:return this.exprError("E_CSS_UNEXPECTED_EOF",a),null}i.consume();var c=u&&"selector"===n&&l>0?"":i.input.substring(t,a.position).trim();return new mt(this.handler.getScope(),n,c,u)},t.readPseudoParams=function(){for(var e=[];;){var t=this.tokenizer.token();switch(t.type){case zn.IDENT:e.push(t.text);break;case zn.PLUS:e.push("+");break;case zn.NUM:case zn.INT:e.push(t.num);break;default:return e}this.tokenizer.consume()}},t.readNthPseudoParams=function(){var e=!1,t=this.tokenizer.token();if(t.type===zn.PLUS)e=!0,this.tokenizer.consume(),t=this.tokenizer.token();else if(t.type===zn.IDENT&&("even"===t.text||"odd"===t.text))return this.tokenizer.consume(),[2,"odd"===t.text?1:0];switch(t.type){case zn.NUMERIC:if(e&&t.num<0)return null;case zn.IDENT:if(e&&"-"===t.text.charAt(0))return null;if("n"===t.text||"-n"===t.text){if(e&&t.precededBySpace)return null;var n="-n"===t.text?-1:1;t.type===zn.NUMERIC&&(n=t.num);var u=0;this.tokenizer.consume();var i=(t=this.tokenizer.token()).type===zn.MINUS,r=t.type===zn.PLUS||i;if(r&&(this.tokenizer.consume(),t=this.tokenizer.token()),t.type===zn.INT){if(1/(u=t.num)==-1/0){if(u=0,r)return null}else if(u<0){if(r)return null}else if(u>=0&&!r)return null;this.tokenizer.consume()}else if(r)return null;return[n,i&&u>0?-u:u]}if("n-"===t.text||"-n-"===t.text){if(e&&t.precededBySpace)return null;var o="-n-"===t.text?-1:1;if(t.type===zn.NUMERIC&&(o=t.num),this.tokenizer.consume(),(t=this.tokenizer.token()).type===zn.INT)return t.num<0||1/t.num==-1/0?null:(this.tokenizer.consume(),[o,t.num])}else{var a=t.text.match(/^n(-[0-9]+)$/);if(a)return e&&t.precededBySpace?null:(this.tokenizer.consume(),[t.type===zn.NUMERIC?t.num:1,parseInt(a[1],10)]);if(a=t.text.match(/^-n(-[0-9]+)$/))return this.tokenizer.consume(),[-1,parseInt(a[1],10)]}return null;case zn.INT:return e&&(t.precededBySpace||t.num<0)?null:(this.tokenizer.consume(),[0,t.num])}return null},t.makeCondition=function(e,t){var n=this.handler.getScope();if(!n)return null;if(t=t||n._true,e)for(var u,i=_(e.split(/\s+/));!(u=i()).done;)switch(u.value){case"vertical":t=yt(n,t,new qe(n,new dt(n,"pref-horizontal")));break;case"horizontal":t=yt(n,t,new dt(n,"pref-horizontal"));break;case"day":t=yt(n,t,new qe(n,new dt(n,"pref-night-mode")));break;case"night":t=yt(n,t,new dt(n,"pref-night-mode"));break;default:t=n._false}return t===n._true?null:new Yt(t)},t.isInsidePropertyOnlyRule=function(){switch(this.ruleStack[this.ruleStack.length-1]){case"[selector]":case"font-face":case"-epubx-flow":case"-epubx-viewport":case"-epubx-define":case"-adapt-footnote-area":return!0}return!1},t.runParser=function(e,t,n,u,i,r){var o,a,s,l,c,D,h,f=this.handler,d=this.tokenizer,p=this.valStack,E=null;for(n&&(this.inStyleDeclaration=!0),u&&(this.exprContext=Ai.MEDIA,this.valStack.push("{"));e>0;--e)if(o=d.token(),i&&null===E&&"("===d.input[E=o.position-1]&&E++,this.actions===pi&&this.errorBrackets.length>0&&(o.type===this.errorBrackets[this.errorBrackets.length-1]||o.type===zn.SEMICOL||o.type===zn.BANG)){if(o.type===this.errorBrackets[this.errorBrackets.length-1]&&(this.errorBrackets.pop(),o.type===zn.C_PAR&&this.valStackReduce(")",o))){d.consume();continue}p.push(new Kt(o.toString())),d.consume()}else switch(this.actions[o.type]){case ii.IDENT:if(!this.inStyleDeclaration||d.nthToken(1).type!=zn.COLON){this.isInsidePropertyOnlyRule()?(f.error("E_CSS_COLON_EXPECTED",d.nthToken(1)),this.actions=Fi):(this.actions=di,f.startSelectorRule());continue}this.propName=o.text,this.propImportant=!1,d.consume(),d.consume(),this.actions=pi,p.splice(0,p.length);continue;case ii.PROP:if(d.nthToken(1).type!=zn.COLON){this.actions=Fi,f.error("E_CSS_COLON_EXPECTED",d.nthToken(1));continue}this.propName=o.text,this.propImportant=!1,d.consume(),d.consume(),this.actions=pi,p.splice(0,p.length);continue;case ii.SELECTOR_START:this.actions=di,f.startSelectorRule();continue;case ii.SELECTOR_NAME_1:if(!o.precededBySpace){this.actions=vi,f.error("E_CSS_SPACE_EXPECTED",o);continue}f.descendantSelector();case ii.SELECTOR_NAME:if(d.nthToken(1).type==zn.BAR)if(d.consume(),d.consume(),null!=(s=this.namespacePrefixToURI[o.text]))switch((o=d.token()).type){case zn.IDENT:f.tagSelector(s,o.text),this.actions=i?hi:Di,d.consume();break;case zn.STAR:f.tagSelector(s,null),this.actions=i?hi:Di,d.consume();break;default:this.actions=gi,f.error("E_CSS_NAMESPACE",o)}else this.actions=gi,f.error("E_CSS_UNDECLARED_PREFIX",o);else f.tagSelector(this.defaultNamespaceURI,o.text),this.actions=i?hi:Di,d.consume();continue;case ii.SELECTOR_ANY_1:if(!o.precededBySpace){this.actions=vi,f.error("E_CSS_SPACE_EXPECTED",o);continue}f.descendantSelector();case ii.SELECTOR_ANY:if(d.nthToken(1).type==zn.BAR)switch(d.consume(),d.consume(),(o=d.token()).type){case zn.IDENT:f.tagSelector(null,o.text),this.actions=i?hi:Di,d.consume();break;case zn.STAR:f.tagSelector(null,null),this.actions=i?hi:Di,d.consume();break;default:this.actions=gi,f.error("E_CSS_NAMESPACE",o)}else f.tagSelector(this.defaultNamespaceURI,null),this.actions=i?hi:Di,d.consume();continue;case ii.SELECTOR_ID_1:o.precededBySpace&&f.descendantSelector();case ii.SELECTOR_ID:if(!o.text){f.error("E_CSS_SYNTAX",o),d.consume();continue}f.idSelector(o.text),this.actions=i?hi:Di,d.consume();continue;case ii.SELECTOR_CLASS_1:o.precededBySpace&&f.descendantSelector();case ii.SELECTOR_CLASS:f.classSelector(o.text),this.actions=i?hi:Di,d.consume();continue;case ii.SELECTOR_PSEUDOCLASS_1:o.precededBySpace&&f.descendantSelector();case ii.SELECTOR_PSEUDOCLASS:d.consume();e:switch((o=d.token()).type){case zn.IDENT:f.pseudoclassSelector(o.text,null),d.consume(),this.actions=i?hi:Di;continue;case zn.FUNC:switch(l=o.text,d.consume(),l){case"is":case"not":case"where":case"has":this.actions=di,f.startFuncWithSelector(l),this.actions=this.runParser(Number.POSITIVE_INFINITY,!1,!1,!1,!0,"has"===l)?Di:vi;continue;case"lang":case"href-epub-type":if((o=d.token()).type===zn.IDENT){h=[o.text],d.consume();break}break e;case"nth-child":case"nth-of-type":case"nth-last-child":case"nth-last-of-type":case"nth":if(h=this.readNthPseudoParams())break;break e;default:h=this.readPseudoParams()}if((o=d.token()).type==zn.C_PAR){f.pseudoclassSelector(l,h),d.consume(),this.actions=i?hi:Di;continue}}f.error("E_CSS_PSEUDOCLASS_SYNTAX",o),this.actions=gi;continue;case ii.SELECTOR_PSEUDOELEM_1:o.precededBySpace&&f.descendantSelector();case ii.SELECTOR_PSEUDOELEM:switch(d.consume(),(o=d.token()).type){case zn.IDENT:f.pseudoelementSelector(o.text,null),this.actions=i?hi:Di,d.consume();continue;case zn.FUNC:if(l=o.text,d.consume(),"nth-fragment"==l){if(null===(h=this.readNthPseudoParams()))break}else h=this.readPseudoParams();if((o=d.token()).type==zn.C_PAR){f.pseudoelementSelector(l,h),this.actions=i?hi:Di,d.consume();continue}}f.error("E_CSS_PSEUDOELEM_SYNTAX",o),this.actions=gi;continue;case ii.SELECTOR_ATTR_1:o.precededBySpace&&f.descendantSelector();case ii.SELECTOR_ATTR:if(d.consume(),(o=d.token()).type==zn.IDENT)l=o.text,d.consume();else if(o.type==zn.STAR)l=null,d.consume();else{if(o.type!=zn.BAR){this.actions=vi,f.error("E_CSS_ATTR",o),d.consume();continue}l=""}if((o=d.token()).type==zn.BAR){if(null==(s=l?this.namespacePrefixToURI[l]:l)){this.actions=vi,f.error("E_CSS_UNDECLARED_PREFIX",o),d.consume();continue}if(d.consume(),(o=d.token()).type!=zn.IDENT){this.actions=vi,f.error("E_CSS_ATTR_NAME_EXPECTED",o);continue}l=o.text,d.consume(),o=d.token()}else s="";switch(o.type){case zn.EQ:case zn.TILDE_EQ:case zn.BAR_EQ:case zn.HAT_EQ:case zn.DOLLAR_EQ:case zn.STAR_EQ:case zn.COL_COL:c=o.type,d.consume(),o=d.token();break;case zn.C_BRK:f.attributeSelector(s,l,zn.EOF,null),this.actions=i?hi:Di,d.consume();continue;default:this.actions=vi,f.error("E_CSS_ATTR_OP_EXPECTED",o);continue}switch(o.type){case zn.IDENT:case zn.STR:f.attributeSelector(s,l,c,o.text),d.consume(),o=d.token();break;default:this.actions=vi,f.error("E_CSS_ATTR_VAL_EXPECTED",o);continue}if(o.type!=zn.C_BRK){this.actions=vi,f.error("E_CSS_ATTR",o);continue}this.actions=i?hi:Di,d.consume();continue;case ii.SELECTOR_CHILD:f.childSelector(),this.actions=fi,d.consume();continue;case ii.SELECTOR_SIBLING:f.adjacentSiblingSelector(),this.actions=fi,d.consume();continue;case ii.SELECTOR_FOLLOWING_SIBLING:f.followingSiblingSelector(),this.actions=fi,d.consume();continue;case ii.SELECTOR_BODY:this.regionRule?(this.ruleStack.push("-epubx-region"),this.regionRule=!1):this.pageRule?(this.ruleStack.push("page"),this.pageRule=!1,this.inStyleDeclaration=!0):(this.ruleStack.push("[selector]"),this.inStyleDeclaration=!0),f.startRuleBody(),this.actions=li,d.consume();continue;case ii.SELECTOR_NEXT:f.nextSelector(),this.actions=di,d.consume();continue;case ii.VAL_IDENT:p.push(Mt(o.text)),d.consume();continue;case ii.VAL_HASH:c=parseInt(o.text,16),p.push(new Ht(o.text)),d.consume();continue;case ii.VAL_NUM:p.push(new zt(o.num)),d.consume();continue;case ii.VAL_INT:p.push(new Vt(o.num)),d.consume();continue;case ii.VAL_NUMERIC:p.push(new Ut(o.num,o.text)),d.consume();continue;case ii.VAL_STR:p.push(new Lt(o.text)),d.consume();continue;case ii.VAL_URL:p.push(new Gt($(o.text,this.baseURL))),d.consume();continue;case ii.VAL_URANGE:p.push(new Wt(o.text)),d.consume();continue;case ii.VAL_COMMA:this.valStackReduce(",",o),p.push(","),d.consume();continue;case ii.VAL_SLASH:p.push(Rt),d.consume();continue;case ii.VAL_FUNC:"-epubx-expr"==(l=o.text.toLowerCase())||"env"==l?(this.actions=Ei,this.exprContext=Ai.PROP,p.push("{")):(p.push(l),p.push("("),this.errorBrackets.length>0&&this.errorBrackets.push(zn.C_PAR)),d.consume();continue;case ii.VAL_C_PAR:this.valStackReduce(")",o),d.consume();continue;case ii.VAL_BANG:if(d.consume(),o=d.token(),a=d.nthToken(1),o.type==zn.IDENT&&"important"==o.text.toLowerCase()&&(a.type==zn.SEMICOL||a.type==zn.EOF||a.type==zn.C_BRC)){d.consume(),this.propImportant=!0;continue}this.exprError("E_CSS_SYNTAX",o);continue;case ii.VAL_PLUS:switch((a=d.nthToken(1)).type){case zn.NUM:case zn.NUMERIC:case zn.INT:if(!a.precededBySpace){d.consume();continue}}p.push(new Kt("+")),d.consume();continue;case ii.VAL_END:d.consume();case ii.VAL_BRC:(D=this.valStackReduce(";",o))&&this.propName&&f.property(this.propName,D,this.propImportant),this.actions=n?ci:li;continue;case ii.VAL_FINISH:for(d.consume();p.length>0;){var C=p.length;if(!(D=this.valStackReduce(";",o))||p.length===C)break}return t?(this.result=D,!0):(this.propName&&D&&f.property(this.propName,D,this.propImportant),!0);case ii.EXPR_IDENT:if((a=d.nthToken(1)).type==zn.CLASS)d.nthToken(2).type!=zn.O_PAR||d.nthToken(2).precededBySpace?(p.push(new dt(f.getScope(),Re(o.text,a.text))),this.actions=Ci):(p.push(o.text,a.text,"("),d.consume()),d.consume();else{if(this.exprContext==Ai.MEDIA||this.exprContext==Ai.IMPORT)"not"==o.text.toLowerCase()?(d.consume(),p.push(new pt(f.getScope(),!0,a.text))):("only"==o.text.toLowerCase()&&(d.consume(),o=a),p.push(new pt(f.getScope(),!1,o.text)));else{if(this.exprContext===Ai.SUPPORTS&&"not"===o.text.toLowerCase()&&p[p.length-1]!==yi&&p[p.length-1]!==Bi&&(a.type===zn.O_PAR||a.type===zn.FUNC)){p.push(-bi),d.consume();continue}p.push(new dt(f.getScope(),o.text))}this.actions=Ci}d.consume();continue;case ii.EXPR_FUNC:if(this.exprContext===Ai.SUPPORTS){p.push(this.readSupportsTest(o)),this.actions=Ci;continue}p.push(null,o.text,"("),d.consume();continue;case ii.EXPR_NUM:p.push(new Ft(f.getScope(),o.num)),d.consume(),this.actions=Ci;continue;case ii.EXPR_NUMERIC:"%"==(l=o.text)&&(l=this.propName&&this.propName.match(/height|^(top|bottom)$/)?"vh":"vw"),p.push(new ft(f.getScope(),o.num,l)),d.consume(),this.actions=Ci;continue;case ii.EXPR_STR:p.push(new Ft(f.getScope(),o.text)),d.consume(),this.actions=Ci;continue;case ii.EXPR_PARAM:d.consume(),(o=d.token()).type!=zn.INT||o.precededBySpace?this.exprError("E_CSS_SYNTAX",o):(p.push(new At(f.getScope(),o.num)),d.consume(),this.actions=Ci);continue;case ii.EXPR_PREFIX:p.push(-o.type),d.consume();continue;case ii.EXPR_INFIX:this.actions=Ei,this.exprStackReduce(o.type,o),p.push(o.type),d.consume();continue;case ii.EXPR_INFIX_NAME:"and"===o.text.toLowerCase()&&p[p.length-2]!==Bi&&p[p.length-2]!==-bi?(this.actions=Ei,this.exprStackReduce(yi,o),p.push(yi),d.consume()):"or"===o.text.toLowerCase()&&p[p.length-2]!==yi&&p[p.length-2]!==-bi?(this.actions=Ei,this.exprStackReduce(Bi,o),p.push(Bi),d.consume()):this.exprError("E_CSS_SYNTAX",o);continue;case ii.EXPR_C_PAR:this.exprStackReduce(o.type,o)&&(this.actions=pi),d.consume();continue;case ii.EXPR_O_BRC:this.exprStackReduce(zn.C_PAR,o)&&(this.propName||this.exprContext==Ai.IMPORT?this.exprError("E_CSS_UNEXPECTED_BRC",o):(this.exprContext==Ai.WHEN?f.startWhenRule(p.pop()):f.startMediaRule(p.pop()),this.ruleStack.push("media"),f.startRuleBody(),this.actions=li)),d.consume();continue;case ii.EXPR_SEMICOL:if(this.exprStackReduce(zn.C_PAR,o))return this.propName||this.exprContext!=Ai.IMPORT?(this.exprError("E_CSS_UNEXPECTED_SEMICOL",o),this.actions=li,d.consume(),!1):(this.importCondition=p.pop(),this.importReady=!0,this.actions=li,d.consume(),!1);d.consume();continue;case ii.EXPR_O_PAR:if(this.exprContext===Ai.SUPPORTS){var g=this.readSupportsTest(o);if(g){p.push(g),this.actions=Ci;continue}}p.push(o.type),d.consume();continue;case ii.RULE_END:if(this.actions=li,d.consume(),f.endRule(),this.inStyleDeclaration=!1,this.ruleStack.length)switch(this.ruleStack.pop(),this.ruleStack[this.ruleStack.length-1]){case"page":case"-epubx-page-master":case"-epubx-partition-group":this.inStyleDeclaration=!0}continue;case ii.AT:switch(l=o.text.toLowerCase()){case"import":if(d.consume(),(o=d.token()).type==zn.STR||o.type==zn.URL){if(this.importURL=o.text,d.consume(),(o=d.token()).type==zn.SEMICOL||o.type==zn.EOF)return this.importReady=!0,d.consume(),!1;this.propName=null,this.exprContext=Ai.IMPORT,this.actions=Ei,p.push("{");continue}f.error("E_CSS_IMPORT_SYNTAX",o),this.actions=gi;continue;case"namespace":switch(d.consume(),(o=d.token()).type){case zn.IDENT:if(l=o.text,d.consume(),((o=d.token()).type==zn.STR||o.type==zn.URL)&&d.nthToken(1).type==zn.SEMICOL){this.namespacePrefixToURI[l]=o.text,d.consume(),d.consume();continue}break;case zn.STR:case zn.URL:if(d.nthToken(1).type==zn.SEMICOL){this.defaultNamespaceURI=o.text,d.consume(),d.consume();continue}}f.error("E_CSS_NAMESPACE_SYNTAX",o),this.actions=gi;continue;case"charset":if(d.consume(),(o=d.token()).type==zn.STR&&d.nthToken(1).type==zn.SEMICOL){"utf-8"!=(l=o.text.toLowerCase())&&"utf-16"!=l&&f.error("E_CSS_UNEXPECTED_CHARSET "+l,o),d.consume(),d.consume();continue}f.error("E_CSS_CHARSET_SYNTAX",o),this.actions=gi;continue;case"font-face":case"-epubx-page-template":case"-epubx-define":case"-epubx-viewport":if(d.nthToken(1).type==zn.O_BRC){switch(d.consume(),d.consume(),l){case"font-face":f.startFontFaceRule(),this.inStyleDeclaration=!0;break;case"-epubx-page-template":f.startPageTemplateRule();break;case"-epubx-define":f.startDefineRule(),this.inStyleDeclaration=!0;break;case"-epubx-viewport":f.startViewportRule(),this.inStyleDeclaration=!0}this.ruleStack.push(l),f.startRuleBody();continue}break;case"-adapt-footnote-area":switch(d.consume(),(o=d.token()).type){case zn.O_BRC:d.consume(),f.startFootnoteRule(null),this.ruleStack.push(l),f.startRuleBody(),this.inStyleDeclaration=!0;continue;case zn.COL_COL:if(d.consume(),(o=d.token()).type==zn.IDENT&&d.nthToken(1).type==zn.O_BRC){l=o.text,d.consume(),d.consume(),f.startFootnoteRule(l),this.ruleStack.push("-adapt-footnote-area"),f.startRuleBody(),this.inStyleDeclaration=!0;continue}}break;case"-epubx-region":d.consume(),f.startRegionRule(),this.regionRule=!0,this.actions=di;continue;case"page":d.consume(),f.startPageRule(),this.pageRule=!0,this.actions=fi;continue;case"top-left-corner":case"top-left":case"top-center":case"top-right":case"top-right-corner":case"right-top":case"right-middle":case"right-bottom":case"bottom-right-corner":case"bottom-right":case"bottom-center":case"bottom-left":case"bottom-left-corner":case"left-bottom":case"left-middle":case"left-top":if(d.consume(),(o=d.token()).type==zn.O_BRC){d.consume(),f.startPageMarginBoxRule(l),this.ruleStack.push(l),f.startRuleBody(),this.inStyleDeclaration=!0;continue}break;case"-epubx-when":d.consume(),this.propName=null,this.exprContext=Ai.WHEN,this.actions=Ei,p.push("{");continue;case"media":d.consume(),this.propName=null,this.exprContext=Ai.MEDIA,this.actions=Ei,p.push("{");continue;case"supports":d.consume(),this.propName=null,this.exprContext=Ai.SUPPORTS,this.actions=Ei,p.push("{");continue;case"-epubx-flow":if(d.nthToken(1).type==zn.IDENT&&d.nthToken(2).type==zn.O_BRC){f.startFlowRule(d.nthToken(1).text),d.consume(),d.consume(),d.consume(),this.ruleStack.push(l),f.startRuleBody(),this.inStyleDeclaration=!0;continue}break;case"-epubx-page-master":case"-epubx-partition":case"-epubx-partition-group":d.consume();var F=null,v=null,m=[];for((o=d.token()).type==zn.IDENT&&(F=o.text,d.consume(),o=d.token()),o.type==zn.COLON&&d.nthToken(1).type==zn.IDENT&&(v=d.nthToken(1).text,d.consume(),d.consume(),o=d.token());o.type==zn.FUNC&&"class"==o.text.toLowerCase()&&d.nthToken(1).type==zn.IDENT&&d.nthToken(2).type==zn.C_PAR;)m.push(d.nthToken(1).text),d.consume(),d.consume(),d.consume(),o=d.token();if(o.type==zn.O_BRC){switch(d.consume(),l){case"-epubx-page-master":f.startPageMasterRule(F,v,m);break;case"-epubx-partition":f.startPartitionRule(F,v,m);break;case"-epubx-partition-group":f.startPartitionGroupRule(F,v,m)}this.ruleStack.push(l),f.startRuleBody(),this.inStyleDeclaration=!0;continue}break;case"":f.error("E_CSS_UNEXPECTED_AT"+l,o),this.actions=vi;continue;default:f.error("E_CSS_AT_UNKNOWN "+l,o),this.actions=gi;continue}f.error("E_CSS_AT_SYNTAX "+l,o),this.actions=gi;continue;case ii.ERROR_PUSH:this.errorBrackets.push(o.type+1),d.consume();continue;case ii.ERROR_POP_DECL:if(0==this.errorBrackets.length){this.actions=li;continue}case ii.ERROR_POP:if(i&&0==this.errorBrackets.length&&o.type==zn.C_PAR)return d.consume(),f.endFuncWithSelector(),!0;this.errorBrackets.length>0&&this.errorBrackets[this.errorBrackets.length-1]==o.type&&this.errorBrackets.pop(),0==this.errorBrackets.length&&o.type==zn.C_BRC&&(this.actions=li),d.consume();continue;case ii.ERROR_SEMICOL:0==this.errorBrackets.length&&(this.actions=li),d.consume();continue;case ii.DONE:return!0;default:if(u)return!!this.exprStackReduce(zn.C_PAR,o)&&(this.result=p.pop(),!0);if(i){switch(o.type){case zn.COMMA:case zn.C_PAR:if(this.actions===di)f.error("E_CSS_SYNTAX",o);else{var A=d.input.substring(E,o.position);f.pushSelectorText(A),E=o.position+1}if(o.type===zn.COMMA){f.nextSelector(),this.actions=di,d.consume();continue}return f.endFuncWithSelector(),d.consume(),!0;case zn.GT:case zn.PLUS:case zn.TILDE:if(r){this.actions=Di;continue}break;case zn.O_BRC:case zn.O_BRK:case zn.O_PAR:this.errorBrackets.push(o.type+1)}f.error("E_CSS_SYNTAX",o),d.consume(),this.actions=vi;continue}if(this.actions!==gi&&this.actions!==vi&&this.actions!==Fi){if(o.type==zn.INVALID)f.error("E_CSS_SYNTAX",o);else{if(this.actions===pi){switch(o.type){case zn.O_PAR:case zn.O_BRC:case zn.O_BRK:this.errorBrackets.push(o.type+1)}p.push(new Kt(o.toString())),d.consume();continue}if(o.type===zn.O_BRC&&this.actions==Ei&&p.length>0){f.startMediaRule(p.pop()),this.ruleStack.push("media"),f.startRuleBody(),this.actions=li,d.consume();continue}if(o.type===zn.SEMICOL&&this.actions==Ei)return this.actions=li,d.consume(),!1;f.error("E_CSS_SYNTAX",o)}this.actions=this.isInsidePropertyOnlyRule()?Fi:vi;continue}d.consume();continue}return!1},e}(),Si=function(e){function t(t){var n;return(n=e.call(this,null)||this).scope=void 0,n.scope=t,n}x(t,e);var n=t.prototype;return n.error=function(e,t){f.warn(e,t.toString())},n.getScope=function(){return this.scope},t}(ri);function Ni(e,t,n,u,i){return Pu("parseStylesheetFromText",(function(r){(function(e,t,n,u,i){var r=ku("parseStylesheet"),o=new wi(li,e,t,n),a=null;return i&&(a=function(e,t,n){var u=new wi(Ei,e,t,n);return u.runParser(Number.POSITIVE_INFINITY,!1,!1,!0,!1),u.result}(new Su(i,t),t,n)),(a=o.makeCondition(u,a&&a.toExpr()))&&(t.startMediaRule(a),t.startRuleBody()),r.loop((function(){for(;!o.runParser(100,!1,!1,!1,!1);){if(o.importReady){var e=function(){var e=$(o.importURL,n);o.importCondition&&(t.startMediaRule(o.importCondition),t.startRuleBody());var u=ku("parseStylesheet.import");return xi(e,t,null,null).then((function(){o.importCondition&&t.endRule(),o.importReady=!1,o.importURL=null,o.importCondition=null,u.finish(!0)})),{v:u.result()}}();if("object"==typeof e)return e.v}var u=r.timeSlice();if(u.isPending)return u}return Iu(!1)})).then((function(){a&&t.endRule(),r.finish(!0)})),r.result()})(new Su(e,t),t,n,u,i).thenFinish(r)}),(function(t,n){f.warn(n,"Failed to parse stylesheet text: "+e),t.finish(!1)}))}function xi(e,t,n,u){return Pu("parseStylesheetFromURL",(function(i){Ju(e).then((function(r){r.responseText?Ni(r.responseText,t,e,n,u).then((function(t){t||f.warn("Failed to parse stylesheet from "+e),i.finish(!0)})):i.finish(!0)}))}),(function(t,n){f.warn(n,"Exception while fetching and parsing:",e),t.finish(!0)}))}function Ti(e,t,n){var u=new wi(pi,t,new Si(e),n);return u.runParser(Number.POSITIVE_INFINITY,!0,!1,!1,!1),u.result}var ki={"z-index":!0,"column-count":!0,"flow-linger":!0,opacity:!0,page:!0,"flow-priority":!0,utilization:!0};function Ii(e,t,n){return e-=n,0===t?0===e:e%t==0&&e/t>=0}var Pi=function(){function e(e){this.matchers=void 0,this.matchers=e}return e.prototype.matches=function(){return this.matchers.some((function(e){return e.matches()}))},e}(),Ri=function(){function e(e){this.matchers=void 0,this.matchers=e}return e.prototype.matches=function(){return this.matchers.every((function(e){return e.matches()}))},e}(),Li=function(){function e(e,t,n){this.elementOffset=void 0,this.a=void 0,this.b=void 0,this.elementOffset=e,this.a=t,this.b=n}return e.registerFragmentIndex=function(t,n,u){var i=e.fragmentIndices;(!i[t]||i[t].priority<=u)&&(i[t]={fragmentIndex:n,priority:u})},e.clearFragmentIndices=function(){e.fragmentIndices={}},e.prototype.matches=function(){var t=e.fragmentIndices[this.elementOffset];return null!=t&&null!=t.fragmentIndex&&Ii(t.fragmentIndex,this.a,this.b)},e}();Li.fragmentIndices={};var Oi,_i,Mi,Ui,zi,Vi,Hi=function(){function e(){}return e.buildViewConditionMatcher=function(e,t){var n=t.split("_");return"NFS"==n[0]?new Li(e,parseInt(n[1],10),parseInt(n[2],10)):null},e.buildAllMatcher=function(e){return new Ri(e)},e.buildAnyMatcher=function(e){return new Pi(e)},e}();function Gi(e){return e.reduce((function(e,t){return t[0]===a.default.DELETE?e:e+t[1]}),"")}function Wi(e,t,n){var u=0,i=0;return e.some((function(e){for(var r=0;r<e[1].length;r++){switch(e[0]*n){case a.default.INSERT:u++;break;case a.default.DELETE:u--,i++;break;case a.default.EQUAL:i++}if(i>t)return!0}return!1})),Math.max(Math.min(t,i-1)+u,0)}!function(e){e.isInstanceOfBlockFormattingContext=function(e){return e&&"Block"===e.formattingContextType}}(Oi||(Oi={})),function(e){!function(e){e.INLINE="inline",e.COLUMN="column",e.REGION="region",e.PAGE="page"}(e.FloatReference||(e.FloatReference={}))}(_i||(_i={})),function(e){e.isInstanceOfAfterIfContinuesLayoutConstraint=function(e){return e&&"AfterIfContinue"==e.flagmentLayoutConstraintType}}(Mi||(Mi={})),function(e){e.isInstanceOfRepetitiveElementsOwnerFormattingContext=function(e){return!!e&&("RepetitiveElementsOwner"===e.formattingContextType||zi.isInstanceOfTableFormattingContext(e))},e.isInstanceOfRepetitiveElementsOwnerLayoutConstraint=function(e){return!!e&&("RepetitiveElementsOwner"===e.flagmentLayoutConstraintType||zi.isInstanceOfTableRowLayoutConstraint(e))}}(Ui||(Ui={})),function(e){e.isInstanceOfTableFormattingContext=function(e){return e&&"Table"===e.formattingContextType},e.isInstanceOfTableRowLayoutConstraint=function(e){return e&&"TableRow"===e.flagmentLayoutConstraintType}}(zi||(zi={})),function(e){!function(e){e[e.IGNORE=0]="IGNORE",e[e.NEWLINE=1]="NEWLINE",e[e.PRESERVE=2]="PRESERVE"}(e.Whitespace||(e.Whitespace={})),function(e){e[e.NONE=0]="NONE",e[e.CONTENT=1]="CONTENT",e[e.ROOTLESS=2]="ROOTLESS",e[e.ROOTED=3]="ROOTED"}(e.ShadowType||(e.ShadowType={}))}(Vi||(Vi={}));var Xi={transform:!0,"transform-origin":!0},ji={top:!0,bottom:!0,left:!0,right:!0},$i=function(e,t,n){this.target=void 0,this.name=void 0,this.value=void 0,this.target=e,this.name=t,this.value=n},qi={show:function(e){e.style.visibility="visible"},hide:function(e){e.style.visibility="hidden"},play:function(e){e.currentTime=0,e.play()},pause:function(e){e.pause()},resume:function(e){e.play()},mute:function(e){e.muted=!0},unmute:function(e){e.muted=!1}};function Yi(e,t){var n=qi[t];return n?function(){for(var t=0;t<e.length;t++)try{n(e[t])}catch(e){}}:null}var Ki=function(e){function t(t,n){var u;return(u=e.call(this)||this).container=void 0,u.bleedBox=void 0,u.pageAreaElement=null,u.delayedItems=[],u.hrefHandler=void 0,u.elementsById={},u.dimensions={width:0,height:0},u.isFirstPage=!1,u.isLastPage=!1,u.isBlankPage=!1,u.isAutoPageWidth=!0,u.isAutoPageHeight=!0,u.spineIndex=0,u.position=null,u.offset=-1,u.side=null,u.fetchers=[],u.marginBoxes={top:{},bottom:{},left:{},right:{}},u.container=t,u.bleedBox=n,u.hrefHandler=function(e){var t=e.currentTarget,n=t.getAttribute("href")||t.getAttributeNS(W.XLINK,"href");n&&u.dispatchEvent({type:"hyperlink",target:null,currentTarget:null,anchorElement:t,href:n,preventDefault:function(){e.preventDefault()}})},u}x(t,e);var n=t.prototype;return n.setAutoPageWidth=function(e){this.isAutoPageWidth=e,e?this.container.setAttribute(t.AUTO_PAGE_WIDTH_ATTRIBUTE,"true"):this.container.removeAttribute(t.AUTO_PAGE_WIDTH_ATTRIBUTE)},n.setAutoPageHeight=function(e){this.isAutoPageHeight=e,e?this.container.setAttribute(t.AUTO_PAGE_HEIGHT_ATTRIBUTE,"true"):this.container.removeAttribute(t.AUTO_PAGE_HEIGHT_ATTRIBUTE)},n.registerElementWithId=function(e,t){var n=this.elementsById[t];n?n.push(e):this.elementsById[t]=[e]},n.finish=function(e,t){var n=this;Object.keys(this.elementsById).forEach((function(e){for(var t=n.elementsById[e],u=0;u<t.length;)n.container.contains(t[u])?u++:t.splice(u,1);0===t.length&&delete n.elementsById[e]}));for(var u=this.delayedItems,i=0;i<u.length;i++){var r=u[i];(r.target!==this.container||"transform"!==r.name||this.isAutoPageWidth||this.isAutoPageHeight)&&te(r.target,r.name,r.value.toString())}var o=t.getElementClientRect(this.container);this.dimensions.width=o.width,this.dimensions.height=o.height;for(var a=0;a<e.length;a++){var s=e[a],l=this.elementsById[s.ref],c=this.elementsById[s.observer];if(l&&c){var D=Yi(l,s.action);if(D)for(var h=0;h<c.length;h++)c[h].addEventListener(s.event,D,!1)}}},t}(Ee);Ki.AUTO_PAGE_WIDTH_ATTRIBUTE="data-vivliostyle-auto-page-width",Ki.AUTO_PAGE_HEIGHT_ATTRIBUTE="data-vivliostyle-auto-page-height";var Qi=Vi.Whitespace;function Zi(e){switch(e){case"normal":case"nowrap":return Qi.IGNORE;case"pre-line":return Qi.NEWLINE;case"pre":case"pre-wrap":case"break-spaces":return Qi.PRESERVE;default:return null}}function Ji(e,t){if(!e)return!0;if(1==e.nodeType)return!1;var n=e.textContent;switch(t){case Qi.PRESERVE:return 0==n.length;case Qi.NEWLINE:return!!n.match(/^[ \t]*$/);default:return!!n.match(/^[ \t\r\n\f]*$/)}}var er=function(e,t){this.flowName=void 0,this.parentFlowName=void 0,this.forcedBreakOffsets=[],this.formattingContext=null,this.flowName=e,this.parentFlowName=t},tr=function(){function e(e,t,n,u,i,r,o,a,s){this.flowName=void 0,this.element=void 0,this.startOffset=void 0,this.priority=void 0,this.linger=void 0,this.exclusive=void 0,this.repeated=void 0,this.last=void 0,this.breakBefore=void 0,this.startPage=-1,this.flowName=e,this.element=t,this.startOffset=n,this.priority=u,this.linger=i,this.exclusive=r,this.repeated=o,this.last=a,this.breakBefore=s}return e.prototype.isBetter=function(e){return!!this.exclusive&&(!e.exclusive||this.priority>e.priority||this.last)},e}();function nr(e,t){return e.top-t.top}function ur(e,t){return t.right-e.right}function ir(e,t){var n,u;return e===t||!(!e||!t)&&(e.node===t.node||!!e.shadowContext&&!!t.shadowContext&&e.shadowType===Vi.ShadowType.ROOTLESS&&t.shadowType===Vi.ShadowType.ROOTLESS&&(null==(n=e.node)?void 0:n.outerHTML)===(null==(u=t.node)?void 0:u.outerHTML))&&e.shadowType===t.shadowType&&cr(e.shadowContext,t.shadowContext)&&cr(e.nodeShadow,t.nodeShadow)&&ir(e.shadowSibling,t.shadowSibling)}function rr(e,t){if(e===t)return!0;if(!e||!t)return!1;if(e.offsetInNode!==t.offsetInNode||e.after!==t.after||e.steps.length!==t.steps.length)return!1;for(var n=0;n<e.steps.length;n++)if(!ir(e.steps[n],t.steps[n]))return!1;return!0}function or(e,t){return{steps:[{node:e.sourceNode,shadowType:sr.NONE,shadowContext:e.shadowContext,nodeShadow:null,shadowSibling:null,formattingContext:null,fragmentIndex:null!=t?t:e.fragmentIndex}],offsetInNode:0,after:!1,preprocessedTextContent:e.preprocessedTextContent}}function ar(e,t){var n=new hr(e.node,t,0);return n.shadowType=e.shadowType,n.shadowContext=e.shadowContext,n.nodeShadow=e.nodeShadow,n.shadowSibling=e.shadowSibling?ar(e.shadowSibling,t.copy()):null,n.formattingContext=e.formattingContext,n.fragmentIndex=e.fragmentIndex+1,n}var sr=Vi.ShadowType,lr=function(){function e(e,t,n,u,i,r,o){this.owner=void 0,this.root=void 0,this.xmldoc=void 0,this.parentShadow=void 0,this.type=void 0,this.styler=void 0,this.subShadow=null,this.owner=e,this.root=t,this.xmldoc=n,this.parentShadow=u,this.type=r,this.styler=o,i&&(i.subShadow=this)}return e.prototype.equals=function(e){return!!e&&this.owner===e.owner&&this.xmldoc===e.xmldoc&&this.type===e.type&&cr(this.parentShadow,e.parentShadow)},e}();function cr(e,t){return e===t||!!e&&!!t&&e.equals(t)}var Dr=function(e,t){this.outer=void 0,this.count=void 0,this.outer=e,this.count=t},hr=function(){function e(e,t,n){this.sourceNode=void 0,this.parent=void 0,this.boxOffset=void 0,this.offsetInNode=0,this.after=!1,this.shadowType=void 0,this.shadowContext=void 0,this.nodeShadow=null,this.shadowSibling=null,this.shared=!1,this.inline=!0,this.overflow=!1,this.breakPenalty=void 0,this.display=null,this.floatReference=void 0,this.floatSide=null,this.clearSide=null,this.floatMinWrapBlock=null,this.columnSpan=null,this.verticalAlign="baseline",this.captionSide="top",this.inlineBorderSpacing=0,this.blockBorderSpacing=0,this.flexContainer=!1,this.whitespace=void 0,this.hyphenateCharacter=void 0,this.breakWord=void 0,this.establishesBFC=!1,this.containingBlockForAbsolute=!1,this.breakBefore=null,this.breakAfter=null,this.viewNode=null,this.clearSpacer=null,this.inheritedProps=void 0,this.vertical=void 0,this.direction=void 0,this.firstPseudo=void 0,this.lang=null,this.preprocessedTextContent=null,this.formattingContext=void 0,this.repeatOnBreak=null,this.pluginProps={},this.fragmentIndex=1,this.afterIfContinues=null,this.footnotePolicy=null,this.pageType=void 0,this.sourceNode=e,this.parent=t,this.boxOffset=n,this.shadowType=sr.NONE,this.shadowContext=t?t.shadowContext:null,this.breakPenalty=t?t.breakPenalty:0,this.floatReference=_i.FloatReference.INLINE,this.whitespace=t?t.whitespace:Qi.IGNORE,this.hyphenateCharacter=t?t.hyphenateCharacter:null,this.breakWord=!!t&&t.breakWord,this.inheritedProps=t?t.inheritedProps:{},this.vertical=!!t&&t.vertical,this.direction=t?t.direction:"ltr",this.firstPseudo=t?t.firstPseudo:null,this.formattingContext=t?t.formattingContext:null,this.pageType=t?t.pageType:null}var t=e.prototype;return t.resetView=function(){this.inline=!0,this.breakPenalty=this.parent?this.parent.breakPenalty:0,this.viewNode=null,this.clearSpacer=null,this.offsetInNode=0,this.after=!1,this.display=null,this.floatReference=_i.FloatReference.INLINE,this.floatSide=null,this.clearSide=null,this.floatMinWrapBlock=null,this.columnSpan=null,this.verticalAlign="baseline",this.flexContainer=!1,this.whitespace=this.parent?this.parent.whitespace:Qi.IGNORE,this.hyphenateCharacter=this.parent?this.parent.hyphenateCharacter:null,this.breakWord=!!this.parent&&this.parent.breakWord,this.breakBefore=null,this.breakAfter=null,this.nodeShadow=null,this.establishesBFC=!1,this.containingBlockForAbsolute=!1,this.vertical=!!this.parent&&this.parent.vertical,this.nodeShadow=null,this.preprocessedTextContent=null,this.formattingContext=this.parent?this.parent.formattingContext:null,this.repeatOnBreak=null,this.pluginProps={},this.fragmentIndex=1,this.afterIfContinues=null,this.footnotePolicy=null},t.cloneItem=function(){var t=new e(this.sourceNode,this.parent,this.boxOffset);return t.offsetInNode=this.offsetInNode,t.after=this.after,t.nodeShadow=this.nodeShadow,t.shadowType=this.shadowType,t.shadowContext=this.shadowContext,t.shadowSibling=this.shadowSibling,t.inline=this.inline,t.breakPenalty=this.breakPenalty,t.display=this.display,t.floatReference=this.floatReference,t.floatSide=this.floatSide,t.clearSide=this.clearSide,t.floatMinWrapBlock=this.floatMinWrapBlock,t.columnSpan=this.columnSpan,t.verticalAlign=this.verticalAlign,t.captionSide=this.captionSide,t.inlineBorderSpacing=this.inlineBorderSpacing,t.blockBorderSpacing=this.blockBorderSpacing,t.establishesBFC=this.establishesBFC,t.containingBlockForAbsolute=this.containingBlockForAbsolute,t.flexContainer=this.flexContainer,t.whitespace=this.whitespace,t.hyphenateCharacter=this.hyphenateCharacter,t.breakWord=this.breakWord,t.breakBefore=this.breakBefore,t.breakAfter=this.breakAfter,t.viewNode=this.viewNode,t.clearSpacer=this.clearSpacer,t.firstPseudo=this.firstPseudo,t.vertical=this.vertical,t.overflow=this.overflow,t.preprocessedTextContent=this.preprocessedTextContent,t.formattingContext=this.formattingContext,t.repeatOnBreak=this.repeatOnBreak,t.pluginProps=Object.create(this.pluginProps),t.fragmentIndex=this.fragmentIndex,t.afterIfContinues=this.afterIfContinues,t.footnotePolicy=this.footnotePolicy,t},t.modify=function(){return this.shared?this.cloneItem():this},t.copy=function(){var e=this;do{if(e.shared)break;e.shared=!0,e=e.parent}while(e);return this},t.clone=function(){for(var e,t=this.cloneItem(),n=t;null!=(e=n.parent);)e=e.cloneItem(),n.parent=e,n=e;return t},t.toNodePositionStep=function(){return{node:this.sourceNode,shadowType:this.shadowType,shadowContext:this.shadowContext,nodeShadow:this.nodeShadow,shadowSibling:this.shadowSibling?this.shadowSibling.toNodePositionStep():null,formattingContext:this.formattingContext,fragmentIndex:this.fragmentIndex}},t.toNodePosition=function(){var e,t,n,u=this,i=[];u.shadowType!==Vi.ShadowType.ROOTLESS||u.floatReference===_i.FloatReference.INLINE&&"footnote"!==u.floatSide||null==(e=u.shadowContext)||null==(t=e.styler)||null==(n=t.style)||!n._pseudos||(u=u.parent);do{u.firstPseudo&&u.parent&&u.parent.firstPseudo!==u.firstPseudo||i.push(u.toNodePositionStep()),u=u.parent}while(u);return{steps:i,offsetInNode:this.preprocessedTextContent?Wi(this.preprocessedTextContent,this.offsetInNode,-1):this.offsetInNode,after:this.after,preprocessedTextContent:this.preprocessedTextContent}},t.isInsideBFC=function(){for(var e=this.parent;e;){if(e.establishesBFC)return!0;e=e.parent}return!1},t.getContainingBlockForAbsolute=function(){for(var e=this.parent;e;){if(e.containingBlockForAbsolute)return e;e=e.parent}return null},t.belongsTo=function(e){return this.formattingContext===e&&!!this.parent&&this.parent.formattingContext===e},e}(),fr=function(){function e(e){this.primary=void 0,this.floats=null,this.primary=e}var t=e.prototype;return t.clone=function(){var t=new e(this.primary);if(this.floats){t.floats=[];for(var n=0;n<this.floats.length;++n)t.floats[n]=this.floats[n]}return t},t.isSamePosition=function(e){if(!e)return!1;if(this===e)return!0;if(!rr(this.primary,e.primary))return!1;if(this.floats){if(!e.floats||this.floats.length!==e.floats.length)return!1;for(var t=0;t<this.floats.length;t++)if(!rr(this.floats[t],e.floats[t]))return!1}else if(e.floats)return!1;return!0},e}(),dr=function(){function e(e,t){this.chunkPosition=void 0,this.flowChunk=void 0,this.chunkPosition=e,this.flowChunk=t}var t=e.prototype;return t.clone=function(){return new e(this.chunkPosition.clone(),this.flowChunk)},t.isSamePosition=function(e){return!!e&&(this===e||this.chunkPosition.isSamePosition(e.chunkPosition))},e}(),pr=function(){function e(){this.positions=[],this.startSide="any",this.breakAfter=null}var t=e.prototype;return t.clone=function(){for(var t=new e,n=this.positions,u=t.positions,i=0;i<n.length;i++)u[i]=n[i].clone();return t.startSide=this.startSide,t.breakAfter=this.breakAfter,t},t.isSamePosition=function(e){if(this===e)return!0;if(!e||this.positions.length!==e.positions.length)return!1;for(var t=0;t<this.positions.length;t++)if(!this.positions[t].isSamePosition(e.positions[t]))return!1;return!0},t.hasContent=function(e){return this.positions.length>0&&this.positions[0].flowChunk.startOffset<=e},e}(),Er=function(){function e(){this.page=0,this.flows={},this.flowPositions={},this.isBlankPage=!1,this.highestSeenOffset=0,this.highestSeenNode=void 0,this.lookupPositionOffset=void 0}var t=e.prototype;return t.clone=function(){var t=new e;for(var n in t.page=this.page,t.isBlankPage=this.isBlankPage,t.highestSeenNode=this.highestSeenNode,t.highestSeenOffset=this.highestSeenOffset,t.lookupPositionOffset=this.lookupPositionOffset,t.flows=this.flows,this.flowPositions)t.flowPositions[n]=this.flowPositions[n].clone();return t},t.isSamePosition=function(e){if(this===e)return!0;if(!e||this.page!==e.page)return!1;var t=Object.keys(this.flowPositions),n=Object.keys(e.flowPositions);if(t.length!==n.length)return!1;for(var u=0,i=t;u<i.length;u++){var r=i[u];if(!this.flowPositions[r].isSamePosition(e.flowPositions[r]))return!1}return!0},t.hasContent=function(e,t){var n=this.flowPositions[e];return!!n&&n.hasContent(t)},t.startSideOfFlow=function(e){var t=this.flowPositions[e];return t?t.startSide:"any"},t.firstFlowChunkOfFlow=function(e){var t=this.flowPositions[e];if(!t)return null;var n=t.positions[0];return n?n.flowChunk:null},e}(),Cr=function(){function e(e){this.element=void 0,this.left=0,this.top=0,this.marginLeft=0,this.marginRight=0,this.marginTop=0,this.marginBottom=0,this.borderLeft=0,this.borderRight=0,this.borderTop=0,this.borderBottom=0,this.paddingLeft=0,this.paddingRight=0,this.paddingTop=0,this.paddingBottom=0,this.width=0,this.height=0,this.originX=0,this.originY=0,this.exclusions=null,this.innerShape=null,this.computedBlockSize=0,this.snapWidth=0,this.snapHeight=0,this.snapOffsetX=0,this.snapOffsetY=0,this.vertical=!1,this.rtl=!1,this.element=e}var t=e.prototype;return t.getInsetTop=function(){return this.marginTop+this.borderTop+this.paddingTop},t.getInsetBottom=function(){return this.marginBottom+this.borderBottom+this.paddingBottom},t.getInsetLeft=function(){return this.marginLeft+this.borderLeft+this.paddingLeft},t.getInsetRight=function(){return this.marginRight+this.borderRight+this.paddingRight},t.getInsetBefore=function(){return this.vertical?this.getInsetRight():this.getInsetTop()},t.getInsetAfter=function(){return this.vertical?this.getInsetLeft():this.getInsetBottom()},t.getInsetStart=function(){return this.vertical?this.getInsetTop():this.getInsetLeft()},t.getInsetEnd=function(){return this.vertical?this.getInsetBottom():this.getInsetRight()},t.getBeforeEdge=function(e){return this.vertical?e.right:e.top},t.getAfterEdge=function(e){return this.vertical?e.left:e.bottom},t.getStartEdge=function(e){return this.vertical?this.rtl?e.bottom:e.top:this.rtl?e.right:e.left},t.getEndEdge=function(e){return this.vertical?this.rtl?e.top:e.bottom:this.rtl?e.left:e.right},t.getInlineSize=function(e){return this.vertical?e.bottom-e.top:e.right-e.left},t.getBoxSize=function(e){return this.vertical?e.right-e.left:e.bottom-e.top},t.getBoxDir=function(){return this.vertical?-1:1},t.getInlineDir=function(){return this.rtl?-1:1},t.copyFrom=function(e){this.element=e.element,this.left=e.left,this.top=e.top,this.marginLeft=e.marginLeft,this.marginRight=e.marginRight,this.marginTop=e.marginTop,this.marginBottom=e.marginBottom,this.borderLeft=e.borderLeft,this.borderRight=e.borderRight,this.borderTop=e.borderTop,this.borderBottom=e.borderBottom,this.paddingLeft=e.paddingLeft,this.paddingRight=e.paddingRight,this.paddingTop=e.paddingTop,this.paddingBottom=e.paddingBottom,this.width=e.width,this.height=e.height,this.originX=e.originX,this.originY=e.originY,this.innerShape=e.innerShape,this.exclusions=e.exclusions,this.computedBlockSize=e.computedBlockSize,this.snapWidth=e.snapWidth,this.snapHeight=e.snapHeight,this.vertical=e.vertical,this.rtl=e.rtl},t.setVerticalPosition=function(e,t){this.top=e,this.height=t,te(this.element,"top",e+"px"),te(this.element,"height",t+"px")},t.setHorizontalPosition=function(e,t){this.left=e,this.width=t,te(this.element,"left",e+"px"),te(this.element,"width",t+"px")},t.setBlockPosition=function(e,t){this.vertical?this.setHorizontalPosition(e+(t+this.marginLeft+this.marginRight+this.paddingLeft+this.paddingRight+this.borderLeft+this.borderRight)*this.getBoxDir(),t):this.setVerticalPosition(e,t)},t.setInlinePosition=function(e,t){this.vertical?this.setVerticalPosition(this.rtl?e+(t+this.marginTop+this.marginBottom+this.paddingTop+this.paddingBottom+this.borderTop+this.borderBottom)*this.getInlineDir():e,t):this.setHorizontalPosition(this.rtl?e+(t+this.marginLeft+this.marginRight+this.paddingLeft+this.paddingRight+this.borderLeft+this.borderRight)*this.getInlineDir():e,t)},t.clear=function(){for(var e,t=this.element;e=t.lastChild;)t.removeChild(e)},t.getInnerShape=function(){var e=this.getInnerRect();return this.innerShape?this.innerShape.withOffset(e.x1,e.y1):gn(e.x1,e.y1,e.x2,e.y2)},t.getInnerRect=function(){var e=this.originX+this.left+this.getInsetLeft(),t=this.originY+this.top+this.getInsetTop();return new cn(e,t,e+this.width,t+this.height)},t.getPaddingRect=function(){var e=this.originX+this.left+this.marginLeft+this.borderLeft,t=this.originY+this.top+this.marginTop+this.borderTop;return new cn(e,t,e+(this.paddingLeft+this.width+this.paddingRight),t+(this.paddingTop+this.height+this.paddingBottom))},t.getOuterShape=function(e,t){var n=this.getOuterRect();return Ln(e,n.x1,n.y1,n.x2-n.x1,n.y2-n.y1,t)},t.getOuterRect=function(){var e=this.originX+this.left,t=this.originY+this.top,n=this.getInsetLeft()+this.width+this.getInsetRight(),u=this.getInsetTop()+this.height+this.getInsetBottom();return new cn(e,t,e+n,t+u)},e}(),gr=function(e){function t(t,n,u,i){var r;return(r=e.call(this)||this).elem=void 0,r.context=void 0,r.rootContentValue=void 0,r.exprContentListener=void 0,r.elem=t,r.context=n,r.rootContentValue=u,r.exprContentListener=i,r}x(t,e);var n=t.prototype;return n.visitStrInner=function(e,t){if(!t){var n;if(3===(null==(n=this.elem.lastChild)?void 0:n.nodeType))return void(this.elem.lastChild.textContent+=e);t=this.elem.ownerDocument.createTextNode(e)}this.elem.appendChild(t)},n.visitStr=function(e){return this.visitStrInner(e.str),null},n.visitURL=function(e){if(this.rootContentValue.url)this.elem.setAttribute("src",e.url);else{var t=this.elem.ownerDocument.createElementNS(W.XHTML,"img");t.setAttribute("src",e.url),this.elem.appendChild(t)}return null},n.visitSpaceList=function(e){return this.visitValues(e.values),null},n.visitExpr=function(e){var t=e.toExpr(),n=t.evaluate(this.context);if("string"==typeof n){t instanceof dt&&(n=Ti(t.scope,new Su(n,null),"").stringValue());var u=this.exprContentListener(t,n,this.elem.ownerDocument);this.visitStrInner(n,u)}return null},t}(Nt);function Fr(e){return null!=e&&e!==It&&e!==Jt.normal&&e!==Jt.none&&!an(e)}var vr={"border-collapse":!0,"border-spacing":!0,"caption-side":!0,"clip-rule":!0,color:!0,"color-interpolation":!0,"color-rendering":!0,cursor:!0,direction:!0,"empty-cells":!0,fill:!0,"fill-opacity":!0,"fill-rule":!0,"font-kerning":!0,"font-size":!0,"font-size-adjust":!0,"font-family":!0,"font-feature-settings":!0,"font-style":!0,"font-stretch":!0,"font-variant-ligatures":!0,"font-variant-caps":!0,"font-variant-numeric":!0,"font-variant-east-asian":!0,"font-weight":!0,"glyph-orientation-vertical":!0,"hanging-punctuation":!0,hyphens:!0,"hyphenate-character":!0,"hyphenate-limit-chars":!0,"hyphenate-limit-last":!0,"image-rendering":!0,"image-resolution":!0,"letter-spacing":!0,"line-break":!0,"line-height":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,marker:!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,orphans:!0,"overflow-wrap":!0,"paint-order":!0,"pointer-events":!0,quotes:!0,"ruby-align":!0,"ruby-position":!0,"shape-rendering":!0,stroke:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,"tab-size":!0,"text-align":!0,"text-align-last":!0,"text-anchor":!0,"text-decoration-skip":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-fill-color":!0,"text-combine-upright":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-rendering":!0,"text-size-adjust":!0,"text-spacing":!0,"text-stroke-color":!0,"text-stroke-width":!0,"text-transform":!0,"text-underline-position":!0,visibility:!0,"white-space":!0,widows:!0,"word-break":!0,"word-spacing":!0,"writing-mode":!0},mr=["image-resolution","orphans","widows"];var Ar={"http://www.idpf.org/2007/ops":!0,"http://www.w3.org/1999/xhtml":!0,"http://www.w3.org/2000/svg":!0},yr=["margin-%","padding-%","border-%-width","border-%-style","border-%-color","%"],Br=["max-%","min-%","%"],br=function(){for(var e=["left","right","top","bottom"],t={width:!0,height:!0,"max-width":!0,"max-height":!0,"min-width":!0,"min-height":!0},n=0;n<yr.length;n++)for(var u=0;u<e.length;u++)t[yr[n].replace("%",e[u])]=!0;return t}();function wr(e,t){for(var n,u={},i=_(yr);!(n=i()).done;){var r=n.value;for(var o in e){var a=r.replace("%",o),s=r.replace("%",e[o]);u[a]=s,u[s]=a}}for(var l,c=_(Br);!(l=c()).done;){var D=l.value;for(var h in t){var f=D.replace("%",h),d=D.replace("%",t[h]);u[f]=d,u[d]=f}}return u}var Sr=wr({"block-start":"right","block-end":"left","inline-start":"top","inline-end":"bottom"},{"block-size":"width","inline-size":"height"}),Nr=wr({"block-start":"top","block-end":"bottom","inline-start":"left","inline-end":"right"},{"block-size":"height","inline-size":"width"}),xr=wr({"block-start":"right","block-end":"left","inline-start":"bottom","inline-end":"top"},{"block-size":"width","inline-size":"height"}),Tr=wr({"block-start":"top","block-end":"bottom","inline-start":"right","inline-end":"left"},{"block-size":"height","inline-size":"width"}),kr=function(){function e(e,t){this.value=void 0,this.priority=void 0,this.value=e,this.priority=t}var t=e.prototype;return t.getBaseValue=function(){return this},t.filterValue=function(t){var n=this.value.visit(t);return n===this.value?this:new e(n,this.priority)},t.increaseSpecificity=function(t){return 0==t?this:new e(this.value,this.priority+t)},t.evaluate=function(e,t){return t&&ln(t)?this.value:ga(e,this.value,t)},t.isEnabled=function(e){return!0},e}(),Ir=function(e){function t(t,n,u){var i;return(i=e.call(this,t,n)||this).condition=void 0,i.condition=u,i}x(t,e);var n=t.prototype;return n.getBaseValue=function(){return new kr(this.value,this.priority)},n.filterValue=function(e){var n=this.value.visit(e);return n===this.value?this:new t(n,this.priority,this.condition)},n.increaseSpecificity=function(e){return 0==e?this:new t(this.value,this.priority+e,this.condition)},n.isEnabled=function(e){try{return!!this.condition.evaluate(e)}catch(e){f.warn(e)}return!1},t}(kr);function Pr(e,t,n){return(!t||n.priority>=t.priority)&&n.isEnabled(e)?n.getBaseValue():t}function Rr(e,t,n,u){if(n){var i=e[t];(!i||n.priority>=i.priority)&&(u?n.isEnabled(u)&&(e[t]=n.getBaseValue()):e[t]=n)}else delete e[t]}var Lr={"region-id":!0,"fragment-selector-id":!0};function Or(e){return"_"===e.charAt(0)&&"_viewConditionalStyles"!==e}function _r(e){return"_"!==e.charAt(0)&&!Lr[e]}function Mr(e){return!!vr[e]||ln(e)}function Ur(e,t){return e[t]}function zr(e,t,n){n?e[t]=n:delete e[t]}function Vr(e,t){return e[t]}function Hr(e,t){var n=e[t];return n||(e[t]=n={}),n}var Gr=function(e){var t=e._viewConditionalStyles;return t||(e._viewConditionalStyles=t=[]),t};function Wr(e,t){return e[t]}function Xr(e,t){var n=e[t];return n||(e[t]=n=[]),n}function jr(e,t,n,u,i,r,o){for(var a in[{id:i,styleKey:"_pseudos"},{id:r,styleKey:"_regions"}].forEach((function(e){if(e.id){var n=Hr(t,e.styleKey);(t=n[e.id])||(n[e.id]=t={})}})),o&&Gr(t).push({styles:t={},matcher:o}),n)if(!Or(a))if(Lr[a]){var s=Wr(n,a),l=Xr(t,a);Array.prototype.push.apply(l,s)}else{var c,D,h=Ur(n,a).increaseSpecificity(u);Rr(t,a,h,e);var f=null==(c=e.style)||null==(D=c.validatorSet.shorthands[a])?void 0:D.propList;if(f)for(var d,p=_(f);!(d=p()).done;){var E=d.value,C=new kr(It,h.priority);Rr(t,E,C,e)}}}function $r(e,t){if(e.length>0){e.sort((function(e,t){return t.getPriority()-e.getPriority()}));for(var n=null,u=e.length-1;u>=0;u--)(n=e[u]).chained=t,t=n;return n}return t}var qr=function(e){function t(t,n){var u;return(u=e.call(this)||this).props=void 0,u.context=void 0,u.propName="",u.props=t,u.context=n,u}x(t,e);var n=t.prototype;return n.setPropName=function(e){this.propName=e},n.getFontSize=function(){var e=Ur(this.props,"font-size");if(!e.value.isNumeric())return Me.em;var t=e.value;if(!function(e){switch(null==e?void 0:e.toLowerCase()){case"px":case"in":case"pt":case"pc":case"cm":case"mm":case"q":return!0;default:return!1}}(t.unit))throw new Error("Unexpected state");return t.num*Me[t.unit]},n.visitNumeric=function(e){return"font-size"===this.propName?Kr(e,this.getFontSize(),this.context):"em"===e.unit||"ex"===e.unit||"rem"===e.unit||"lh"===e.unit||"rlh"===e.unit?Yr(e,this.getFontSize(),this.context):e},n.visitExpr=function(e){return"font-size"==this.propName?ga(this.context,e,this.propName).visit(this):e},t}(xt);function Yr(e,t,n){var u=e.unit,i=e.num;return"em"===u||"ex"===u?new Ut(i*(Me[u]/Me.em)*t,"px"):"rem"===u?new Ut(i*n.fontSize(),"px"):"rlh"===u?new Ut(i*n.rootLineHeight,"px"):e}function Kr(e,t,n){var u=(e=Yr(e,t,n)).unit,i=e.num;return"px"===u?e:new Ut("%"===u?i/100*t:i*n.queryUnitSize(u,!1),"px")}var Qr=function(){function e(){}var t=e.prototype;return t.apply=function(e){},t.mergeWith=function(e){return new Jr([this,e])},t.clone=function(){return this},e}(),Zr=function(e){function t(t){var n;return(n=e.call(this)||this).conditionItem=void 0,n.conditionItem=t,n}return x(t,e),t.prototype.apply=function(e){e.pushConditionItem(this.conditionItem.fresh(e))},t}(Qr),Jr=function(e){function t(t){var n;return(n=e.call(this)||this).list=void 0,n.list=t,n}x(t,e);var n=t.prototype;return n.apply=function(e){for(var t=0;t<this.list.length;t++)this.list[t].apply(e)},n.mergeWith=function(e){return this.list.push(e),this},n.clone=function(){return new t([].concat(this.list))},t}(Qr),eo=function(e){function t(t,n,u,i,r){var o;return(o=e.call(this)||this).style=void 0,o.specificity=void 0,o.pseudoelement=void 0,o.regionId=void 0,o.viewConditionId=void 0,o.style=t,o.specificity=n,o.pseudoelement=u,o.regionId=i,o.viewConditionId=r,o}return x(t,e),t.prototype.apply=function(e){jr(e.context,e.currentStyle,this.style,this.specificity,this.pseudoelement,this.regionId,e.buildViewConditionMatcher(this.viewConditionId))},t}(Qr),to=function(e){function t(){var t;return(t=e.call(this)||this).chained=null,t}x(t,e);var n=t.prototype;return n.apply=function(e){this.chained.apply(e)},n.getPriority=function(){return 0},n.makePrimary=function(e){return!1},t}(Qr),no=function(e){function t(t){var n;return(n=e.call(this)||this).className=void 0,n.className=t,n}x(t,e);var n=t.prototype;return n.apply=function(e){e.currentClassNames.includes(this.className)&&this.chained.apply(e)},n.getPriority=function(){return 10},n.makePrimary=function(e){return this.chained&&e.insertInTable(e.classes,this.className,this.chained),!0},t}(to),uo=function(e){function t(t){var n;return(n=e.call(this)||this).id=void 0,n.id=t,n}x(t,e);var n=t.prototype;return n.apply=function(e){e.currentId!=this.id&&e.currentXmlId!=this.id||this.chained.apply(e)},n.getPriority=function(){return 11},n.makePrimary=function(e){return this.chained&&e.insertInTable(e.ids,this.id,this.chained),!0},t}(to),io=function(e){function t(t){var n;return(n=e.call(this)||this).localName=void 0,n.localName=t,n}x(t,e);var n=t.prototype;return n.apply=function(e){e.currentLocalName==this.localName&&this.chained.apply(e)},n.getPriority=function(){return 8},n.makePrimary=function(e){return this.chained&&e.insertInTable(e.tags,this.localName,this.chained),!0},t}(to),ro=function(e){function t(t,n){var u;return(u=e.call(this)||this).ns=void 0,u.localName=void 0,u.ns=t,u.localName=n,u}x(t,e);var n=t.prototype;return n.apply=function(e){e.currentLocalName==this.localName&&e.currentNamespace==this.ns&&this.chained.apply(e)},n.getPriority=function(){return 8},n.makePrimary=function(e){if(this.chained){var t=e.nsPrefix[this.ns];t||(t="ns"+e.nsCount+++":",e.nsPrefix[this.ns]=t),e.insertInTable(e.nstags,t+this.localName,this.chained)}return!0},t}(to),oo=function(e){function t(t){var n;return(n=e.call(this)||this).epubTypePatt=void 0,n.epubTypePatt=t,n}return x(t,e),t.prototype.apply=function(e){var t=e.currentElement;if(t&&"a"==e.currentLocalName){var n=t.getAttribute("href");if(n&&n.match(/^#/)){var u=n.substring(1),i=t.ownerDocument.getElementById(u);if(i){var r=i.getAttributeNS(W.epub,"type");r&&r.match(this.epubTypePatt)&&this.chained.apply(e)}}}},t}(to),ao=function(e){function t(t){var n;return(n=e.call(this)||this).ns=void 0,n.ns=t,n}return x(t,e),t.prototype.apply=function(e){e.currentNamespace==this.ns&&this.chained.apply(e)},t}(to),so=function(e){function t(t,n){var u;return(u=e.call(this)||this).ns=void 0,u.name=void 0,u.ns=t,u.name=n,u}return x(t,e),t.prototype.apply=function(e){e.currentElement&&e.currentElement.hasAttributeNS(this.ns,this.name)&&this.chained.apply(e)},t}(to),lo=function(e){function t(t,n,u){var i;return(i=e.call(this)||this).ns=void 0,i.name=void 0,i.value=void 0,i.ns=t,i.name=n,i.value=u,i}x(t,e);var n=t.prototype;return n.apply=function(e){e.currentElement&&e.currentElement.getAttributeNS(this.ns,this.name)==this.value&&this.chained.apply(e)},n.getPriority=function(){return"type"==this.name&&this.ns==W.epub?9:0},n.makePrimary=function(e){return"type"==this.name&&this.ns==W.epub&&(this.chained&&e.insertInTable(e.epubtypes,this.value,this.chained),!0)},t}(to),co=function(e){function t(t,n){var u;return(u=e.call(this)||this).ns=void 0,u.name=void 0,u.ns=t,u.name=n,u}x(t,e);var n=t.prototype;return n.apply=function(e){if(e.currentElement){var t=e.currentElement.getAttributeNS(this.ns,this.name);t&&Ar[t]&&this.chained.apply(e)}},n.getPriority=function(){return 0},n.makePrimary=function(e){return!1},t}(to),Do=function(e){function t(t,n,u){var i;return(i=e.call(this)||this).ns=void 0,i.name=void 0,i.regexp=void 0,i.ns=t,i.name=n,i.regexp=u,i}return x(t,e),t.prototype.apply=function(e){if(e.currentElement){var t=e.currentElement.getAttributeNS(this.ns,this.name);t&&t.match(this.regexp)&&this.chained.apply(e)}},t}(to),ho=function(e){function t(t){var n;return(n=e.call(this)||this).langRegExp=void 0,n.langRegExp=t,n}return x(t,e),t.prototype.apply=function(e){e.lang.match(this.langRegExp)&&this.chained.apply(e)},t}(to),fo=function(e){function t(){return e.call(this)||this}x(t,e);var n=t.prototype;return n.apply=function(e){e.isFirst&&this.chained.apply(e)},n.getPriority=function(){return 6},t}(to),po=function(e){function t(){return e.call(this)||this}x(t,e);var n=t.prototype;return n.apply=function(e){e.isRoot&&this.chained.apply(e)},n.getPriority=function(){return 12},t}(to),Eo=function(e){function t(t,n){var u;return(u=e.call(this)||this).a=void 0,u.b=void 0,u.a=t,u.b=n,u}return x(t,e),t.prototype.matchANPlusB=function(e){return Ii(e,this.a,this.b)},t}(to),Co=function(e){function t(t,n){return e.call(this,t,n)||this}x(t,e);var n=t.prototype;return n.apply=function(e){this.matchANPlusB(e.currentSiblingOrder)&&this.chained.apply(e)},n.getPriority=function(){return 5},t}(Eo),go=function(e){function t(t,n){return e.call(this,t,n)||this}x(t,e);var n=t.prototype;return n.apply=function(e){this.matchANPlusB(e.currentSiblingTypeCounts[e.currentNamespace][e.currentLocalName])&&this.chained.apply(e)},n.getPriority=function(){return 5},t}(Eo),Fo=function(e){function t(t,n){return e.call(this,t,n)||this}x(t,e);var n=t.prototype;return n.apply=function(e){var t=e.currentFollowingSiblingOrder;null===t&&(t=e.currentFollowingSiblingOrder=e.currentElement.parentNode.childElementCount-e.currentSiblingOrder+1),this.matchANPlusB(t)&&this.chained.apply(e)},n.getPriority=function(){return 4},t}(Eo),vo=function(e){function t(t,n){return e.call(this,t,n)||this}x(t,e);var n=t.prototype;return n.apply=function(e){var t=e.currentFollowingSiblingTypeCounts;if(!t[e.currentNamespace]){var n=e.currentElement;do{var u=n.namespaceURI,i=n.localName,r=t[u];r||(r=t[u]={}),r[i]=(r[i]||0)+1}while(n=n.nextElementSibling)}this.matchANPlusB(t[e.currentNamespace][e.currentLocalName])&&this.chained.apply(e)},n.getPriority=function(){return 4},t}(Eo),mo=function(e){function t(){return e.call(this)||this}x(t,e);var n=t.prototype;return n.apply=function(e){for(var t=e.currentElement.firstChild;t;){switch(t.nodeType){case Node.ELEMENT_NODE:return;case Node.TEXT_NODE:if(t.length>0)return}t=t.nextSibling}this.chained.apply(e)},n.getPriority=function(){return 4},t}(to),Ao=function(e){function t(){return e.call(this)||this}x(t,e);var n=t.prototype;return n.apply=function(e){!1===e.currentElement.disabled&&this.chained.apply(e)},n.getPriority=function(){return 5},t}(to),yo=function(e){function t(){return e.call(this)||this}x(t,e);var n=t.prototype;return n.apply=function(e){!0===e.currentElement.disabled&&this.chained.apply(e)},n.getPriority=function(){return 5},t}(to),Bo=function(e){function t(){return e.call(this)||this}x(t,e);var n=t.prototype;return n.apply=function(e){var t=e.currentElement;!0!==t.selected&&!0!==t.checked||this.chained.apply(e)},n.getPriority=function(){return 5},t}(to),bo=function(e){function t(t){var n;return(n=e.call(this)||this).condition=void 0,n.condition=t,n}x(t,e);var n=t.prototype;return n.apply=function(e){if(e.conditions[this.condition])try{e.dependentConditions.push(this.condition),this.chained.apply(e)}finally{e.dependentConditions.pop()}},n.getPriority=function(){return 5},t}(to),wo=function(e){function t(){var t;return(t=e.call(this)||this).applied=!1,t}x(t,e);var n=t.prototype;return n.apply=function(e){this.applied=!0},n.clone=function(){var e=new t;return e.applied=this.applied,e},t}(Qr),So=function(e){function t(t){var n;(n=e.call(this)||this).checkAppliedAction=void 0,n.firstActions=[],n.checkAppliedAction=new wo;for(var u,i=_(t);!(u=i()).done;)n.firstActions.push($r(u.value,n.checkAppliedAction));return n}x(t,e);var n=t.prototype;return n.apply=function(e){for(var t,n=_(this.firstActions);!(t=n()).done&&(t.value.apply(e),!this.checkAppliedAction.applied););this.checkAppliedAction.applied===this.positive()&&this.chained.apply(e),this.checkAppliedAction.applied=!1},n.getPriority=function(){return Math.max.apply(Math,this.firstActions.map((function(e){return e instanceof to?e.getPriority():0})))},n.positive=function(){return!0},n.relational=function(){return!1},t}(to),No=function(e){function t(){return e.apply(this,arguments)||this}return x(t,e),t.prototype.positive=function(){return!1},t}(So),xo=function(e){function t(t){var n;return(n=e.call(this,[])||this).selectorTexts=void 0,n.selectorTexts=t,n}x(t,e);var n=t.prototype;return n.apply=function(e){for(var t,n=_(this.selectorTexts);!(t=n()).done;){var u=t.value,i=void 0,r=void 0;/^\s*[+~]/.test(u)?(r=e.currentElement.parentElement,i=":scope > :nth-child("+(Array.from(r.children).indexOf(e.currentElement)+1)+") "+u):(r=e.currentElement,i=":scope "+u);try{if(r.querySelector(i)){this.checkAppliedAction.apply(e);break}}catch(e){}}this.checkAppliedAction.applied&&this.chained.apply(e),this.checkAppliedAction.applied=!1},n.relational=function(){return!0},t}(So),To=function(){function e(e,t,n){this.condition=void 0,this.viewConditionId=void 0,this.viewCondition=void 0,this.condition=e,this.viewConditionId=t,this.viewCondition=n}var t=e.prototype;return t.increment=function(e){e.increment(this.condition,this.viewCondition)},t.decrement=function(e){e.decrement(this.condition,this.viewCondition)},t.buildViewConditionMatcher=function(e){return e.buildViewConditionMatcher(this.viewConditionId)},e}(),ko=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.fresh=function(e){return new t(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))},n.push=function(e,t){return 0==t&&this.increment(e),!1},n.pop=function(e,t){return 0==t&&(this.decrement(e),!0)},t}(To),Io=function(e){function t(t,n,u){return e.call(this,t,n,u)||this}x(t,e);var n=t.prototype;return n.fresh=function(e){return new t(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))},n.push=function(e,t){return 0==t?this.increment(e):1==t&&this.decrement(e),!1},n.pop=function(e,t){return 0==t?(this.decrement(e),!0):(1==t&&this.increment(e),!1)},t}(To),Po=function(e){function t(t,n,u){var i;return(i=e.call(this,t,n,u)||this).fired=!1,i}x(t,e);var n=t.prototype;return n.fresh=function(e){return new t(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))},n.push=function(e,t){return!!this.fired&&(this.decrement(e),!0)},n.pop=function(e,t){return this.fired?(this.decrement(e),!0):(0==t&&(this.fired=!0,this.increment(e)),!1)},t}(To),Ro=function(e){function t(t,n,u){var i;return(i=e.call(this,t,n,u)||this).fired=!1,i}x(t,e);var n=t.prototype;return n.fresh=function(e){return new t(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))},n.push=function(e,t){return this.fired&&(-1==t?this.increment(e):0==t&&this.decrement(e)),!1},n.pop=function(e,t){if(this.fired){if(-1==t)return this.decrement(e),!0;0==t&&this.increment(e)}else 0==t&&(this.fired=!0,this.increment(e));return!1},t}(To),Lo=function(){function e(e,t){this.afterprop=void 0,this.element=void 0,this.afterprop=e,this.element=t}var t=e.prototype;return t.fresh=function(e){return this},t.push=function(e,t){return!1},t.pop=function(e,t){return 0==t&&(e.processPseudoelementProps(this.afterprop,this.element),!0)},e}(),Oo=function(){function e(e){this.lang=void 0,this.lang=e}var t=e.prototype;return t.fresh=function(e){return this},t.push=function(e,t){return!1},t.pop=function(e,t){return 0==t&&(e.lang=this.lang,!0)},e}(),_o=function(){function e(e){this.oldQuotes=void 0,this.oldQuotes=e}var t=e.prototype;return t.fresh=function(e){return this},t.push=function(e,t){return!1},t.pop=function(e,t){return 0==t&&(e.quotes=this.oldQuotes,!0)},e}(),Mo=function(e){function t(t){var n;return(n=e.call(this)||this).element=void 0,n.element=t,n}x(t,e);var n=t.prototype;return n.createValueFromString=function(e,t){return"url"===t?new Gt(e||"about:invalid"):new Lt(e||"")},n.visitFunc=function(t){if("attr"!==t.name)return e.prototype.visitFunc.call(this,t);var n,u="string",i=null;if(t.values[0]instanceof jt){var r=t.values[0].values;r.length>=2&&(u=r[1].stringValue()),i=r[0].stringValue()}else i=t.values[0].stringValue();return n=this.createValueFromString(t.values.length>1?t.values[1].stringValue():null,u),this.element&&this.element.hasAttribute(i)?this.createValueFromString(this.element.getAttribute(i),u):n},t}(xt);function Uo(e){if(Fr(e)){if(e instanceof Lt)return e.stringValue();if(e instanceof jt)return e.values.map((function(e){return Uo(e)})).join("")}return""}var zo=function(e){function t(t,n,u){var i;return(i=e.call(this)||this).cascade=void 0,i.element=void 0,i.counterResolver=void 0,i.cascade=t,i.element=n,i.counterResolver=u,i}x(t,e);var n=t.prototype;return n.visitIdent=function(e){var t=this.cascade,n=t.quotes,u=Math.floor(n.length/2)-1;switch(e.name){case"open-quote":var i=n[2*Math.min(u,t.quoteDepth)];return t.quoteDepth++,i;case"close-quote":return t.quoteDepth>0&&t.quoteDepth--,n[2*Math.min(u,t.quoteDepth)+1];case"no-open-quote":return t.quoteDepth++,new Lt("");case"no-close-quote":return t.quoteDepth>0&&t.quoteDepth--,new Lt("")}return e},n.format=function(e,t){var n,u=!1,i=!1;null!=(n=t.match(/^upper-(.*)/))?(u=!0,t=n[1]):null!=(n=t.match(/^lower-(.*)/))&&(i=!0,t=n[1]);var r="";return Vo[t]?r=function(e,t){if(t>e[0]||t<=0||t!=Math.round(t))return"";for(var n="",u=1;u<e.length;u+=2){var i=e[u],r=Math.floor(t/i);if(r>20)return"";for(t-=r*i;r>0;)n+=e[u+1],r--}return n}(Vo[t],e):Ho[t]?r=function(e,t){if(t<=0||t!=Math.round(t))return"";var n=function(e){for(var t=[],n=0;n<e.length;)if("-"==e.substr(n+1,1)){var u=e.charCodeAt(n),i=e.charCodeAt(n+2);n+=3;for(var r=u;r<=i;r++)t.push(String.fromCharCode(r))}else t.push(e.substr(n++,1));return t}(e),u="";do{var i=--t%n.length;u=n[i]+u,t=(t-i)/n.length}while(t>0);return u}(Ho[t],e):null!=Go[t]?r=Go[t]:"decimal-leading-zero"==t?1==(r=""+e).length&&(r="0"+r):r="cjk-ideographic"==t||"trad-chinese-informal"==t?function(e,t){if(e>9999||e<-9999)return""+e;if(0==e)return t.digits.charAt(0);var n=new ie;if(e<0&&(n.append(t.negative),e=-e),e<10)n.append(t.digits.charAt(e));else if(!t.formal&&e<=19)n.append(t.markers.charAt(0)),0!=e&&n.append(t.digits.charAt(e-10));else{var u=Math.floor(e/1e3);u&&(n.append(t.digits.charAt(u)),n.append(t.markers.charAt(2)));var i=Math.floor(e/100)%10;i&&(n.append(t.digits.charAt(i)),n.append(t.markers.charAt(1)));var r=Math.floor(e/10)%10;r&&(n.append(t.digits.charAt(r)),n.append(t.markers.charAt(0)));var o=e%10;o&&n.append(t.digits.charAt(o))}return n.toString()}(e,Wo):""+e,u?r.toUpperCase():i?r.toLowerCase():r},n.visitFuncCounter=function(e){var t=this,n=e[0].toString(),u=e.length>1?e[1].stringValue():"decimal",i=this.cascade.counters[n];if(i&&i.length)return new Lt(this.format(i&&i.length&&i[i.length-1]||0,u));var r=new Yt(this.counterResolver.getPageCounterVal(n,(function(e){return t.format(e||0,u)})));return new jt([r])},n.visitFuncCounters=function(e){var t=this,n=e[0].toString(),u=e[1].stringValue(),i=e.length>2?e[2].stringValue():"decimal",r=this.cascade.counters[n],o=new ie;if(r&&r.length)for(var a=0;a<r.length;a++)a>0&&o.append(u),o.append(this.format(r[a],i));var s=new Yt(this.counterResolver.getPageCountersVal(n,(function(e){var n=[];if(e.length)for(var r=0;r<e.length;r++)n.push(t.format(e[r],i));var a=o.toString();return a.length&&n.push(a),n.length?n.join(u):t.format(0,i)})));return new jt([s])},n.visitFuncTargetCounter=function(e){var t,n=this,u=e[0];t=u instanceof Gt?u.url:u.stringValue();var i=e[1].toString(),r=e.length>2?e[2].stringValue():"decimal",o=new Yt(this.counterResolver.getTargetCounterVal(t,i,(function(e){return n.format(e||0,r)})));return new jt([o])},n.visitFuncTargetCounters=function(e){var t,n=this,u=e[0];t=u instanceof Gt?u.url:u.stringValue();var i=e[1].toString(),r=e[2].stringValue(),o=e.length>3?e[3].stringValue():"decimal",a=new Yt(this.counterResolver.getTargetCountersVal(t,i,(function(e){var t=e.map((function(e){return n.format(e,o)}));return t.length?t.join(r):n.format(0,o)})));return new jt([a])},n.visitFuncString=function(e){var t=e.length>0?e[0].stringValue():"",n=e.length>1?e[1].stringValue():"first",u=new Yt(this.counterResolver.getNamedStringVal(t,n));return new jt([u])},n.visitFuncContent=function(e){var t=e.length>0?e[0].stringValue():"text",n="";switch(t){case"text":case"first-letter":if(n=this.element.textContent,"first-letter"===t){var u=n.match(M);n=u?u[0]:""}break;case"before":case"after":var i,r,o=Vr(this.cascade.currentStyle,"_pseudos");n=Uo(null==o||null==(i=o[t])||null==(r=i.content)?void 0:r.value)}return new Lt(n)},n.visitFunc=function(e){switch(e.name){case"counter":if(e.values.length<=2)return this.visitFuncCounter(e.values);break;case"counters":if(e.values.length<=3)return this.visitFuncCounters(e.values);break;case"target-counter":if(e.values.length<=3)return this.visitFuncTargetCounter(e.values);break;case"target-counters":if(e.values.length<=4)return this.visitFuncTargetCounters(e.values);break;case"string":if(e.values.length<=2)return this.visitFuncString(e.values);break;case"content":if(e.values.length<=1)return this.visitFuncContent(e.values)}return e},t}(xt),Vo={roman:[4999,1e3,"M",900,"CM",500,"D",400,"CD",100,"C",90,"XC",50,"L",40,"XL",10,"X",9,"IX",5,"V",4,"IV",1,"I"],armenian:[9999,9e3,"\u0584",8e3,"\u0583",7e3,"\u0582",6e3,"\u0581",5e3,"\u0580",4e3,"\u057f",3e3,"\u057e",2e3,"\u057d",1e3,"\u057c",900,"\u057b",800,"\u057a",700,"\u0579",600,"\u0578",500,"\u0577",400,"\u0576",300,"\u0575",200,"\u0574",100,"\u0573",90,"\u0572",80,"\u0571",70,"\u0570",60,"\u056f",50,"\u056e",40,"\u056d",30,"\u056c",20,"\u056b",10,"\u056a",9,"\u0569",8,"\u0568",7,"\u0567",6,"\u0566",5,"\u0565",4,"\u0564",3,"\u0563",2,"\u0562",1,"\u0561"],georgian:[19999,1e4,"\u10f5",9e3,"\u10f0",8e3,"\u10ef",7e3,"\u10f4",6e3,"\u10ee",5e3,"\u10ed",4e3,"\u10ec",3e3,"\u10eb",2e3,"\u10ea",1e3,"\u10e9",900,"\u10e8",800,"\u10e7",700,"\u10e6",600,"\u10e5",500,"\u10e4",400,"\u10f3",300,"\u10e2",200,"\u10e1",100,"\u10e0",90,"\u10df",80,"\u10de",70,"\u10dd",60,"\u10f2",50,"\u10dc",40,"\u10db",30,"\u10da",20,"\u10d9",10,"\u10d8",9,"\u10d7",8,"\u10f1",7,"\u10d6",6,"\u10d5",5,"\u10d4",4,"\u10d3",3,"\u10d2",2,"\u10d1",1,"\u10d0"],hebrew:[999,400,"\u05ea",300,"\u05e9",200,"\u05e8",100,"\u05e7",90,"\u05e6",80,"\u05e4",70,"\u05e2",60,"\u05e1",50,"\u05e0",40,"\u05de",30,"\u05dc",20,"\u05db",19,"\u05d9\u05d8",18,"\u05d9\u05d7",17,"\u05d9\u05d6",16,"\u05d8\u05d6",15,"\u05d8\u05d5",10,"\u05d9",9,"\u05d8",8,"\u05d7",7,"\u05d6",6,"\u05d5",5,"\u05d4",4,"\u05d3",3,"\u05d2",2,"\u05d1",1,"\u05d0"]},Ho={latin:"a-z",alpha:"a-z",greek:"\u03b1-\u03c1\u03c3-\u03c9",russian:"\u0430-\u0438\u043a-\u0449\u044d-\u044f"},Go={square:"\u25a0",disc:"\u2022",circle:"\u25e6",none:""},Wo={formal:!1,digits:"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",markers:"\u5341\u767e\u5343",negative:"\u8ca0"};function Xo(e,t){for(var n in e)t[n]=e[n].clone()}var jo,$o=function(){function e(){this.nsCount=0,this.nsPrefix={},this.tags={},this.nstags={},this.epubtypes={},this.classes={},this.ids={},this.pagetypes={},this.order=0}var t=e.prototype;return t.clone=function(){var t=new e;for(var n in t.nsCount=this.nsCount,this.nsPrefix)t.nsPrefix[n]=this.nsPrefix[n];return Xo(this.tags,t.tags),Xo(this.nstags,t.nstags),Xo(this.epubtypes,t.epubtypes),Xo(this.classes,t.classes),Xo(this.ids,t.ids),Xo(this.pagetypes,t.pagetypes),t.order=this.order,t},t.insertInTable=function(e,t,n){var u=e[t];u&&(n=u.mergeWith(n)),e[t]=n},t.createInstance=function(e,t,n,u){return new qo(this,e,t,n,u)},t.nextOrder=function(){return this.order+=9.5367431640625e-7},e}(),qo=function(){function e(e,t,n,u,i){this.context=void 0,this.counterListener=void 0,this.counterResolver=void 0,this.code=void 0,this.stack=[[],[]],this.conditions={},this.currentElement=null,this.currentElementOffset=null,this.currentStyle=null,this.currentClassNames=null,this.currentLocalName="",this.currentNamespace="",this.currentId="",this.currentXmlId="",this.currentNSTag="",this.currentEpubTypes=null,this.currentPageType=null,this.previousPageType=null,this.firstPageType=null,this.isFirst=!0,this.isRoot=!0,this.counters={},this.counterScoping=[{}],this.quotes=void 0,this.quoteDepth=0,this.lang="",this.siblingOrderStack=[0],this.currentSiblingOrder=0,this.siblingTypeCountsStack=[{}],this.currentSiblingTypeCounts=void 0,this.currentFollowingSiblingOrder=null,this.followingSiblingOrderStack=void 0,this.followingSiblingTypeCountsStack=[{}],this.currentFollowingSiblingTypeCounts=void 0,this.viewConditions={},this.dependentConditions=[],this.elementStack=void 0,this.context=t,this.counterListener=n,this.counterResolver=u,this.code=e,this.quotes=[new Lt("\u201c"),new Lt("\u201d"),new Lt("\u2018"),new Lt("\u2019")],this.currentSiblingTypeCounts=this.siblingTypeCountsStack[0],this.followingSiblingOrderStack=[this.currentFollowingSiblingOrder],this.currentFollowingSiblingTypeCounts=this.siblingTypeCountsStack[0]}var t=e.prototype;return t.pushConditionItem=function(e){this.stack[this.stack.length-1].push(e)},t.increment=function(e,t){this.conditions[e]=(this.conditions[e]||0)+1,t&&(this.viewConditions[e]?this.viewConditions[e].push(t):this.viewConditions[e]=[t])},t.decrement=function(e,t){this.conditions[e]--,this.viewConditions[e]&&(this.viewConditions[e]=this.viewConditions[e].filter((function(e){return e!==t})),0===this.viewConditions[e].length&&delete this.viewConditions[e])},t.buildViewConditionMatcher=function(e){var t=this,n=null;e&&(n=Hi.buildViewConditionMatcher(this.currentElementOffset,e));var u=this.dependentConditions.map((function(e){var n=t.viewConditions[e];return n&&n.length>0?1===n.length?n[0]:Hi.buildAnyMatcher([].concat(n)):null})).filter((function(e){return e}));return u.length<=0?n:null===n?1===u.length?u[0]:Hi.buildAllMatcher(u):Hi.buildAllMatcher([n].concat(u))},t.applyAction=function(e,t){var n=e[t];n&&n.apply(this)},t.pushRule=function(e,t,n){this.currentElement=null,this.currentElementOffset=null,this.currentStyle=n,this.currentNamespace="",this.currentLocalName="",this.currentId="",this.currentXmlId="",this.currentClassNames=e,this.currentNSTag="",this.currentEpubTypes=Yo,this.currentPageType=t,this.applyActions()},t.defineCounter=function(e,t){this.counters[e]?this.counters[e].push(t):this.counters[e]=[t];var n=this.counterScoping[this.counterScoping.length-1];n||(this.counterScoping[this.counterScoping.length-1]=n={}),n[e]=!0},t.pushCounters=function(e){var t,n=Jt.inline,u=e.display;u&&(n=u.evaluate(this.context));var i=Jt.inline,r=e.float;r&&(i=r.evaluate(this.context));var o=null,a=null,s=null,l=e["counter-reset"];if(l){var c=l.evaluate(this.context);c&&(o=_n(c,!0))}var D=e["counter-set"];if(D){var h=D.evaluate(this.context);h&&(s=_n(h,!1))}var f,d,p,E,C=e["counter-increment"];if(C){var g=C.evaluate(this.context);g&&(a=_n(g,!1))}if("ol"!=this.currentLocalName&&"ul"!=this.currentLocalName||this.currentNamespace!=W.XHTML||(o||(o={}),o["ua-list-item"]=(null!=(f=null==(d=this.currentElement)?void 0:d.start)?f:1)-1),n===Jt.list_item&&(a||(a={}),a["ua-list-item"]=1,/^\s*[-+]?\d/.test(null!=(p=null==(E=this.currentElement)?void 0:E.getAttribute("value"))?p:"")&&(o||(o={}),o["ua-list-item"]=this.currentElement.value-1)),(null==(t=this.currentElement)?void 0:t.parentNode.nodeType)===Node.DOCUMENT_NODE&&(o||(o={}),void 0===o.footnote&&(o.footnote=0)),i===Jt.footnote&&(a||(a={}),void 0===a.footnote)){var F,v=null==(F=this.currentStyle["counter-increment"])?void 0:F.value;v&&(v===Jt.footnote||v instanceof jt&&v.values.includes(Jt.footnote))||(a.footnote=1)}if(o)for(var m in o)this.defineCounter(m,o[m]);if(s)for(var A in s)if(this.counters[A]){var y=this.counters[A];y[y.length-1]=s[A]}else this.defineCounter(A,s[A]);if(a)for(var B in a){this.counters[B]||this.defineCounter(B,0);var b=this.counters[B];b[b.length-1]+=a[B]}if(n===Jt.list_item){var w=this.counters["ua-list-item"];e["ua-list-item-count"]=new kr(new zt(w[w.length-1]),0)}this.counterScoping.push(null)},t.popCounters=function(){var e=this.counterScoping.pop();if(e)for(var t in e){var n=this.counters[t];n&&(1==n.length?delete this.counters[t]:n.pop())}},t.setNamedStrings=function(e){var t=e["string-set"];if(t){for(var n,u=_((t=t.filterValue(new zo(this,this.currentElement,this.counterResolver))).value instanceof $t?t.value.values:[t.value]);!(n=u()).done;){var i=n.value;if(i instanceof jt){var r=i.values[0].stringValue(),o=i.values.slice(1).map((function(e){return Uo(e)})).join("");this.counterResolver.setNamedString(r,o,this)}}delete e["string-set"]}},t.processPseudoelementProps=function(e,t){this.pushCounters(e);var n=e.content;n&&(e.content=n.filterValue(new zo(this,t,this.counterResolver))),this.popCounters()},t.pushElement=function(e,t,n,u){var i=this;this.currentPageType=null,this.currentElement=t,this.currentElementOffset=u,this.currentStyle=n,this.currentNamespace=t.namespaceURI,this.currentLocalName=t.localName;var r=this.code.nsPrefix[this.currentNamespace];this.currentNSTag=r?r+this.currentLocalName:"",this.currentId=t.getAttribute("id"),this.currentXmlId=t.getAttributeNS(W.XML,"id");var o=t.getAttribute("class");this.currentClassNames=o?o.split(/\s+/):Yo;var a=t.getAttributeNS(W.epub,"type");this.currentEpubTypes=a?a.split(/\s+/):Yo;var s=ue(t);s&&(this.stack[this.stack.length-1].push(new Oo(this.lang)),this.lang=s.toLowerCase());var l=this.isRoot,c=this.siblingOrderStack;this.currentSiblingOrder=++c[c.length-1],c.push(0);var D=this.siblingTypeCountsStack,h=this.currentSiblingTypeCounts=D[D.length-1],f=h[this.currentNamespace];f||(f=h[this.currentNamespace]={}),f[this.currentLocalName]=(f[this.currentLocalName]||0)+1,D.push({});var d=this.followingSiblingOrderStack;this.currentFollowingSiblingOrder=null!==d[d.length-1]?--d[d.length-1]:null,d.push(null);var p=this.followingSiblingTypeCountsStack,E=this.currentFollowingSiblingTypeCounts=p[p.length-1];E&&E[this.currentNamespace]&&E[this.currentNamespace][this.currentLocalName]--,p.push({}),this.applyActions(),this.applyVarFilter([this.currentStyle],e,t),this.applyCalcFilter(this.currentStyle,this.context),this.applyAttrFilter(t);var C=n.quotes,g=null;if(C){var F=C.evaluate(this.context);F&&(g=new _o(this.quotes),F===Jt.none?this.quotes=[new Lt(""),new Lt("")]:F===Jt.auto||F===Jt.initial?this.quotes=[new Lt("\u201c"),new Lt("\u201d"),new Lt("\u2018"),new Lt("\u2019")]:F instanceof jt&&(this.quotes=F.values))}this.pushCounters(this.currentStyle);var v=this.currentId||this.currentXmlId||t.getAttribute("name")||"";if(l||v){var m={};Object.keys(this.counters).forEach((function(e){m[e]=Array.from(i.counters[e])})),this.counterListener.countersOfId(v,m)}var A=Vr(this.currentStyle,"_pseudos");if(A)for(var y,B=!0,b=_(Ko);!(y=b()).done;){var w=y.value;w||(B=!1);var S,N=A[w];N&&("before"!==w&&"after"!==w||Fr(null==(S=N.content)?void 0:S.value)?B?this.processPseudoelementProps(N,t):this.stack[this.stack.length-2].push(new Lo(N,t)):delete A[w])}this.setNamedStrings(this.currentStyle),g&&this.stack[this.stack.length-2].push(g)},t.applyAttrFilterInner=function(e,t){for(var n in t)_r(n)&&!ln(n)&&(t[n]=t[n].filterValue(e))},t.applyAttrFilter=function(e){var t=new Mo(e),n=this.currentStyle,u=Vr(n,"_pseudos");for(var i in u)this.applyAttrFilterInner(t,u[i]);this.applyAttrFilterInner(t,n)},t.applyVarFilter=function(e,t,n){var u=e[0],i=new Ea(e,t,n),r={};for(var o in u)if(Or(o)){var a=Vr(u,o);for(var s in a)this.applyVarFilter([a[s]].concat(e),t,n)}else if(_r(o)){for(var l=Ur(u,o),c=l.value,D=0;;D++){if(D>=32){c=It;break}var h=c.visit(i);if(i.error){c=It,i.error=!1;break}if(h===c)break;c=h}if(c!==l.value){var f,d=t.validatorSet,p=null==d||null==(f=d.shorthands[o])?void 0:f.clone();if(p)if(an(c)){for(var E,C=_(p.propList);!(E=C()).done;){var g=E.value,F=new kr(c,l.priority),v=Ur(u,g);zr(r,g,Pr(this.context,v,F))}delete u[o]}else{var m=Ti(t.scope,new Su(c.toString(),null),"");if(m&&(m.visit(p),!p.error)){for(var A,y=_(p.propList);!(A=y()).done;){var B,b,w=A.value,S=new kr(null!=(B=null!=(b=p.values[w])?b:d.defaultValues[w])?B:Jt.initial,l.priority),N=Ur(u,w);zr(r,w,Pr(this.context,N,S))}delete u[o]}}else u[o]=new kr(c,l.priority)}if(r[o]){var x=Ur(u,o);x&&x.value!==It&&Rr(r,o,x,this.context)}}for(var T in r)u[T]=r[T]},t.applyCalcFilter=function(e,t){var n=new Ca(t);for(var u in e)if(Or(u)){var i=Vr(e,u);for(var r in i)this.applyCalcFilter(i[r],t)}else if(_r(u)&&!ln(u)){var o=Ur(e,u),a=o.value.visit(n);a!==o.value&&(e[u]=new kr(a,o.priority))}},t.applyActions=function(){var e;for(e=0;e<this.currentClassNames.length;e++)this.applyAction(this.code.classes,this.currentClassNames[e]);for(e=0;e<this.currentEpubTypes.length;e++)this.applyAction(this.code.epubtypes,this.currentEpubTypes[e]);this.applyAction(this.code.ids,this.currentId),this.applyAction(this.code.tags,this.currentLocalName),""!=this.currentLocalName&&this.applyAction(this.code.tags,"*"),this.applyAction(this.code.nstags,this.currentNSTag),null!==this.currentPageType&&(this.applyAction(this.code.pagetypes,this.currentPageType),this.applyAction(this.code.pagetypes,"*")),this.stack.push([]);for(var t=1;t>=-1;--t){var n=this.stack[this.stack.length-t-2];for(e=0;e<n.length;)n[e].push(this,t)?n.splice(e,1):e++}this.isFirst=!0,this.isRoot=!1},t.pop=function(){for(var e=1;e>=-1;--e)for(var t=this.stack[this.stack.length-e-2],n=0;n<t.length;)t[n].pop(this,e)?t.splice(n,1):n++;this.stack.pop(),this.isFirst=!1},t.popRule=function(){this.pop()},t.popElement=function(e){this.siblingOrderStack.pop(),this.siblingTypeCountsStack.pop(),this.followingSiblingOrderStack.pop(),this.followingSiblingTypeCountsStack.pop(),this.pop(),this.popCounters()},e}(),Yo=[],Ko=["before","transclusion-before","footnote-call","footnote-marker","inner","first-letter","first-line","","transclusion-after","after"];!function(e){e[e.TOP=0]="TOP",e[e.SELECTOR=1]="SELECTOR",e[e.RULE=2]="RULE"}(jo||(jo={}));var Qo=null,Zo=function(e){function t(t,n,u,i,r,o,a){var s;return(s=e.call(this,t,n,a)||this).condition=void 0,s.regionId=void 0,s.validatorSet=void 0,s.chain=null,s.specificity=0,s.elementStyle=null,s.conditionCount=0,s.pseudoelement=null,s.footnoteContent=!1,s.cascade=void 0,s.state=void 0,s.viewConditionId=null,s.insideSelectorRule=void 0,s.invalid=!1,s.condition=u,s.regionId=r,s.validatorSet=o,s.cascade=i?i.cascade:Qo?Qo.clone():new $o,s.state=jo.TOP,s}x(t,e);var n=t.prototype;return n.insertNonPrimary=function(e){this.cascade.insertInTable(this.cascade.tags,"*",e)},n.processChain=function(e){var t=$r(this.chain,e);t!==e&&t.makePrimary(this.cascade)||this.insertNonPrimary(t)},n.isInsideSelectorRule=function(e){return this.state!=jo.TOP&&(this.reportAndSkip(e),!0)},n.tagSelector=function(e,t){(t||e)&&(t&&(this.specificity+=1),this.chain.push(t&&e?new ro(e,t.toLowerCase()):t?new io(t.toLowerCase()):new ao(e)))},n.invalidSelector=function(e){f.warn(e),this.chain.push(new bo("")),this.setInvalid()},n.setInvalid=function(){this.invalid=!0;for(var e=this;e instanceof ta;e=e.parent)e.parent.invalid=!0},n.classSelector=function(e){this.pseudoelement?this.invalidSelector("::"+this.pseudoelement+" followed by ."+e):(this.specificity+=256,this.chain.push(new no(e)))},n.pseudoclassSelector=function(e,t){if(this.pseudoelement)this.invalidSelector("::"+this.pseudoelement+" followed by :"+e);else{switch(e.toLowerCase()){case"enabled":this.chain.push(new Ao);break;case"disabled":this.chain.push(new yo);break;case"checked":this.chain.push(new Bo);break;case"root":case"scope":this.chain.push(new po);break;case"link":this.chain.push(new io("a")),this.chain.push(new so("","href"));break;case"-adapt-href-epub-type":case"href-epub-type":if(t&&1==t.length&&"string"==typeof t[0]){var n=new RegExp("(^|s)"+De(t[0])+"($|s)");this.chain.push(new oo(n))}else this.chain.push(new bo(""));break;case"-adapt-footnote-content":case"footnote-content":this.footnoteContent=!0;break;case"visited":case"active":case"hover":case"focus":this.chain.push(new bo(""));break;case"lang":this.chain.push(t&&1==t.length&&"string"==typeof t[0]?new ho(new RegExp("^"+De(t[0].toLowerCase())+"($|-)")):new bo(""));break;case"nth-child":case"nth-last-child":case"nth-of-type":case"nth-last-of-type":var u=Jo[e.toLowerCase()];this.chain.push(t&&2==t.length?new u(t[0],t[1]):new bo(""));break;case"first-child":this.chain.push(new fo);break;case"last-child":this.chain.push(new Fo(0,1));break;case"first-of-type":this.chain.push(new go(0,1));break;case"last-of-type":this.chain.push(new vo(0,1));break;case"only-child":this.chain.push(new fo),this.chain.push(new Fo(0,1));break;case"only-of-type":this.chain.push(new go(0,1)),this.chain.push(new vo(0,1));break;case"empty":this.chain.push(new mo);break;case"before":case"after":case"first-line":case"first-letter":return void this.pseudoelementSelector(e,t);default:return void this.invalidSelector("Unknown pseudo-class :"+e)}this.specificity+=256}},n.pseudoelementSelector=function(e,t){switch(e){case"before":case"after":case"first-line":case"first-letter":case"footnote-call":case"footnote-marker":case"inner":case"after-if-continues":if(this.pseudoelement)return void this.invalidSelector("Double pseudo-element ::"+this.pseudoelement+"::"+e);this.pseudoelement=e;break;case"first-n-lines":if(t&&1==t.length&&"number"==typeof t[0]){var n=Math.round(t[0]);if(n>0&&n==t[0]){if(this.pseudoelement)return void this.invalidSelector("Double pseudo-element ::"+this.pseudoelement+"::"+e);this.pseudoelement="first-"+n+"-lines";break}}this.chain.push(new bo(""));break;case"nth-fragment":t&&2==t.length?this.viewConditionId="NFS_"+t[0]+"_"+t[1]:this.chain.push(new bo(""));break;default:return void this.invalidSelector("Unknown pseudo-element ::"+e)}this.specificity+=1},n.idSelector=function(e){this.specificity+=65536,this.chain.push(new uo(e))},n.attributeSelector=function(e,t,n,u){var i;switch(this.specificity+=256,t=t.toLowerCase(),u=u||"",n){case zn.EOF:i=new so(e,t);break;case zn.EQ:i=new lo(e,t,u);break;case zn.TILDE_EQ:i=!u||u.match(/\s/)?new bo(""):new Do(e,t,new RegExp("(^|\\s)"+De(u)+"($|\\s)"));break;case zn.BAR_EQ:i=new Do(e,t,new RegExp("^"+De(u)+"($|-)"));break;case zn.HAT_EQ:i=u?new Do(e,t,new RegExp("^"+De(u))):new bo("");break;case zn.DOLLAR_EQ:i=u?new Do(e,t,new RegExp(De(u)+"$")):new bo("");break;case zn.STAR_EQ:i=u?new Do(e,t,new RegExp(De(u))):new bo("");break;case zn.COL_COL:if("supported"!=u)return void this.invalidSelector("Unsupported :: attr selector op: "+u);i=new co(e,t);break;default:return void this.invalidSelector("Unsupported attr selector: "+n)}this.chain.push(i)},n.descendantSelector=function(){var e="d"+ea++;this.processChain(new Zr(new ko(e,this.viewConditionId,null))),this.chain=[new bo(e)],this.viewConditionId=null},n.childSelector=function(){var e="c"+ea++;this.processChain(new Zr(new Io(e,this.viewConditionId,null))),this.chain=[new bo(e)],this.viewConditionId=null},n.adjacentSiblingSelector=function(){var e="a"+ea++;this.processChain(new Zr(new Po(e,this.viewConditionId,null))),this.chain=[new bo(e)],this.viewConditionId=null},n.followingSiblingSelector=function(){var e="f"+ea++;this.processChain(new Zr(new Ro(e,this.viewConditionId,null))),this.chain=[new bo(e)],this.viewConditionId=null},n.nextSelector=function(){this.finishChain(),this.pseudoelement=null,this.footnoteContent=!1,this.specificity=0,this.chain=[]},n.startSelectorRule=function(){this.isInsideSelectorRule("E_CSS_UNEXPECTED_SELECTOR")||(this.state=jo.SELECTOR,this.elementStyle={},this.pseudoelement=null,this.specificity=0,this.footnoteContent=!1,this.chain=[],this.invalid=!1)},n.error=function(t,n){e.prototype.error.call(this,t,n),this.state==jo.SELECTOR&&(this.state=jo.TOP),this.setInvalid()},n.startStylesheet=function(t){e.prototype.startStylesheet.call(this,t),this.state=jo.TOP},n.startRuleBody=function(){this.finishChain(),e.prototype.startRuleBody.call(this),this.state==jo.SELECTOR&&(this.state=jo.TOP)},n.endRule=function(){e.prototype.endRule.call(this),this.insideSelectorRule=jo.TOP},n.finishChain=function(){if(this.chain){var e=this.specificity+this.cascade.nextOrder();this.processChain(this.makeApplyRuleAction(e)),this.chain=null,this.pseudoelement=null,this.viewConditionId=null,this.footnoteContent=!1,this.specificity=0}},n.makeApplyRuleAction=function(e){var t=this.regionId;return this.footnoteContent&&(t=t?"xxx-bogus-xxx":"footnote"),new eo(this.elementStyle,e,this.pseudoelement,t,this.viewConditionId)},n.special=function(e,t){var n;n=this.condition?new Ir(t,0,this.condition):new kr(t,0),Xr(this.elementStyle,e).push(n)},n.property=function(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)},n.invalidPropertyValue=function(e,t){this.report("E_INVALID_PROPERTY_VALUE "+e+": "+t.toString())},n.unknownProperty=function(e,t){this.report("E_INVALID_PROPERTY "+e+": "+t.toString())},n.simpleProperty=function(e,t,n){"display"!=e||t!==Jt.oeb_page_head&&t!==Jt.oeb_page_foot||(this.simpleProperty("flow-options",new jt([Jt.exclusive,Jt._static]),n),this.simpleProperty("flow-into",t,n),t=Jt.block),C("SIMPLE_PROPERTY").forEach((function(u){var i=u({name:e,value:t,important:n});e=i.name,t=i.value,n=i.important}));var u=n?this.getImportantSpecificity():this.getBaseSpecificity(),i=this.condition?new Ir(t,u,this.condition):new kr(t,u);Rr(this.elementStyle,e,i)},n.finish=function(){return this.cascade},n.startFuncWithSelector=function(e){var t;switch(e){case"is":t=new ta(this);break;case"not":t=new na(this);break;case"where":t=new ua(this);break;case"has":t=new ia(this)}t&&(t.startSelectorRule(),this.owner.pushHandler(t))},t}(si),Jo={"nth-child":Co,"nth-of-type":go,"nth-last-child":Fo,"nth-last-of-type":vo},ea=0,ta=function(e){function t(t){var n;return(n=e.call(this,t.scope,t.owner,t.condition,t,t.regionId,t.validatorSet,!1)||this).parent=void 0,n.parentChain=void 0,n.chains=[],n.maxSpecificity=0,n.selectorTexts=[],n.parent=t,n.parentChain=t.chain,n}x(t,e);var n=t.prototype;return n.nextSelector=function(){this.chain&&this.chains.push(this.chain),this.maxSpecificity=Math.max(this.maxSpecificity,this.specificity),this.chain=[],this.pseudoelement=null,this.viewConditionId=null,this.footnoteContent=!1,this.specificity=0},n.endFuncWithSelector=function(){this.chain&&this.chains.push(this.chain),this.chains.length>0?(this.maxSpecificity=Math.max(this.maxSpecificity,this.specificity),this.parentChain.push(this.relational()?new xo(this.selectorTexts):this.positive()?new So(this.chains):new No(this.chains)),this.increasingSpecificity()&&(this.parent.specificity+=this.maxSpecificity)):this.parentChain.push(new bo("")),this.owner.popHandler()},n.startRuleBody=function(){this.reportAndSkip("E_CSS_UNEXPECTED_RULE_BODY")},n.error=function(n,u){e.prototype.error.call(this,n,u),this.chain=null,this.pseudoelement=null,this.viewConditionId=null,this.footnoteContent=!1,this.specificity=0;for(var i=!1,r=this;r instanceof t;r=r.parent)if(r.forgiving()){i=!0;break}i||this.owner.popHandler()},n.pushSelectorText=function(e){this.chain&&this.relational()&&this.selectorTexts.push(e)},n.positive=function(){return!0},n.increasingSpecificity=function(){return!0},n.forgiving=function(){return!0},n.relational=function(){return!1},t}(Zo),na=function(e){function t(){return e.apply(this,arguments)||this}x(t,e);var n=t.prototype;return n.positive=function(){return!1},n.forgiving=function(){return!1},t}(ta),ua=function(e){function t(){return e.apply(this,arguments)||this}return x(t,e),t.prototype.increasingSpecificity=function(){return!1},t}(ta),ia=function(e){function t(){return e.apply(this,arguments)||this}return x(t,e),t.prototype.relational=function(){return!0},t}(ta),ra=function(e){function t(t,n){return e.call(this,t,n,!1)||this}return x(t,e),t.prototype.property=function(e,t,n){if(this.scope.values[e])this.error("E_CSS_NAME_REDEFINED "+e,this.getCurrentToken());else{var u=e.match(/height|^(top|bottom)$/)?"vh":"vw",i=new ft(this.scope,100,u);this.scope.defineName(e,t.toExpr(this.scope,i))}},t}(si),oa=function(e){function t(t,n,u,i,r){var o;return(o=e.call(this,t,n,!1)||this).condition=void 0,o.elementStyle=void 0,o.validatorSet=void 0,o.order=void 0,o.condition=u,o.elementStyle=i,o.validatorSet=r,o.order=0,o}x(t,e);var n=t.prototype;return n.property=function(e,t,n){n?f.warn("E_IMPORTANT_NOT_ALLOWED"):this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)},n.invalidPropertyValue=function(e,t){f.warn("E_INVALID_PROPERTY_VALUE",e+":",t.toString())},n.unknownProperty=function(e,t){f.warn("E_INVALID_PROPERTY",e+":",t.toString())},n.simpleProperty=function(e,t,n){var u=n?this.getImportantSpecificity():this.getBaseSpecificity();u+=this.order,this.order+=9.5367431640625e-7;var i=this.condition?new Ir(t,u,this.condition):new kr(t,u);Rr(this.elementStyle,e,i)},t}(si),aa=function(e){function t(t,n){var u;return(u=e.call(this,t)||this).validatorSet=void 0,u.elementStyle={},u.order=0,u.validatorSet=n,u}x(t,e);var n=t.prototype;return n.property=function(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)},n.invalidPropertyValue=function(e,t){f.warn("E_INVALID_PROPERTY_VALUE",e+":",t.toString())},n.unknownProperty=function(e,t){f.warn("E_INVALID_PROPERTY",e+":",t.toString())},n.simpleProperty=function(e,t,n){var u=n?67108864:50331648;u+=this.order,this.order+=9.5367431640625e-7;var i=new kr(t,u);Rr(this.elementStyle,e,i)},t}(Si);function sa(e,t){var n=Gr(e);n&&n.forEach((function(e){e.matcher.matches()&&t(e.styles)}))}function la(e,t,n){sa(n,(function(n){da(e,n,t)}))}function ca(e,t,n){var u=e["writing-mode"];if(u){var i=u.evaluate(t,"writing-mode");if(i&&i!==Jt.inherit&&i!==Jt.revert&&i!==Jt.unset)return i===Jt.vertical_rl}return n}function Da(e,t,n){var u=e.direction;if(u){var i=u.evaluate(t,"direction");if(i&&i!==Jt.inherit&&i!==Jt.revert&&i!==Jt.unset)return i===Jt.rtl}return n}function ha(e,t,n,u,i){var r={};for(var o in e)_r(o)&&(r[o]=Ur(e,o));return la(r,t,e),fa(e,n,u,(function(e,n){da(r,n,t),la(r,t,n)})),r}function fa(e,t,n,u){var i=Vr(e,"_regions");if((t||n)&&i){if(n){var r=["footnote"];t=t?t.concat(r):r}for(var o,a=_(t);!(o=a()).done;){var s=o.value,l=i[s];l&&u(s,l)}}}function da(e,t,n){for(var u in t)if(_r(u)){var i=Ur(t,u);e[u]=Pr(n,e[u],i)}}var pa=function(e,t,n,u,i){var r=n?u?xr:Sr:u?Tr:Nr;for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];if(!a)continue;var s=r[o],l=void 0;if(s){var c=e[s];if(c&&c.priority>a.priority)continue;l=br[s]?s:o}else l=o;t[l]=i(o,a)}},Ea=function(e){function t(t,n,u){var i;return(i=e.call(this)||this).elementStyles=void 0,i.styler=void 0,i.element=void 0,i.elementStyles=t,i.styler=n,i.element=u,i}x(t,e);var n=t.prototype;return n.getVarValue=function(e){var t,n,u=null!=(t=this.element)?t:this.styler.root;if(null!=(n=this.elementStyles)&&n.length){for(var i,r=_(this.elementStyles);!(i=r()).done;){var o,a=null==(o=i.value[e])?void 0:o.value;if(a)return a}this.element&&(u=this.element.parentElement)}for(;u;u=u.parentElement){var s,l,c=null==(s=this.styler.getStyle(u,!1))||null==(l=s[e])?void 0:l.value;if(c)return c}return null},n.visitFunc=function(t){if("var"!==t.name)return e.prototype.visitFunc.call(this,t);var n=t.values[0]instanceof _t&&t.values[0].name;return n&&ln(n)?this.getVarValue(n)||(t.values.length<2?(this.error=!0,It):2===t.values.length?t.values[1]:new $t(t.values.slice(1))):(this.error=!0,It)},t}(xt),Ca=function(e){function t(t,n,u){var i;return(i=e.call(this)||this).context=void 0,i.resolveViewportUnit=void 0,i.percentRef=void 0,i.context=t,i.resolveViewportUnit=n,i.percentRef=u,i}x(t,e);var n=t.prototype;return n.visitFunc=function(t){var n=e.prototype.visitFunc.call(this,t);if("calc"!==t.name)return n;var u=n.toString().replace(/^calc\b/,"-epubx-expr");if(/\d(%|em|ex|cap|ch|ic|lh|p?v[whbi]|p?vmin|p?vmax)\W|\Wvar\(\s*--/i.test(u))return n;var i=Ti(this.context.rootScope,new Su(u,null),"");if(i instanceof Yt){var r=i.expr.evaluate(this.context);"number"==typeof r&&(n=new Ut(r,"px"))}return n},n.visitNumeric=function(e){return this.resolveViewportUnit&&_e(e.unit)?new Ut(e.num*this.context.queryUnitSize(e.unit,!1),"px"):"number"==typeof this.percentRef&&"%"===e.unit?new Ut(e.num*this.percentRef/100,"px"):e},t}(xt);function ga(e,t,n,u){try{if(t instanceof Yt)return function(e,t,n){var u=t.evaluate(e);switch(typeof u){case"number":return function(e){return!!ki[e]}(n)?u==Math.round(u)?new Vt(u):new zt(u):new Ut(u,"px");case"string":return u?Ti(t.scope,new Su(u,null),""):It;case"boolean":return u?Jt._true:Jt._false;case"undefined":return It}throw new Error("E_UNEXPECTED")}(e,t.expr,n);if(t instanceof Ut||t instanceof qt)return t.visit(new Ca(e,!0,u))}catch(e){return f.warn(e),It}return t}function Fa(e,t){var n={};return Object.keys(e).forEach((function(u){var i=n[u]={},r=e[u];Object.keys(r).forEach((function(e){i[e]=r[e].map((function(e){var n=t?e.physical:e.logical;return{regexp:new RegExp("(-?)"+(t?e.logical:e.physical)+"(-?)"),to:"$1"+n+"$2"}}))}))})),n}function va(e,t,n,u){var i=u[t];if(!i)throw new Error("unknown writing-mode: "+t);var r=i[n||"ltr"];if(!r)throw new Error("unknown direction: "+n);for(var o,a=_(r);!(o=a()).done;){var s=o.value,l=e.replace(s.regexp,s.to);if(l!==e)return l}return e}var ma={"horizontal-tb":{ltr:[{logical:"inline-start",physical:"left"},{logical:"inline-end",physical:"right"},{logical:"block-start",physical:"top"},{logical:"block-end",physical:"bottom"},{logical:"inline-size",physical:"width"},{logical:"block-size",physical:"height"}],rtl:[{logical:"inline-start",physical:"right"},{logical:"inline-end",physical:"left"},{logical:"block-start",physical:"top"},{logical:"block-end",physical:"bottom"},{logical:"inline-size",physical:"width"},{logical:"block-size",physical:"height"}]},"vertical-rl":{ltr:[{logical:"inline-start",physical:"top"},{logical:"inline-end",physical:"bottom"},{logical:"block-start",physical:"right"},{logical:"block-end",physical:"left"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}],rtl:[{logical:"inline-start",physical:"bottom"},{logical:"inline-end",physical:"top"},{logical:"block-start",physical:"right"},{logical:"block-end",physical:"left"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}]},"vertical-lr":{ltr:[{logical:"inline-start",physical:"top"},{logical:"inline-end",physical:"bottom"},{logical:"block-start",physical:"left"},{logical:"block-end",physical:"right"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}],rtl:[{logical:"inline-start",physical:"bottom"},{logical:"inline-end",physical:"top"},{logical:"block-start",physical:"left"},{logical:"block-end",physical:"right"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}]}},Aa=Fa(ma,!0);function ya(e,t,n){return va(e,t,n||null,Aa)}var Ba=Fa(ma,!1);function ba(e,t,n){return va(e,t,n||null,Ba)}var wa,Sa={"horizontal-tb":[{logical:"line-left",physical:"left"},{logical:"line-right",physical:"right"},{logical:"over",physical:"top"},{logical:"under",physical:"bottom"}],"vertical-rl":[{logical:"line-left",physical:"top"},{logical:"line-right",physical:"bottom"},{logical:"over",physical:"right"},{logical:"under",physical:"left"}],"vertical-lr":[{logical:"line-left",physical:"top"},{logical:"line-right",physical:"bottom"},{logical:"over",physical:"right"},{logical:"under",physical:"left"}]};function Na(e,t,n){var u={display:t.style.display,position:t.style.position,width:t.style.width,maxWidth:t.style.maxWidth,minWidth:t.style.minWidth,height:t.style.height,maxHeight:t.style.maxHeight,minHeight:t.style.minHeight},i=t.parentNode,r=t.ownerDocument.createElement("div");function o(n){return e.getElementComputedStyle(t).getPropertyValue(n)}te(r,"position",u.position),i.insertBefore(r,t),r.appendChild(t),te(t,"width","auto"),te(t,"max-width","none"),te(t,"min-width","0"),te(t,"height","auto"),te(t,"max-height","none"),te(t,"min-height","0");var a=ee("writing-mode"),s=(a?o(a[0]):null)||o("writing-mode"),l="vertical-rl"===s||"tb-rl"===s||"vertical-lr"===s||"tb-lr"===s,c=l?"height":"width",D=l?"width":"height";function h(){return te(t,"display","block"),te(t,"position","static"),o(c)}function f(){te(t,"display","inline-block"),te(r,c,"99999999px");var e=o(c);return te(r,c,""),e}function d(){te(t,"display","inline-block"),te(r,c,"0");var e=o(c);return te(r,c,""),e}function p(){var e=h(),t=d(),n=parseFloat(e);if(n<=parseFloat(t))return t;var u=f();return n<=parseFloat(u)?e:u}function E(){return o(D)}function C(){throw new Error("Getting fill-available block size is not implemented")}var g={};return n.forEach((function(e){var n;switch(e){case wa.FILL_AVAILABLE_INLINE_SIZE:n=h();break;case wa.MAX_CONTENT_INLINE_SIZE:n=f();break;case wa.MIN_CONTENT_INLINE_SIZE:n=d();break;case wa.FIT_CONTENT_INLINE_SIZE:n=p();break;case wa.FILL_AVAILABLE_BLOCK_SIZE:n=C();break;case wa.MAX_CONTENT_BLOCK_SIZE:case wa.MIN_CONTENT_BLOCK_SIZE:case wa.FIT_CONTENT_BLOCK_SIZE:n=E();break;case wa.FILL_AVAILABLE_WIDTH:n=l?C():h();break;case wa.FILL_AVAILABLE_HEIGHT:n=l?h():C();break;case wa.MAX_CONTENT_WIDTH:n=l?E():f();break;case wa.MAX_CONTENT_HEIGHT:n=l?f():E();break;case wa.MIN_CONTENT_WIDTH:n=l?E():d();break;case wa.MIN_CONTENT_HEIGHT:n=l?d():E();break;case wa.FIT_CONTENT_WIDTH:n=l?E():p();break;case wa.FIT_CONTENT_HEIGHT:n=l?p():E()}g[e]=parseFloat(n),te(t,"position",u.position),te(t,"display",u.display)})),te(t,"width",u.width),te(t,"max-width",u.maxWidth),te(t,"min-width",u.minWidth),te(t,"height",u.height),te(t,"max-height",u.maxHeight),te(t,"min-height",u.minHeight),i.insertBefore(t,r),i.removeChild(r),g}!function(e){e.FILL_AVAILABLE_INLINE_SIZE="fill-available inline size",e.FILL_AVAILABLE_BLOCK_SIZE="fill-available block size",e.FILL_AVAILABLE_WIDTH="fill-available width",e.FILL_AVAILABLE_HEIGHT="fill-available height",e.MAX_CONTENT_INLINE_SIZE="max-content inline size",e.MAX_CONTENT_BLOCK_SIZE="max-content block size",e.MAX_CONTENT_WIDTH="max-content width",e.MAX_CONTENT_HEIGHT="max-content height",e.MIN_CONTENT_INLINE_SIZE="min-content inline size",e.MIN_CONTENT_BLOCK_SIZE="min-content block size",e.MIN_CONTENT_WIDTH="min-content width",e.MIN_CONTENT_HEIGHT="min-content height",e.FIT_CONTENT_INLINE_SIZE="fit-content inline size",e.FIT_CONTENT_BLOCK_SIZE="fit-content block size",e.FIT_CONTENT_WIDTH="fit-content width",e.FIT_CONTENT_HEIGHT="fit-content height"}(wa||(wa={}));var xa=_i.FloatReference;function Ta(e){switch(e){case xa.INLINE:return!1;case xa.COLUMN:case xa.REGION:case xa.PAGE:return!0;default:throw new Error("Unknown float-reference: "+e)}}var ka=function(){function e(e,t,n,u,i,r){this.nodePosition=void 0,this.floatReference=void 0,this.floatSide=void 0,this.clearSide=void 0,this.flowName=void 0,this.floatMinWrapBlock=void 0,this.order=null,this.id=null,this.nodePosition=e,this.floatReference=t,this.floatSide=n,this.clearSide=u,this.flowName=i,this.floatMinWrapBlock=r}var t=e.prototype;return t.getOrder=function(){if(null===this.order)throw new Error("The page float is not yet added");return this.order},t.getId=function(){if(!this.id)throw new Error("The page float is not yet added");return this.id},t.isAllowedOnContext=function(e){return e.isAnchorAlreadyAppeared(this.getId())},t.isAllowedToPrecede=function(e){return!1},e}(),Ia=function(){function e(){this.floats=[],this.nextPageFloatIndex=0}var t=e.prototype;return t.nextOrder=function(){return this.nextPageFloatIndex++},t.createPageFloatId=function(e){return"pf"+e},t.addPageFloat=function(e){if(this.floats.findIndex((function(t){return rr(t.nodePosition,e.nodePosition)}))>=0)throw new Error("A page float with the same source node is already registered");var t=e.order=this.nextOrder();e.id=this.createPageFloatId(t),this.floats.push(e)},t.findPageFloatByNodePosition=function(e){var t=this.floats.findIndex((function(t){return rr(t.nodePosition,e)}));return t>=0?this.floats[t]:null},t.findPageFloatById=function(e){var t=this.floats.findIndex((function(t){return t.id===e}));return t>=0?this.floats[t]:null},e}(),Pa=function(){function e(e,t,n,u,i){this.floatReference=void 0,this.floatSide=void 0,this.continuations=void 0,this.area=void 0,this.continues=void 0,this.floatReference=e,this.floatSide=t,this.continuations=n,this.area=u,this.continues=i}var t=e.prototype;return t.hasFloat=function(e){return this.continuations.some((function(t){return t.float===e}))},t.findNotAllowedFloat=function(e){for(var t=this.continuations.length-1;t>=0;t--){var n=this.continuations[t].float;if(!n.isAllowedOnContext(e))return n}return null},t.getOuterShape=function(){return this.area.getOuterShape(null,null)},t.getOuterRect=function(){return this.area.getOuterRect()},t.getOrder=function(){var e=this.continuations.map((function(e){return e.float}));return Math.min.apply(null,e.map((function(e){return e.getOrder()})))},t.shouldBeStashedBefore=function(e){return this.getOrder()<e.getOrder()},t.addContinuations=function(e){var t=this;e.forEach((function(e){t.continuations.push(e)}))},t.getFlowName=function(){var e=this.continuations[0].float.flowName;return this.continuations.every((function(t){return t.float.flowName===e})),e},e}(),Ra=function(){function e(e,t){this.float=void 0,this.nodePosition=void 0,this.float=e,this.nodePosition=t}return e.prototype.equals=function(e){return!!e&&(this===e||this.float===e.float&&rr(this.nodePosition,e.nodePosition))},e}(),La=function(){function e(e,t,n,u,i,r,o){this.parent=void 0,this.floatReference=void 0,this.container=void 0,this.flowName=void 0,this.generatingNodePosition=void 0,this.children=[],this.writingMode=void 0,this.direction=void 0,this.invalidated=!1,this.floatStore=void 0,this.forbiddenFloats=[],this.floatFragments=[],this.stashedFloatFragments=[],this.floatAnchors={},this.floatsDeferredToNext=[],this.floatsDeferredFromPrevious=void 0,this.layoutConstraints=[],this.locked=!1,this.parent=e,this.floatReference=t,this.container=n,this.flowName=u,this.generatingNodePosition=i,e&&e.children.push(this),this.writingMode=r||e&&e.writingMode||Jt.horizontal_tb,this.direction=o||e&&e.direction||Jt.ltr,this.floatStore=e?e.floatStore:new Ia;var a=this.getPreviousSibling();this.floatsDeferredFromPrevious=a?[].concat(a.floatsDeferredToNext):[]}var t=e.prototype;return t.getParent=function(e){if(!this.parent)throw new Error("No PageFloatLayoutContext for "+e);return this.parent},t.getPreviousSiblingOf=function(e,t,n,u){var i=this.children.indexOf(e);i<0&&(i=this.children.length);for(var r=i-1;r>=0;r--){var o=this.children[r];if(o.floatReference===t&&o.flowName===n&&rr(o.generatingNodePosition,u))return o;if(o=o.getPreviousSiblingOf(null,t,n,u))return o}return null},t.getPreviousSibling=function(){for(var e,t=this,n=this.parent;n;){if(e=n.getPreviousSiblingOf(t,this.floatReference,this.flowName,this.generatingNodePosition))return e;t=n,n=n.parent}return null},t.getContainer=function(e){return e&&e!==this.floatReference?this.getParent(e).getContainer(e):this.container},t.setContainer=function(e){this.container=e,this.reattachFloatFragments()},t.addPageFloat=function(e){this.floatStore.addPageFloat(e)},t.getPageFloatLayoutContext=function(e){return e===this.floatReference?this:this.getParent(e).getPageFloatLayoutContext(e)},t.findPageFloatByNodePosition=function(e){return this.floatStore.findPageFloatByNodePosition(e)},t.forbid=function(e){var t=e.getId(),n=e.floatReference;n===this.floatReference?this.forbiddenFloats.includes(t)||(this.forbiddenFloats.push(t),(new _a).findByFloat(e).forbid(e,this)):this.getParent(n).forbid(e)},t.isForbidden=function(e){var t=e.getId(),n=e.floatReference;return n===this.floatReference?this.forbiddenFloats.includes(t):this.getParent(n).isForbidden(e)},t.addPageFloatFragment=function(e,t){var n=e.floatReference;n!==this.floatReference?this.getParent(n).addPageFloatFragment(e,t):this.floatFragments.includes(e)||(this.floatFragments.push(e),this.floatFragments.sort((function(e,t){return e.getOrder()-t.getOrder()}))),t||this.invalidate()},t.removePageFloatFragment=function(e,t){var n=e.floatReference;if(n!==this.floatReference)this.getParent(n).removePageFloatFragment(e,t);else{var u=this.floatFragments.indexOf(e);if(u>=0){var i=this.floatFragments.splice(u,1)[0],r=i.area&&i.area.element;r&&r.parentNode&&r.parentNode.removeChild(r),t||this.invalidate()}}},t.findPageFloatFragment=function(e){if(e.floatReference!==this.floatReference)return this.getParent(e.floatReference).findPageFloatFragment(e);var t=this.floatFragments.findIndex((function(t){return t.hasFloat(e)}));return t>=0?this.floatFragments[t]:null},t.hasFloatFragments=function(e){return!(!(this.floatFragments.length>0)||e&&!this.floatFragments.some(e))||!!this.parent&&this.parent.hasFloatFragments(e)},t.hasContinuingFloatFragmentsInFlow=function(e){return this.hasFloatFragments((function(t){return t.continues&&t.getFlowName()===e}))},t.registerPageFloatAnchor=function(e,t){this.floatAnchors[e.getId()]=t},t.collectPageFloatAnchors=function(){var e=Object.assign({},this.floatAnchors);return this.children.reduce((function(e,t){return Object.assign(e,t.collectPageFloatAnchors())}),e)},t.isAnchorAlreadyAppeared=function(e){if(this.getDeferredPageFloatContinuations().some((function(t){return t.float.getId()===e})))return!0;var t=this.collectPageFloatAnchors()[e];return!!t&&!(!this.container||!this.container.element)&&this.container.element.contains(t)},t.deferPageFloat=function(e){var t=e.float;if(t.floatReference===this.floatReference){var n=this.floatsDeferredToNext.findIndex((function(e){return e.float===t}));n>=0?this.floatsDeferredToNext.splice(n,1,e):this.floatsDeferredToNext.push(e)}else this.getParent(t.floatReference).deferPageFloat(e)},t.hasPrecedingFloatsDeferredToNext=function(e,t){if(!t&&e.floatReference!==this.floatReference)return this.getParent(e.floatReference).hasPrecedingFloatsDeferredToNext(e,!1);var n=e.getOrder();return!!this.floatsDeferredToNext.some((function(t){return t.float.getOrder()<n&&!e.isAllowedToPrecede(t.float)}))||!!this.parent&&this.parent.hasPrecedingFloatsDeferredToNext(e,!0)},t.getLastFollowingFloatInFragments=function(e){var t=e.getOrder(),n=null;if(this.floatFragments.forEach((function(e){e.continuations.forEach((function(e){var u=e.float,i=u.getOrder();i>t&&(!n||i>n.getOrder())&&(n=u)}))})),this.parent){var u=this.parent.getLastFollowingFloatInFragments(e);u&&(!n||u.getOrder()>n.getOrder())&&(n=u)}return n},t.getDeferredPageFloatContinuations=function(e){e=e||this.flowName;var t=this.floatsDeferredFromPrevious.filter((function(t){return!e||t.float.flowName===e}));return this.parent&&(t=this.parent.getDeferredPageFloatContinuations(e).concat(t)),t.sort((function(e,t){return e.float.getOrder()-t.float.getOrder()}))},t.getPageFloatContinuationsDeferredToNext=function(e){e=e||this.flowName;var t=this.floatsDeferredToNext.filter((function(t){return!e||t.float.flowName===e}));return this.parent?this.parent.getPageFloatContinuationsDeferredToNext(e).concat(t):t},t.getFloatsDeferredToNextInChildContexts=function(){for(var e=[],t=[],n=this.children.length-1;n>=0;n--){var u=this.children[n];t.includes(u.flowName)||(t.push(u.flowName),e=(e=e.concat(u.floatsDeferredToNext.map((function(e){return e.float})))).concat(u.getFloatsDeferredToNextInChildContexts()))}return e},t.checkAndForbidNotAllowedFloat=function(){if(this.checkAndForbidFloatFollowingDeferredFloat())return!0;for(var e=this.floatFragments.length-1;e>=0;e--){var t=this.floatFragments[e],n=t.findNotAllowedFloat(this);if(n)return this.locked?this.invalidate():(this.removePageFloatFragment(t),this.forbid(n),this.removeEndFloatFragments(t.floatSide)),!0}return!(this.floatReference!==xa.REGION||!this.parent.locked)&&this.parent.checkAndForbidNotAllowedFloat()},t.checkAndForbidFloatFollowingDeferredFloat=function(){var e=this,t=this.getFloatsDeferredToNextInChildContexts(),n=this.floatFragments.reduce((function(e,t){return e.concat(t.continuations.map((function(e){return e.float})))}),[]);n.sort((function(e,t){return t.getOrder()-e.getOrder()}));for(var u,i=function(){var n=u.value,i=n.getOrder();if(t.some((function(e){return!n.isAllowedToPrecede(e)&&i>e.getOrder()}))){if(e.locked)e.invalidate();else{e.forbid(n);var r=e.findPageFloatFragment(n);e.removePageFloatFragment(r)}return{v:!0}}},r=_(n);!(u=r()).done;){var o=i();if("object"==typeof o)return o.v}return!1},t.finish=function(){var e=this;if(!this.checkAndForbidNotAllowedFloat()){for(var t=this.floatsDeferredToNext.length-1;t>=0;t--)if(!this.floatsDeferredToNext[t].float.isAllowedOnContext(this)){if(this.locked)return void this.invalidate();this.floatsDeferredToNext.splice(t,1)}this.floatsDeferredFromPrevious.forEach((function(t){e.floatsDeferredToNext.findIndex((function(e){return t.equals(e)}))>=0||e.floatFragments.some((function(e){return e.hasFloat(t.float)}))||e.floatsDeferredToNext.push(t)}))}},t.hasSameContainerAs=function(e){return!!this.container&&!!e.container&&this.container.element===e.container.element},t.invalidate=function(){var e=this;this.invalidated=!0,this.locked||(this.container&&(this.children.forEach((function(t){e.hasSameContainerAs(t)&&t.floatFragments.forEach((function(e){var t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)}))})),this.container.clear()),this.children.forEach((function(e){e.layoutConstraints.splice(0)})),this.children.splice(0),Object.keys(this.floatAnchors).forEach((function(t){delete e.floatAnchors[t]})))},t.detachChildren=function(){var e=this.children.splice(0);return e.forEach((function(e){e.floatFragments.forEach((function(e){var t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)}))})),e},t.attachChildren=function(e){var t=this;e.forEach((function(e){t.children.push(e),e.reattachFloatFragments()}))},t.isInvalidated=function(){return this.invalidated||!!this.parent&&this.parent.isInvalidated()},t.validate=function(){this.invalidated=!1},t.toLogical=function(e){return ba(e,this.writingMode.toString(),this.direction.toString())},t.toPhysical=function(e){return ya(e,this.writingMode.toString(),this.direction.toString())},t.removeEndFloatFragments=function(e){var t=this.toLogical(e);if("block-end"===t||"inline-end"===t)for(var n=0;n<this.floatFragments.length;){var u=this.floatFragments[n];this.toLogical(u.floatSide)===t?this.removePageFloatFragment(u):n++}},t.stashEndFloatFragments=function(e){var t=e.floatReference;if(t===this.floatReference){var n=this.toLogical(e.floatSide);if("block-end"===n||"snap-block"===n||"inline-end"===n)for(var u=0;u<this.floatFragments.length;){var i=this.floatFragments[u],r=this.toLogical(i.floatSide);(r===n||"snap-block"===n&&"block-end"===r)&&i.shouldBeStashedBefore(e)?(this.stashedFloatFragments.push(i),this.floatFragments.splice(u,1)):u++}}else this.getParent(t).stashEndFloatFragments(e)},t.restoreStashedFragments=function(e){var t=this;e===this.floatReference?(this.stashedFloatFragments.forEach((function(e){t.addPageFloatFragment(e,!0)})),this.stashedFloatFragments.splice(0)):this.getParent(e).restoreStashedFragments(e)},t.discardStashedFragments=function(e){e===this.floatReference?this.stashedFloatFragments.splice(0):this.getParent(e).discardStashedFragments(e)},t.getStashedFloatFragments=function(e){return e===this.floatReference?this.stashedFloatFragments.concat().sort((function(e,t){return t.getOrder()-e.getOrder()})):this.getParent(e).getStashedFloatFragments(e)},t.getLimitValue=function(e,t,n,u){var i=this.toLogical(e),r=this.toPhysical(e),o=this.getLimitValueInner(i,t,n,u);if(this.parent&&this.parent.container){var a=this.parent.getLimitValue(r,t,n,u);switch(r){case"top":case"left":return Math.max(o,a);case"bottom":case"right":return Math.min(o,a)}}return o},t.getLimitValueInner=function(e,t,n,u){var i=this.getLimitValuesInner(t,n,u);switch(e){case"block-start":return this.container.vertical?i.right:i.top;case"block-end":return this.container.vertical?i.left:i.bottom;case"inline-start":return this.container.vertical?this.container.rtl?i.bottom:i.top:this.container.rtl?i.right:i.left;case"inline-end":return this.container.vertical?this.container.rtl?i.top:i.bottom:this.container.rtl?i.left:i.right;default:throw new Error("Unknown logical side: "+e)}},t.getLimitValuesInner=function(e,t,n){var u=this,i=this.container.originX,r=this.container.originY,o=this.container.getPaddingRect(),a={top:o.y1-r,left:o.x1-i,bottom:o.y2-r,right:o.x2-i,floatMinWrapBlockStart:0,floatMinWrapBlockEnd:0};function s(n,u,i){return"%"===n.unit?i*n.num/100:e.convertLengthToPx(n,u,t)}var l=this.floatFragments;return l.length>0&&(a=l.reduce((function(e,t){if(n&&!n(t,u))return e;var i=u.toLogical(t.floatSide),r=t.area,a=t.continuations[0].float.floatMinWrapBlock,l=e.top,c=e.left,D=e.bottom,h=e.right,f=e.floatMinWrapBlockStart,d=e.floatMinWrapBlockEnd;switch(i){case"inline-start":r.vertical?l=Math.max(l,r.top+r.height):c=Math.max(c,r.left+r.width);break;case"block-start":r.vertical?(a&&r.left<h&&(f=s(a,r.rootViewNodes[0],o.x2-o.x1)),h=Math.min(h,r.left)):(a&&r.top+r.height>l&&(f=s(a,r.rootViewNodes[0],o.y2-o.y1)),l=Math.max(l,r.top+r.height));break;case"inline-end":r.vertical?D=Math.min(D,r.top):h=Math.min(h,r.left);break;case"block-end":r.vertical?(a&&r.left+r.width>c&&(d=s(a,r.rootViewNodes[0],o.x2-o.x1)),c=Math.max(c,r.left+r.width)):(a&&r.top<D&&(d=s(a,r.rootViewNodes[0],o.y2-o.y1)),D=Math.min(D,r.top));break;default:throw new Error("Unknown logical float side: "+i)}return{top:l,left:c,bottom:D,right:h,floatMinWrapBlockStart:f,floatMinWrapBlockEnd:d}}),a)),a.left+=i,a.right+=i,a.top+=r,a.bottom+=r,a},t.setFloatAreaDimensions=function(e,t,n,u,i,r,o){if(t!==this.floatReference)return this.getParent(t).setFloatAreaDimensions(e,t,n,u,i,r,o);var a=this.toLogical(n);if("snap-block"===a){if(!o["block-start"]&&!o["block-end"])return null}else if(!o[a])return null;var s,l,c,D,h=this.getLimitValue("block-start",e.layoutContext,e.clientLayout),f=this.getLimitValue("block-end",e.layoutContext,e.clientLayout),d=this.getLimitValue("inline-start",e.layoutContext,e.clientLayout),p=this.getLimitValue("inline-end",e.layoutContext,e.clientLayout),E=e.vertical?e.originX:e.originY,C=e.vertical?e.originY:e.originX;function g(t,n){var u=t(e.bands,n);return u?(e.vertical&&(u=bn(u)),h=e.vertical?Math.min(h,u.x2):Math.max(h,u.y1),f=e.vertical?Math.max(f,u.x1):Math.min(f,u.y2),!0):r}if(h=e.vertical?Math.min(h,e.left+e.getInsetLeft()+e.width+e.getInsetRight()+E):Math.max(h,e.top+E),f=e.vertical?Math.max(f,e.left+E):Math.min(f,e.top+e.getInsetTop()+e.height+e.getInsetBottom()+E),i){var F=e.vertical?Bn(new cn(f,d,h,p)):new cn(d,h,p,f);if(("block-start"===a||"snap-block"===a||"inline-start"===a)&&!g(xn,F))return null;if(("block-end"===a||"snap-block"===a||"inline-end"===a)&&!g(Tn,F))return null;if(s=(c=(f-h)*e.getBoxDir())-e.getInsetBefore()-e.getInsetAfter(),l=(D=(p-d)*e.getInlineDir())-e.getInsetStart()-e.getInsetEnd(),!r&&(s<=0||l<=0))return null}else{c=(s=e.computedBlockSize)+e.getInsetBefore()+e.getInsetAfter();var v=(f-h)*e.getBoxDir();if("snap-block"===a){if(null===u)a="block-start";else{var m=this.container.getPaddingRect();a=this.container.getBoxDir()*(u-(this.container.vertical?m.x2:m.y1))<=this.container.getBoxDir()*((this.container.vertical?m.x1:m.y2)-u-c)?"block-start":"block-end"}if(!o[a]){if(!o["block-end"])return null;a="block-end"}}if(!r&&v<c)return null;D=(l="inline-start"===a||"inline-end"===a?Na(e.clientLayout,e.element,[wa.FIT_CONTENT_INLINE_SIZE])[wa.FIT_CONTENT_INLINE_SIZE]:e.adjustContentRelativeSize?e.getContentInlineSize():e.vertical?e.height:e.width)+e.getInsetStart()+e.getInsetEnd();var A=(p-d)*e.getInlineDir();if(!r&&A<D)return null}switch(h-=E,f-=E,d-=C,p-=C,a){case"inline-start":case"block-start":case"snap-block":e.setInlinePosition(d,l),e.setBlockPosition(h,s);break;case"inline-end":case"block-end":e.setInlinePosition(p-D*e.getInlineDir(),l),e.setBlockPosition(f-c*e.getBoxDir(),s);break;default:throw new Error("unknown float direction: "+n)}return a},t.getFloatFragmentExclusions=function(){var e=this.floatFragments.map((function(e){return e.getOuterShape()}));return this.parent?this.parent.getFloatFragmentExclusions().concat(e):e},t.reattachFloatFragments=function(){var e=this.container.element&&this.container.element.parentNode;e&&this.floatFragments.forEach((function(t){e.appendChild(t.area.element)}))},t.getMaxReachedAfterEdge=function(){var e=this.getContainer().vertical;return this.floatFragments.reduce((function(t,n){var u=n.getOuterRect();return e?Math.min(t,u.x1):Math.max(t,u.y2)}),e?1/0:0)},t.getBlockStartEdgeOfBlockEndFloats=function(){var e=this.getContainer().vertical;return this.floatFragments.filter((function(e){return"block-end"===e.floatSide})).reduce((function(t,n){var u=n.getOuterRect();return e?Math.max(t,u.x2):Math.min(t,u.y1)}),e?0:1/0)},t.getPageFloatClearEdge=function(e,t){function n(e){return function(t){return e.isAnchorAlreadyAppeared(t.float.getId())}}function u(e,t){return e.continuations.some(n(t))}for(var i=t.getPaddingRect(),r=t.vertical?i.x1:i.y2,o=this;o;){if(o.floatsDeferredToNext.some(n(o)))return r;o=o.parent}var a=this.getLimitValue("block-start",t.layoutContext,t.clientLayout,u);return this.getLimitValue("block-end",t.layoutContext,t.clientLayout,u)*t.getBoxDir()<r*t.getBoxDir()?r:a},t.getPageFloatPlacementCondition=function(e,t,n){var u=this;if(e.floatReference!==this.floatReference)return this.getParent(e.floatReference).getPageFloatPlacementCondition(e,t,n);var i={"block-start":!0,"block-end":!0,"inline-start":!0,"inline-end":!0};if(!n)return i;var r,o=this.toLogical(t),a=this.toLogical(n);r="all"===a?["block-start","block-end","inline-start","inline-end"]:"both"===a?["inline-start","inline-end"]:"same"===a?"snap-block"===o?["block-start","block-end"]:[o]:[a];var s=e.getOrder();function l(e){return function(t){return t.floatSide===e&&t.getOrder()<s}}function c(e,t){return e.children.some((function(e){return e.floatFragments.some(l(t))||c(e,t)}))}function D(e,t){var n=e.parent;return!!n&&(n.floatFragments.some(l(t))||D(n,t))}return r.forEach((function(e){switch(e){case"block-start":case"inline-start":i[e]=!c(u,e);break;case"block-end":case"inline-end":i[e]=!D(u,e);break;default:throw new Error("Unexpected side: "+e)}})),i},t.getLayoutConstraints=function(){return(this.parent?this.parent.getLayoutConstraints():[]).concat(this.layoutConstraints)},t.addLayoutConstraint=function(e,t){t===this.floatReference?this.layoutConstraints.push(e):this.getParent(t).addLayoutConstraint(e,t)},t.isColumnFullWithPageFloats=function(e){for(var t=e.layoutContext,n=e.clientLayout,u=this,i=null;u&&u.container;){var r=u.getLimitValuesInner(t,n);i?e.vertical?(r.right<i.right&&(i.right=r.right,i.floatMinWrapBlockStart=r.floatMinWrapBlockStart),r.left>i.left&&(i.left=r.left,i.floatMinWrapBlockEnd=r.floatMinWrapBlockEnd)):(r.top>i.top&&(i.top=r.top,i.floatMinWrapBlockStart=r.floatMinWrapBlockStart),r.bottom<i.bottom&&(i.bottom=r.bottom,i.floatMinWrapBlockEnd=r.floatMinWrapBlockEnd)):i=r,u=u.parent}var o=Math.max(i.floatMinWrapBlockStart,i.floatMinWrapBlockEnd);return(e.vertical?i.right-i.left:i.bottom-i.top)<=o},t.getMaxBlockSizeOfPageFloats=function(){var e=this.getContainer().vertical;return this.floatFragments.length?Math.max.apply(null,this.floatFragments.map((function(t){var n=t.area;return e?n.width:n.height}))):0},t.lock=function(){this.locked=!0},t.unlock=function(){this.locked=!1},t.isLocked=function(){return this.locked},e}(),Oa=[],_a=function(){function e(){}e.register=function(e){Oa.push(e)};var t=e.prototype;return t.findByNodeContext=function(e){for(var t=Oa.length-1;t>=0;t--){var n=Oa[t];if(n.appliesToNodeContext(e))return n}throw new Error("No PageFloatLayoutStrategy found for "+e)},t.findByFloat=function(e){for(var t=Oa.length-1;t>=0;t--){var n=Oa[t];if(n.appliesToFloat(e))return n}throw new Error("No PageFloatLayoutStrategy found for "+e)},e}();_a.register(new(function(){function e(){}var t=e.prototype;return t.appliesToNodeContext=function(e){return Ta(e.floatReference)},t.appliesToFloat=function(e){return!0},t.createPageFloat=function(e,t,n){var u=e.floatReference,i=e.floatSide,r=e.toNodePosition();return n.resolveFloatReferenceFromColumnSpan(u,e.columnSpan,e).thenAsync((function(n){var o=new ka(r,u=n,i,e.clearSide,t.flowName,e.floatMinWrapBlock);return t.addPageFloat(o),Iu(o)}))},t.createPageFloatFragment=function(e,t,n,u){return new Pa(e[0].float.floatReference,t,e,n,u)},t.findPageFloatFragment=function(e,t){return t.findPageFloatFragment(e)},t.adjustPageFloatArea=function(e,t,n){},t.forbid=function(e,t){},e}()));var Ma=Pa,Ua=function(e){function t(t,n,u,i,r){var o;return(o=e.call(this,t,n,"block-end",null,u,r)||this).footnotePolicy=void 0,o.footnotePolicy=i,o}return x(t,e),t.prototype.isAllowedToPrecede=function(e){return!(e instanceof t)},t}(ka),za=function(e){function t(t,n,u,i){return e.call(this,t,"block-end",n,u,i)||this}x(t,e);var n=t.prototype;return n.getOrder=function(){return 1/0},n.shouldBeStashedBefore=function(e){return e instanceof Ua||this.getOrder()<e.getOrder()},t}(Ma),Va=function(){function e(e){this.footnote=void 0,this.footnote=e}return e.prototype.allowLayout=function(e){return!rr(e.toNodePosition(),this.footnote.nodePosition)},e}();function Ha(e){return"clone"===(null==e?void 0:e.style["box-decoration-break"])||"clone"===(null==e?void 0:e.style["-webkit-box-decoration-break"])}function Ga(e){var t=e.getAttribute("data-viv-box-break");return t?t.split(" "):[]}function Wa(e,t){e.setAttribute("data-viv-box-break",t.join(" "))}function Xa(e,t){var n=Ga(e);n.includes(t)||(n.push(t),Wa(e,n))}function ja(e,t){var n=function(e){var t=e.getAttribute("data-viv-margin-discard");return t?t.split(" "):[]}(e);n.includes(t)||(n.push(t),function(e,t){e.setAttribute("data-viv-margin-discard",t.join(" "))}(e,n))}_a.register(new(function(){function e(){}var t=e.prototype;return t.appliesToNodeContext=function(e){return"footnote"===e.floatSide},t.appliesToFloat=function(e){return e instanceof Ua},t.createPageFloat=function(e,t,n){var u=xa.REGION,i=t.getPageFloatLayoutContext(u);t.getPageFloatLayoutContext(xa.PAGE).hasSameContainerAs(i)&&(u=xa.PAGE);var r=e.toNodePosition(),o=new Ua(r,u,t.flowName,e.footnotePolicy,e.floatMinWrapBlock);return t.addPageFloat(o),Iu(o)},t.createPageFloatFragment=function(e,t,n,u){return new za(e[0].float.floatReference,e,n,u)},t.findPageFloatFragment=function(e,t){return t.getPageFloatLayoutContext(e.floatReference).floatFragments.filter((function(e){return e instanceof za}))[0]||null},t.adjustPageFloatArea=function(e,t,n){e.isFootnote=!0,e.adjustContentRelativeSize=!1;var u=e.element;e.vertical=n.layoutContext.applyFootnoteStyle(t.vertical,n.layoutContext.nodeContext&&"rtl"===n.layoutContext.nodeContext.direction,u),e.convertPercentageSizesToPx(u),n.setComputedInsets(u,e),n.setComputedWidthAndHeight(u,e)},t.forbid=function(e,t){var n=e;if(n.footnotePolicy===Jt.line){var u=new Va(n);t.addLayoutConstraint(u,n.floatReference)}},e}()));var $a={page:!0,left:!0,right:!0,recto:!0,verso:!0,column:!0,region:!0};function qa(e){return!!$a[e]}var Ya={left:!0,right:!0,recto:!0,verso:!0};function Ka(e){return!!Ya[e]}var Qa={avoid:!0,"avoid-page":!0,"avoid-column":!0,"avoid-region":!0};function Za(e){return!!Qa[e]}function Ja(e,t){if(!e)return t;if(!t)return e;if(Ka(t))return t;if(Ka(e))return e;var n=qa(e),u=qa(t);if(!n||!u)return u?t:n?e:Za(t)?t:Za(e)?e:t;switch(t){case"column":return e;case"region":return"column"===e?t:e;default:return t}}function es(e){switch(e){case"left":case"right":case"recto":case"verso":return e;default:return"any"}}function ts(e){switch(e){case"left":case"right":case"recto":case"verso":return e;default:return null}}function ns(e){var t,n=e.toString();switch(n){case"inline-flex":t="flex";break;case"inline-grid":t="grid";break;case"inline-table":t="table";break;case"inline":case"table-row-group":case"table-column":case"table-column-group":case"table-header-group":case"table-footer-group":case"table-row":case"table-cell":case"table-caption":case"inline-block":t="block";break;default:t=n}return Mt(t)}function us(e){return e===Jt.absolute||e===Jt.fixed}function is(e,t,n,u){return e===Jt.none||(us(t)?(n=Jt.none,e=ns(e)):(n&&n!==Jt.none&&!an(n)||u)&&(e=ns(e))),{display:e,position:t,float:n}}function rs(e,t,n,u){return is(e,t,n,u).display===Jt.block}function os(e){switch(e.toString()){case"inline":case"inline-block":case"inline-list-item":case"inline-flex":case"inline-grid":case"ruby":case"inline-table":return!0;default:return!1}}function as(e){switch(e.toString()){case"ruby-base":case"ruby-text":case"ruby-base-container":case"ruby-text-container":return!0;default:return!1}}function ss(e,t,n,u){var i=e.viewNode;if(!i)return NaN;var r=1===i.nodeType?i:i.parentElement;if(r&&r.namespaceURI===W.XHTML){if("rt"===r.localName&&r.style.zoom)return NaN;if(/^([\d\.]|super|(text-)?top)/.test(r.style.verticalAlign))return NaN}if(i===r){if(e.after||!e.inline){if(e.after&&!e.inline&&r.querySelector("ruby")){var o=r.parentNode,a=r.nextSibling;o.removeChild(r),o.insertBefore(r,a)}var s=t.getElementClientRect(r);if(0===s.left&&0===s.top&&0===s.right&&0===s.bottom)return NaN;if(s.right>=s.left&&s.bottom>=s.top)return e.after?u?s.left:s.bottom:u?s.right:s.top}return NaN}var l=i.ownerDocument.createRange(),c=i.textContent.length;if(!c)return NaN;e.after&&(n+=c),n>=c&&(n=c-1),l.setStart(i,n),l.setEnd(i,n+1);var D=t.getRangeClientRects(l);return(D=D.filter((function(e){return e.right>e.left&&e.bottom>e.top}))).length?u?Math.min.apply(null,D.map((function(e){return e.left}))):Math.max.apply(null,D.map((function(e){return e.bottom}))):NaN}function ls(e,t,n){var u=t.clientLayout.getElementClientRect(e),i=t.getComputedMargin(e);return n?u.width+i.left+i.right:u.height+i.top+i.bottom}function cs(e){for(;e;){if(e.parentNode===e.ownerDocument)return!1;e=e.parentNode}return!0}function Ds(e,t){if(e)for(var n;(n=e.lastChild)!=t;)e.removeChild(n)}function hs(e){return!!e.getAttribute("data-adapt-spec")}function fs(e){var t=null==e?void 0:e.viewNode;return 1===(null==t?void 0:t.nodeType)&&hs(t)}p("SIMPLE_PROPERTY",(function(e){var t=e.name,n=e.value;switch(t){case"page-break-before":case"page-break-after":case"page-break-inside":return{name:t.replace(/^page-/,""),value:n===Jt.always?Jt.page:n,important:e.important};default:return e}}));var ds=function(){function e(){}var t=e.prototype;return t.calculateOffset=function(e){return ps(this.getNodeContext(),e.collectElementsOffset())},t.breakPositionChosen=function(e){},t.getNodeContext=function(){return null},e}();function ps(e,t){return{current:t.reduce((function(t,n){return t+n.calculateOffset(e)}),0),minimum:t.reduce((function(t,n){return t+n.calculateMinimumOffset(e)}),0)}}var Es=function(e){function t(t,n,u,i){var r;return(r=e.call(this)||this).position=void 0,r.breakOnEdge=void 0,r.overflows=void 0,r.computedBlockSize=void 0,r.overflowIfRepetitiveElementsDropped=void 0,r.isEdgeUpdated=!1,r.edge=0,r.position=t,r.breakOnEdge=n,r.overflows=u,r.computedBlockSize=i,r.overflowIfRepetitiveElementsDropped=u,r}x(t,e);var n=t.prototype;return n.findAcceptableBreak=function(e,t){return this.updateOverflows(e),t<this.getMinBreakPenalty()?null:e.findEdgeBreakPosition(this)},n.getMinBreakPenalty=function(){if(!this.isEdgeUpdated)throw new Error("EdgeBreakPosition.prototype.updateEdge not called");var e=this.isFirstContentOfRepetitiveElementsOwner()&&!this.overflowIfRepetitiveElementsDropped;return(Za(this.breakOnEdge)?1:0)+(this.overflows&&!e?3:0)+(this.position.parent?this.position.parent.breakPenalty:0)},n.updateEdge=function(e){var t=e.calculateClonedPaddingBorder(this.position);this.edge=ss(this.position,e.clientLayout,0,e.vertical)+t,this.isEdgeUpdated=!0},n.updateOverflows=function(e){this.isEdgeUpdated||this.updateEdge(e);var t=this.edge,n=this.calculateOffset(e);this.overflowIfRepetitiveElementsDropped=e.isOverflown(t+(e.vertical?-1:1)*n.minimum),this.overflows=this.position.overflow=e.isOverflown(t+(e.vertical?-1:1)*n.current)},n.getNodeContext=function(){return this.position},n.isFirstContentOfRepetitiveElementsOwner=function(){var e=this.getNodeContext();if(!e||!e.parent)return!1;var t=e.parent.formattingContext;if(!Ui.isInstanceOfRepetitiveElementsOwnerFormattingContext(t))return!1;var n=t.getRepetitiveElements();return!!n&&n.isFirstContentNode(e)},t}(ds),Cs=function(){function e(){}return e.prototype.find=function(e){for(var n=C(t.cF.RESOLVE_LAYOUT_PROCESSOR),u=0;u<n.length;u++){var i=n[u](e);if(i)return i}throw new Error("No processor found for a formatting context: "+e.getName())},e}(),gs=function(){function e(){}var t=e.prototype;return t.layout=function(e,t,n){return t.isFloatNodeContext(e)?t.layoutFloatOrFootnote(e):t.isBreakable(e)?t.layoutBreakableBlock(e):t.layoutUnbreakable(e)},t.createEdgeBreakPosition=function(e,t,n,u){return new Es(e.copy(),t,n,u)},t.startNonInlineElementNode=function(e){return!1},t.afterNonInlineElementNode=function(e,t){return!1},t.clearOverflownViewNodes=function(e,t,n,u){var i;if(n.viewNode&&n.viewNode.parentNode&&(n.shadowType!==Vi.ShadowType.ROOTLESS||!fs(n))){var r=n.viewNode;"viv-ts-inner"===(null==(i=r.parentElement)?void 0:i.localName)&&(r=r.parentElement.parentElement);var o=r.parentNode;Ds(o,r),u&&o.removeChild(r)}},t.finishBreak=function(e,t,n,u){return e.clearOverflownViewNodes(t,n||null!=t.viewNode&&1==t.viewNode.nodeType&&!t.after),u&&e.layoutContext.processFragmentedBlockEdge(t),Iu(!0)},e}(),Fs=function(){function e(e){this.parent=void 0,this.formattingContextType="Block",this.parent=e}var t=e.prototype;return t.getName=function(){return"Block formatting context (BlockFormattingContext)"},t.isFirstTime=function(e,t){return t},t.getParent=function(){return this.parent},t.saveState=function(){},t.restoreState=function(e){},e}(),vs=new gs,ms=Oi.isInstanceOfBlockFormattingContext;p(t.cF.RESOLVE_FORMATTING_CONTEXT,(function(e,t,n,u,i,r){var o=e.parent;return!o&&e.formattingContext||o&&e.formattingContext!==o.formattingContext?null:e.establishesBFC||!e.formattingContext&&rs(n,u,i,r)?new Fs(o?o.formattingContext:null):null})),p(t.cF.RESOLVE_LAYOUT_PROCESSOR,(function(e){return e instanceof Fs?vs:null}));var As=function(){function e(){this.initialBreakPositions=null,this.initialStateOfFormattingContext=null,this.initialPosition=void 0,this.initialFragmentLayoutConstraints=void 0}var t=e.prototype;return t.layout=function(e,t){return this.prepareLayout(e,t),this.tryLayout(e,t)},t.tryLayout=function(e,t){var n=this,u=ku("AbstractLayoutRetryer.tryLayout");this.saveState(e,t);var i=this.resolveLayoutMode(e);return i.doLayout(e,t).then((function(r){var o=i.accept(r,t);(o=i.postLayout(r,n.initialPosition,t,o))?u.finish(r):(n.clearNodes(n.initialPosition),n.restoreState(e,t),n.tryLayout(n.initialPosition,t).thenFinish(u))})),u.result()},t.prepareLayout=function(e,t){},t.clearNodes=function(e){for(var t,n,u=e.viewNode||e.parent.viewNode;t=u.lastChild;)u.removeChild(t);for(;n=u.nextSibling;)n.parentNode.removeChild(n)},t.saveState=function(e,t){this.initialPosition=e.copy(),this.initialBreakPositions=[].concat(t.breakPositions),this.initialFragmentLayoutConstraints=[].concat(t.fragmentLayoutConstraints),e.formattingContext&&(this.initialStateOfFormattingContext=e.formattingContext.saveState())},t.restoreState=function(e,t){t.breakPositions=this.initialBreakPositions,t.fragmentLayoutConstraints=this.initialFragmentLayoutConstraints,e.formattingContext&&e.formattingContext.restoreState(this.initialStateOfFormattingContext)},e}(),ys=function(){function e(){}var t=e.prototype;return t.initialState=function(e){return{nodeContext:e,atUnforcedBreak:!1,break:!1}},t.startNonDisplayableNode=function(e){},t.afterNonDisplayableNode=function(e){},t.startIgnoredTextNode=function(e){},t.afterIgnoredTextNode=function(e){},t.startNonElementNode=function(e){},t.afterNonElementNode=function(e){},t.startInlineElementNode=function(e){},t.afterInlineElementNode=function(e){},t.startNonInlineElementNode=function(e){},t.afterNonInlineElementNode=function(e){},t.finish=function(e){},e}(),Bs=function(){function e(e,t){this.strategy=void 0,this.layoutContext=void 0,this.strategy=e,this.layoutContext=t}return e.prototype.iterate=function(e){var t=this,n=this.strategy,u=n.initialState(e),i=ku("LayoutIterator");return i.loopWithFrame((function(e){for(var i;u.nodeContext;){var r=((i=u.nodeContext.viewNode?1!==u.nodeContext.viewNode.nodeType?Ji(u.nodeContext.viewNode,u.nodeContext.whitespace)?u.nodeContext.after?n.afterIgnoredTextNode(u):n.startIgnoredTextNode(u):u.nodeContext.after?n.afterNonElementNode(u):n.startNonElementNode(u):u.nodeContext.inline?u.nodeContext.after?n.afterInlineElementNode(u):n.startInlineElementNode(u):u.nodeContext.after?n.afterNonInlineElementNode(u):n.startNonInlineElementNode(u):u.nodeContext.after?n.afterNonDisplayableNode(u):n.startNonDisplayableNode(u))&&i.isPending()?i:Iu(!0)).thenAsync((function(){return u.break?Iu(null):t.layoutContext.nextInTree(u.nodeContext,u.atUnforcedBreak)}));if(r.isPending())return void r.then((function(t){u.break?e.breakLoop():(u.nodeContext=t,e.continueLoop())}));if(u.break)return void e.breakLoop();u.nodeContext=r.get()}n.finish(u),e.breakLoop()})).then((function(){i.finish(u.nodeContext)})),i.result()},e}(),bs=function(e){function t(t){var n;return(n=e.call(this)||this).leadingEdge=void 0,n.leadingEdge=t,n}x(t,e);var n=t.prototype;return n.startNonInlineBox=function(e){},n.endEmptyNonInlineBox=function(e){},n.endNonInlineBox=function(e){},n.initialState=function(e){return{nodeContext:e,atUnforcedBreak:!!this.leadingEdge&&e.after,break:!1,leadingEdge:this.leadingEdge,breakAtTheEdge:null,onStartEdges:!1,leadingEdgeContexts:[],lastAfterNodeContext:null}},n.processForcedBreak=function(e,t){var n=!e.leadingEdge&&qa(e.breakAtTheEdge);if(n){var u=e.nodeContext=e.leadingEdgeContexts[0]||e.nodeContext;u.viewNode.parentNode.removeChild(u.viewNode),t.pageBreakType=e.breakAtTheEdge}return n},n.saveEdgeAndProcessOverflow=function(e,t){var n=t.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!0,e.breakAtTheEdge);return n&&(e.nodeContext=(e.lastAfterNodeContext||e.nodeContext).modify(),e.nodeContext.overflow=!0),n},n.processLayoutConstraint=function(e,t,n){var u=e.nodeContext,i=!t.allowLayout(u);return i&&(n.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!1,e.breakAtTheEdge),(u=e.nodeContext=u.modify()).overflow=!0),i},n.startNonElementNode=function(e){e.onStartEdges=!1},n.startNonInlineElementNode=function(e){return e.leadingEdgeContexts.push(e.nodeContext.copy()),e.breakAtTheEdge=Ja(e.breakAtTheEdge,e.nodeContext.breakBefore),e.onStartEdges=!0,this.startNonInlineBox(e)},n.afterNonInlineElementNode=function(e){var t;return(e.onStartEdges?((t=this.endEmptyNonInlineBox(e))&&t.isPending()?t:Iu(!0)).thenAsync((function(){return e.break||(e.leadingEdgeContexts=[],e.leadingEdge=!1,e.atUnforcedBreak=!1,e.breakAtTheEdge=null),Iu(!0)})):(t=this.endNonInlineBox(e))&&t.isPending()?t:Iu(!0)).thenAsync((function(){return e.break||(e.onStartEdges=!1,e.lastAfterNodeContext=e.nodeContext.copy(),e.breakAtTheEdge=Ja(e.breakAtTheEdge,e.nodeContext.breakAfter)),Iu(!0)}))},t}(ys),ws=[],Ss={first:!1,end:!1,allowEnd:!1,last:!1};function Ns(e){var t=e instanceof Tt?e:"string"==typeof e?Mt(e):Jt.none;if(t===Jt.none)return Ss;for(var n,u=t instanceof jt?t.values:[t],i=Object.create(Ss),r=_(u);!(n=r()).done;){var o=n.value;if(o instanceof _t)switch(o.name){case"first":i.first=!0;break;case"force-end":i.end=!0;break;case"allow-end":i.end=!0,i.allowEnd=!0;break;case"last":i.last=!0}}return i}function xs(e){return!e.first&&!e.last&&!e.end}var Ts={trimStart:!1,spaceFirst:!1,trimEnd:!1,allowEnd:!1,trimAdjacent:!1,ideographAlpha:!1,ideographNumeric:!1},ks={trimStart:!0,spaceFirst:!0,trimEnd:!0,allowEnd:!1,trimAdjacent:!0,ideographAlpha:!0,ideographNumeric:!0},Is={trimStart:!0,spaceFirst:!1,trimEnd:!0,allowEnd:!1,trimAdjacent:!0,ideographAlpha:!0,ideographNumeric:!0},Ps={trimStart:!0,spaceFirst:!0,trimEnd:!0,allowEnd:!1,trimAdjacent:!0,ideographAlpha:!1,ideographNumeric:!1};function Rs(e){var t=e instanceof Tt?e:"string"==typeof e?Mt(e):Jt.normal;if(t===Jt.normal)return ks;if(t===Jt.none)return Ts;if(t===Jt.auto)return Is;for(var n,u=t instanceof jt?t.values:[t],i=Object.create(Ps),r=_(u);!(n=r()).done;){var o=n.value;if(o instanceof _t)switch(o.name){case"trim-start":i.trimStart=!0,i.spaceFirst=!1;break;case"space-start":i.trimStart=!1,i.spaceFirst=!1;break;case"space-first":i.trimStart=!0,i.spaceFirst=!0;break;case"trim-end":i.trimEnd=!0,i.allowEnd=!1;break;case"space-end":i.trimEnd=!1,i.allowEnd=!1;break;case"allow-end":i.trimEnd=!0,i.allowEnd=!0;break;case"trim-adjacent":i.trimAdjacent=!0;break;case"space-adjacent":i.trimAdjacent=!1;break;case"ideograph-alpha":i.ideographAlpha=!0;break;case"ideograph-numeric":i.ideographNumeric=!0}}return i}function Ls(e){return!(e.trimStart||e.trimEnd||e.trimAdjacent||e.ideographAlpha||e.ideographNumeric)}function Os(e){return e?(e=e.toLowerCase(),/^zh\b.*-(hant|tw|hk)\b/.test(e)?"zh-hant":/^zh\b/.test(e)?"zh-hans":/^ja\b/.test(e)?"ja":/^ko\b/.test(e)?"ko":e):null}var _s={audio:!0,canvas:!0,embed:!0,iframe:!0,img:!0,math:!0,object:!0,picture:!0,svg:!0,video:!0},Ms=new(function(){function e(){}var n=e.prototype;return n.getPolyfilledInheritedProps=function(){return["hanging-punctuation","text-spacing"]},n.preprocessSingleDocument=function(e){e.body&&this.preprocessForTextSpacing(e.body)},n.preprocessForTextSpacing=function(e){for(var t=e.ownerDocument.createNodeIterator(e,NodeFilter.SHOW_TEXT),n=t.nextNode();n;n=t.nextNode()){var u;if(n.parentElement.namespaceURI===W.XHTML&&"true"!==(null==(u=n.parentElement.dataset)?void 0:u.mathTypeset)){var i=n.textContent.replace(/(?![\(\)\[\]\{\}])[\(\)\[\]\{\}\xAB\xBB\u0F3A-\u0F3D\u169B\u169C\u2018-\u201F\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2E02-\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20-\u2E29\u2E42\u2E55-\u2E5C\u3000-\u3002\u3008-\u3011\u3014-\u301B\u301D-\u301F\uFD3E\uFD3F\uFE17\uFE18\uFE35-\uFE44\uFE47\uFE48\uFE59-\uFE5E\uFF08\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F-\uFF64](?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*(?=(?:[\0-\u02FF\u0370-\u0482\u048A-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u060F\u061B-\u064A\u0660-\u066F\u0671-\u06D5\u06DD\u06DE\u06E5\u06E6\u06E9\u06EE-\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07EA\u07F4-\u07FC\u07FE-\u0815\u081A\u0824\u0828\u082E-\u0858\u085C-\u0897\u08A0-\u08C9\u08E2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0964-\u0980\u0984-\u09BB\u09BD\u09C5\u09C6\u09C9\u09CA\u09CE-\u09D6\u09D8-\u09E1\u09E4-\u09FD\u09FF\u0A00\u0A04-\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A6F\u0A72-\u0A74\u0A76-\u0A80\u0A84-\u0ABB\u0ABD\u0AC6\u0ACA\u0ACE-\u0AE1\u0AE4-\u0AF9\u0B00\u0B04-\u0B3B\u0B3D\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B61\u0B64-\u0B81\u0B83-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE-\u0BD6\u0BD8-\u0BFF\u0C05-\u0C3B\u0C3D\u0C45\u0C49\u0C4E-\u0C54\u0C57-\u0C61\u0C64-\u0C80\u0C84-\u0CBB\u0CBD\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CE1\u0CE4-\u0CF2\u0CF4-\u0CFF\u0D04-\u0D3A\u0D3D\u0D45\u0D49\u0D4E-\u0D56\u0D58-\u0D61\u0D64-\u0D80\u0D84-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF4-\u0E30\u0E32\u0E33\u0E3B-\u0E46\u0E4F-\u0EB0\u0EB2\u0EB3\u0EBD-\u0EC7\u0ECF-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F40-\u0F70\u0F85\u0F88-\u0F8C\u0F98\u0FBD-\u0FC5\u0FC7-\u102A\u103F-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u109E-\u135C\u1360-\u1711\u1716-\u1731\u1735-\u1751\u1754-\u1771\u1774-\u17B3\u17D4-\u17DC\u17DE-\u180A\u180E\u1810-\u1884\u1887-\u18A8\u18AA-\u191F\u192C-\u192F\u193C-\u1A16\u1A1C-\u1A54\u1A5F\u1A7D\u1A7E\u1A80-\u1AAF\u1ACF-\u1AFF\u1B05-\u1B33\u1B45-\u1B6A\u1B74-\u1B7F\u1B83-\u1BA0\u1BAE-\u1BE5\u1BF4-\u1C23\u1C38-\u1CCF\u1CD3\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA-\u1DBF\u1E00-\u20CF\u20F1-\u2CEE\u2CF2-\u2D7E\u2D80-\u2DDF\u2E00-\u3029\u3030-\u3098\u309B-\uA66E\uA673\uA67E-\uA69D\uA6A0-\uA6EF\uA6F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA828-\uA82B\uA82D-\uA87F\uA882-\uA8B3\uA8C6-\uA8DF\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA954-\uA97F\uA984-\uA9B2\uA9C1-\uA9E4\uA9E6-\uAA28\uAA37-\uAA42\uAA44-\uAA4B\uAA4E-\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2-\uAAEA\uAAF0-\uAAF4\uAAF7-\uABE2\uABEB\uABEE-\uD7FF\uE000-\uFB1D\uFB1F-\uFDFF\uFE10-\uFE1F\uFE30-\uFFFF]|\uD800[\uDC00-\uDDFC\uDDFE-\uDEDF\uDEE1-\uDF75\uDF7B-\uDFFF]|[\uD801\uD808-\uD80C\uD80E-\uD819\uD81C-\uD82E\uD830-\uD832\uD835\uD837\uD83B-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD802[\uDC00-\uDE00\uDE04\uDE07-\uDE0B\uDE10-\uDE37\uDE3B-\uDE3E\uDE40-\uDEE4\uDEE7-\uDFFF]|\uD803[\uDC00-\uDD23\uDD28-\uDEAA\uDEAD-\uDEFC\uDF00-\uDF45\uDF51-\uDF81\uDF86-\uDFFF]|\uD804[\uDC03-\uDC37\uDC47-\uDC6F\uDC71\uDC72\uDC75-\uDC7E\uDC83-\uDCAF\uDCBB-\uDCC1\uDCC3-\uDCFF\uDD03-\uDD26\uDD35-\uDD44\uDD47-\uDD72\uDD74-\uDD7F\uDD83-\uDDB2\uDDC1-\uDDC8\uDDCD\uDDD0-\uDE2B\uDE38-\uDE3D\uDE3F\uDE40\uDE42-\uDEDE\uDEEB-\uDEFF\uDF04-\uDF3A\uDF3D\uDF45\uDF46\uDF49\uDF4A\uDF4E-\uDF56\uDF58-\uDF61\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC00-\uDC34\uDC47-\uDC5D\uDC5F-\uDCAF\uDCC4-\uDDAE\uDDB6\uDDB7\uDDC1-\uDDDB\uDDDE-\uDE2F\uDE41-\uDEAA\uDEB8-\uDF1C\uDF2C-\uDFFF]|\uD806[\uDC00-\uDC2B\uDC3B-\uDD2F\uDD36\uDD39\uDD3A\uDD3F\uDD41\uDD44-\uDDD0\uDDD8\uDDD9\uDDE1-\uDDE3\uDDE5-\uDE00\uDE0B-\uDE32\uDE3A\uDE3F-\uDE46\uDE48-\uDE50\uDE5C-\uDE89\uDE9A-\uDFFF]|\uD807[\uDC00-\uDC2E\uDC37\uDC40-\uDC91\uDCA8\uDCB7-\uDD30\uDD37-\uDD39\uDD3B\uDD3E\uDD46\uDD48-\uDD89\uDD8F\uDD92\uDD98-\uDEF2\uDEF7-\uDEFF\uDF02\uDF04-\uDF33\uDF3B-\uDF3D\uDF43-\uDFFF]|\uD80D[\uDC00-\uDC3F\uDC41-\uDC46\uDC56-\uDFFF]|\uD81A[\uDC00-\uDEEF\uDEF5-\uDF2F\uDF37-\uDFFF]|\uD81B[\uDC00-\uDF4E\uDF50\uDF88-\uDF8E\uDF93-\uDFE3\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD82F[\uDC00-\uDC9C\uDC9F-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDC8E\uDC90-\uDD2F\uDD37-\uDEAD\uDEAF-\uDEEB\uDEF0-\uDFFF]|\uD839[\uDC00-\uDCEB\uDCF0-\uDFFF]|\uD83A[\uDC00-\uDCCF\uDCD7-\uDD43\uDD4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))|(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])(?=(?![\(\)\[\]\{\}])[\(\)\[\]\{\}\xAB\xBB\u0F3A-\u0F3D\u169B\u169C\u2018-\u201F\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2E02-\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20-\u2E29\u2E42\u2E55-\u2E5C\u3000-\u3002\u3008-\u3011\u3014-\u301B\u301D-\u301F\uFD3E\uFD3F\uFE17\uFE18\uFE35-\uFE44\uFE47\uFE48\uFE59-\uFE5E\uFF08\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F-\uFF64])|(?!(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3041-\u30FF\u31C0-\u31FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*(?=(?!(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3041-\u30FF\u31C0-\u31FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9\uFF01-\uFF60]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]))(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BEF\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D66-\u0D6F\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F29\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD30-\uDD39\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC66-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]))|(?!(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3041-\u30FF\u31C0-\u31FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9\uFF01-\uFF60]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]))(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BEF\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D66-\u0D6F\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F29\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD30-\uDD39\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC66-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF39\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCE9\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*(?=(?!(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3041-\u30FF\u31C0-\u31FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]))/g,"$&\0").split("\0");if(i.length>1){for(var r=i.length-1,o=0;o<r;o++)n.parentNode.insertBefore(document.createTextNode(i[o]),n);n.textContent=i[r]}}}},n.processGeneratedContent=function(e,t,n,u,i){u=Os(u);var r=Rs(t),o=Ns(n);if(!xs(o)||!Ls(r)){this.preprocessForTextSpacing(e);var a=e.style.whiteSpace;0===(i?e.offsetHeight:e.offsetWidth)&&(e.style.whiteSpace="pre");for(var s=e.ownerDocument.createNodeIterator(e,NodeFilter.SHOW_TEXT),l=null,c=null,D=s.nextNode();D;D=c){c=s.nextNode();var h=!l,f=!l||/\n$/.test(l.textContent),d=!c||/^\n/.test(c.textContent);this.processTextSpacing(D,h||f,h,f,d,!c,l,c,r,o,u,i),l=D}e.style.whiteSpace=a}},n.postLayoutBlock=function(e,t){var n=!e||1===e.fragmentIndex&&function(){for(var e,n=t[0],u=n.viewNode;n&&n.inline;)n=n.parent;if(1!==(null==(e=n)?void 0:e.fragmentIndex))return!1;for(var r=u.previousSibling;r;r=r.previousSibling)if(!i(r))return!1;return!0}(),u=n||function(){for(var e,n=t[0];n&&n.inline;){var u;if((e=null==(u=n.sourceNode)?void 0:u.previousSibling)&&(3===e.nodeType&&/^[ \t\r\n\f]*$/.test(e.textContent)&&n.whitespace!==Qi.PRESERVE&&(e=e.previousSibling),e))break;n=n.parent}for(;e;){if(1===e.nodeType){if("br"===e.localName)return!0}else if(3===e.nodeType)if(n.whitespace===Qi.PRESERVE){if(/\n$/.test(e.textContent))return!0}else if(n.whitespace===Qi.NEWLINE&&/\n[ \t\r\n\f]*$/.test(e.textContent))return!0;e=e.lastChild}return!1}();function i(e){var t;if(1!==(null==e?void 0:e.nodeType))return!1;var n=e;if(n.hasAttribute("data-adapt-spec"))return!0;var u=null!=(t=n.style)?t:{},i=u.position,r=u.float;return"absolute"===i||"fixed"===i||r&&"none"!==r}for(var r=0;r<t.length;r++){var o=t[r];if(!o.after&&o.inline&&!o.display&&o.parent&&o.viewNode.parentNode&&o.viewNode.nodeType===Node.TEXT_NODE&&!Ji(o.viewNode,o.whitespace)){var a,s,l,c,D=function(e){var t,n;if(1===(null==(t=e.viewNode)?void 0:t.nodeType))return"br"===e.viewNode.localName;if(3===(null==(n=e.viewNode)?void 0:n.nodeType)){var u;if(e.whitespace===Qi.PRESERVE){if(/\n$/.test(e.viewNode.textContent))return!0}else if(e.whitespace===Qi.NEWLINE&&/\n[ \t\r\n\f]*$/.test(e.viewNode.textContent))return!0;if("br"===(null==(u=e.viewNode.previousElementSibling)?void 0:u.localName))return Ji(e.viewNode,e.whitespace)}return!1},h=function(e){var t,n;if(1===(null==(t=e.viewNode)?void 0:t.nodeType))return"br"===e.viewNode.localName;if(3===(null==(n=e.viewNode)?void 0:n.nodeType)){var u;if(e.whitespace===Qi.PRESERVE){if(/^\n/.test(e.viewNode.textContent))return!0}else if(e.whitespace===Qi.NEWLINE&&/^[ \t\r\n\f]*\n/.test(e.viewNode.textContent))return!0;if("br"===(null==(u=e.viewNode.nextElementSibling)?void 0:u.localName))return Ji(e.viewNode,e.whitespace)}return!1},f=Os(null!=(a=null!=(s=null!=(l=o.lang)?l:o.parent.lang)?s:null==e?void 0:e.lang)?a:null==e||null==(c=e.parent)?void 0:c.lang),d=Rs(o.inheritedProps["text-spacing"]),p=Ns(o.inheritedProps["hanging-punctuation"]);if(xs(p)&&Ls(d))continue;if(/\b(flex|grid)\b/.test(o.parent.display))continue;for(var E=null,C=null,g=0===r,F=0===r&&n,v=0===r&&u,m=!1,A=!1,y=r-1;y>=0;y--){var B,b=t[y];if(D(b)){v=!0;break}if(!b.display&&b.viewNode.nodeType===Node.TEXT_NODE&&b.viewNode.textContent.length>0){E=b.viewNode;break}if(b.display&&!/^(inline|ruby)\b/.test(b.display)||1===(null==(B=b.viewNode)?void 0:B.nodeType)&&("br"===b.viewNode.localName||_s[b.viewNode.localName]))break;0===y&&(g=!0,n&&(F=!0,v=!0))}for(var w=r+1;w<t.length;w++){var S,N=t[w];if(h(N)){m=!0;break}if(N.viewNode!==o.viewNode&&!N.display&&N.viewNode.nodeType===Node.TEXT_NODE&&N.viewNode.textContent.length>0){C=N.viewNode;break}if(N.display&&!/^(inline|ruby)\b/.test(N.display)||1===(null==(S=N.viewNode)?void 0:S.nodeType)&&("br"===N.viewNode.localName||_s[N.viewNode.localName])){w===t.length-1&&i(N.viewNode)&&(A=!0);break}if(w===t.length-1){m=!0,A=!0;for(var x=N.viewNode.nextSibling;x;x=x.nextSibling)if(!i(x)){A=!1;break}}}this.processTextSpacing(o.viewNode,g,F,v,m,A,E,C,d,p,f,o.vertical)}}},n.processTextSpacing=function(e,t,n,u,i,r,o,a,s,l,c,D){var h,f,d,p=e.textContent,E=e.ownerDocument;function C(){if(t)return!0;if(!o)return!1;h||(h=E.createRange()).selectNode(e);var n=h.getClientRects()[0];f||(f=E.createRange()).selectNode(o);var u=f.getClientRects(),i=u[u.length-1];return!(!n||!i)&&(D?n.top<i.top+i.height-n.width||n.left+n.width<i.left+n.width/10||n.left>i.left+i.width-n.width/10:n.left<i.left+i.width-n.height||n.top>i.top+i.height-n.height/10||n.top+n.height<i.top+n.height/10)}function g(){if(!a)return!1;h||(h=E.createRange()).selectNode(e);var t=h.getClientRects()[0];d||(d=E.createRange()).selectNode(a);var n=d.getClientRects()[0];return!(!t||!n)&&(D?t.top+t.height>n.top+t.width||t.left>n.left+n.width-t.width/10||t.left+t.width<n.left+t.width/10:t.left+t.width>n.left+t.height||t.top+t.height<n.top+t.height/10||t.top>n.top+n.height-t.height/10)}var F,v=!1,m=!1,A=!1,y=!1;if(n&&l.first&&/^["'\(\[\{\xAB\xBB\u0F3A\u0F3C\u169B\u2018-\u201F\u2039\u203A\u2045\u207D\u208D\u2308\u230A\u2329\u2768\u276A\u276C\u276E\u2770\u2772\u2774\u27C5\u27E6\u27E8\u27EA\u27EC\u27EE\u2983\u2985\u2987\u2989\u298B\u298D\u298F\u2991\u2993\u2995\u2997\u29D8\u29DA\u29FC\u2E02-\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20-\u2E22\u2E24\u2E26\u2E28\u2E42\u2E55\u2E57\u2E59\u2E5B\u3000\u3008\u300A\u300C\u300E\u3010\u3014\u3016\u3018\u301A\u301D\uFD3F\uFE17\uFE35\uFE37\uFE39\uFE3B\uFE3D\uFE3F\uFE41\uFE43\uFE47\uFE59\uFE5B\uFE5D\uFF08\uFF3B\uFF5B\uFF5F\uFF62](?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/.test(p)?(F="viv-ts-open",v=!0,m=!0):r&&l.last&&/^["'\)\]\}\xAB\xBB\u0F3B\u0F3D\u169C\u2018\u2019\u201B-\u201D\u201F\u2039\u203A\u2046\u207E\u208E\u2309\u230B\u232A\u2769\u276B\u276D\u276F\u2771\u2773\u2775\u27C6\u27E7\u27E9\u27EB\u27ED\u27EF\u2984\u2986\u2988\u298A\u298C\u298E\u2990\u2992\u2994\u2996\u2998\u29D9\u29DB\u29FD\u2E02-\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E23\u2E25\u2E27\u2E29\u2E56\u2E58\u2E5A\u2E5C\u3009\u300B\u300D\u300F\u3011\u3015\u3017\u3019\u301B\u301E\u301F\uFD3E\uFE18\uFE36\uFE38\uFE3A\uFE3C\uFE3E\uFE40\uFE42\uFE44\uFE48\uFE5A\uFE5C\uFE5E\uFF09\uFF3D\uFF5D\uFF60\uFF63](?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/.test(p)?(F="viv-ts-close",v=!0,A=!0):l.end&&/^[\u3001\u3002\uFF0C\uFF0E\uFF61\uFF64](?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/.test(p)?(F="viv-ts-close",v=!0,y=!0):(s.trimStart||s.trimAdjacent)&&/^[\u2018\u201C\u2329\u3008\u300A\u300C\u300E\u3010\u3014\u3016\u3018\u301A\u301D\uFF08\uFF3B\uFF5B\uFF5F](?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/.test(p)?(F="viv-ts-open",v=!0):(s.trimEnd||s.trimAdjacent)&&(/^[\u2019\u201D\u232A\u3009\u300B\u300D\u300F\u3011\u3015\u3017\u3019\u301B\u301E\u301F\uFF09\uFF3D\uFF5D\uFF60](?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/.test(p)||"zh-hans"===c&&/^[\uFF1A\uFF1B](?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/.test(p)||"zh-hant"!==c&&/^[\u3001\u3002\uFF0C\uFF0E](?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/.test(p))&&(F="viv-ts-close",v=!0),v){var B=function(){return D?b.offsetLeft:b.offsetTop};if("viv-ts-inner"===e.parentElement.localName)return;var b=E.createElement(F),w=E.createElement("viv-ts-inner");b.appendChild(w),e.parentNode.insertBefore(b,e),w.appendChild(e);var S=.7*parseFloat(E.defaultView.getComputedStyle(b).fontSize),N=(D?w.offsetHeight:w.offsetWidth)>S;if(N||m||A||y)if("viv-ts-open"===F){if(m)b.className="viv-hang-first";else if(n||u)b.className=s.trimStart&&!s.spaceFirst?"viv-ts-trim":"viv-ts-space";else if(!s.trimStart&&C())b.className="viv-ts-space";else if(s.trimAdjacent&&o&&/[\(\)\[\]\{\}\xAB\xB7\xBB\u0F3A-\u0F3D\u169B\u169C\u2018-\u201F\u2027\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2E02-\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20-\u2E29\u2E42\u2E55-\u2E5C\u3000-\u3002\u3008-\u3011\u3014-\u301B\u301D-\u301F\u30FB\uFD3E\uFD3F\uFE17\uFE18\uFE35-\uFE44\uFE47\uFE48\uFE59-\uFE5E\uFF08\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63](?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/.test(o.textContent)&&(!/[\)\]\}\xBB\u0F3B\u0F3D\u169C\u2019\u201D\u203A\u2046\u207E\u208E\u2309\u230B\u232A\u2769\u276B\u276D\u276F\u2771\u2773\u2775\u27C6\u27E7\u27E9\u27EB\u27ED\u27EF\u2984\u2986\u2988\u298A\u298C\u298E\u2990\u2992\u2994\u2996\u2998\u29D9\u29DB\u29FD\u2E03\u2E05\u2E0A\u2E0D\u2E1D\u2E21\u2E23\u2E25\u2E27\u2E29\u2E56\u2E58\u2E5A\u2E5C\u3009\u300B\u300D\u300F\u3011\u3015\u3017\u3019\u301B\u301E\u301F\uFD3E\uFE18\uFE36\uFE38\uFE3A\uFE3C\uFE3E\uFE40\uFE42\uFE44\uFE48\uFE5A\uFE5C\uFE5E\uFF09\uFF3D\uFF5D\uFF60\uFF63](?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/.test(o.textContent)||"viv-ts-inner"===o.parentElement.localName&&(D?o.parentElement.offsetHeight:o.parentElement.offsetWidth)>S))b.className="viv-ts-trim";else if(s.trimStart&&C()){var x=B();b.className="viv-ts-auto",x!==B()||C()||(b.className="viv-ts-trim")}}else if("viv-ts-close"===F)if(A)b.className=N?"viv-hang-last":"viv-hang-last viv-hang-hw";else if(r||i)if(y){var T=b.offsetLeft,k=b.offsetTop;b.className=N?"viv-hang-end":"viv-hang-end viv-hang-hw",b.offsetLeft===T&&b.offsetTop===k&&(b.className="")}else b.className=s.trimEnd?"viv-ts-trim":"viv-ts-space";else if(a&&/^[\)\]\}\xB7\xBB\u0F3B\u0F3D\u169C\u2019\u201D\u2027\u203A\u2046\u207E\u208E\u2309\u230B\u232A\u2769\u276B\u276D\u276F\u2771\u2773\u2775\u27C6\u27E7\u27E9\u27EB\u27ED\u27EF\u2984\u2986\u2988\u298A\u298C\u298E\u2990\u2992\u2994\u2996\u2998\u29D9\u29DB\u29FD\u2E03\u2E05\u2E0A\u2E0D\u2E1D\u2E21\u2E23\u2E25\u2E27\u2E29\u2E56\u2E58\u2E5A\u2E5C\u3000-\u3002\u3009\u300B\u300D\u300F\u3011\u3015\u3017\u3019\u301B\u301E\u301F\u30FB\uFD3E\uFE18\uFE36\uFE38\uFE3A\uFE3C\uFE3E\uFE40\uFE42\uFE44\uFE48\uFE5A\uFE5C\uFE5E\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF3D\uFF5D\uFF60\uFF63]/.test(a.textContent))N&&s.trimAdjacent&&(b.className="viv-ts-trim");else if(y){var I=g(),P=I&&l.allowEnd;P||(b.className=N?"viv-hang-end":"viv-hang-end viv-hang-hw"),N?P&&s.trimEnd&&!s.allowEnd?b.className="viv-ts-auto":P||g()?!I&&l.allowEnd&&(!s.trimEnd||s.allowEnd?(b.className="viv-ts-space",g()||(s.trimEnd?(b.className="viv-ts-auto",g()||(b.className="viv-hang-end")):b.className="viv-hang-end")):(b.className="viv-ts-auto",g()||(b.className="viv-hang-end"))):b.className="":I||g()||(b.className="")}else if(s.trimEnd)if(g())b.className=s.allowEnd?"viv-ts-space":"viv-ts-auto";else{var R=B();b.className="viv-ts-auto",R===B()&&(b.className="")}}function L(e){var t,n=null==e||null==(t=e.ownerDocument.defaultView)?void 0:t.getComputedStyle(e);return!!n&&("upright"===n.textOrientation||"all"===n.textCombineUpright||"horizontal"===n["-webkit-text-combine"])}function O(e,t){if(1===e.nodeType){var n=E.defaultView.getComputedStyle(e);if(parseFloat(n.marginInlineEnd)||parseFloat(n.borderInlineEndWidth)||parseFloat(n.paddingInlineEnd))return!0}var u=e.parentElement;if(u&&!u.contains(t))return O(u,t);if(1===t.nodeType){var i=E.defaultView.getComputedStyle(t);if(parseFloat(i.marginInlineStart)||parseFloat(i.borderInlineStartWidth)||parseFloat(i.paddingInlineStart))return!0}var r=t.parentElement;return!(!r||r.contains(e))&&O(e,r)}(s.ideographAlpha||s.ideographNumeric)&&(!(o&&/^(?!(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3041-\u30FF\u31C0-\u31FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/.test(p)&&(s.ideographAlpha&&/(?!(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3041-\u30FF\u31C0-\u31FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9\uFF01-\uFF60]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]))(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/.test(o.textContent)||s.ideographNumeric&&/(?![\uFF01-\uFF60])(?:[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD801[\uDCA0-\uDCA9]|\uD803[\uDD30-\uDD39]|\uD804[\uDC66-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF39]|\uD806[\uDCE0-\uDCE9\uDD50-\uDD59]|\uD807[\uDC50-\uDC59\uDD50-\uDD59\uDDA0-\uDDA9\uDF50-\uDF59]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD839[\uDCF0-\uDCF9]|\uD83A[\uDD50-\uDD59]|\uD83E[\uDFF0-\uDFF9])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/.test(o.textContent)))||D&&L(o.parentElement)||O(o,e)||e.parentNode.insertBefore(E.createElement("viv-ts-thin-sp"),e),!(a&&/(?!(?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3041-\u30FF\u31C0-\u31FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/.test(p)&&(s.ideographAlpha&&/^(?!(?:[\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u3005\u3007\u3021-\u3029\u3038-\u303B\u3041-\u30FF\u31C0-\u31FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFA6D\uFA70-\uFAD9\uFF01-\uFF60]|\uD81B[\uDFE2\uDFE3\uDFF0\uDFF1]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]))(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/.test(a.textContent)||s.ideographNumeric&&/^(?![\uFF01-\uFF60])(?:[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD801[\uDCA0-\uDCA9]|\uD803[\uDD30-\uDD39]|\uD804[\uDC66-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF39]|\uD806[\uDCE0-\uDCE9\uDD50-\uDD59]|\uD807[\uDC50-\uDC59\uDD50-\uDD59\uDDA0-\uDDA9\uDF50-\uDF59]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD839[\uDCF0-\uDCF9]|\uD83A[\uDD50-\uDD59]|\uD83E[\uDFF0-\uDFF9])/.test(a.textContent)))||D&&L(a.parentElement)||O(e,a)||e.parentNode.insertBefore(E.createElement("viv-ts-thin-sp"),e.nextSibling))},n.registerHooks=function(){p(t.cF.POLYFILLED_INHERITED_PROPS,this.getPolyfilledInheritedProps.bind(this)),p(t.cF.PREPROCESS_SINGLE_DOCUMENT,this.preprocessSingleDocument.bind(this)),p(t.cF.POST_LAYOUT_BLOCK,this.postLayoutBlock.bind(this))},e}());Ms.registerHooks();var Us=(new DOMParser).parseFromString('<root xmlns="'+W.SHADOW+'"/>',"text/xml"),zs=["footnote-marker","first-5-lines","first-4-lines","first-3-lines","first-2-lines","first-line","first-letter","before","","after"];function Vs(e){return e.getAttribute("data-adapt-pseudo")||""}function Hs(e,t){e.setAttribute("data-adapt-pseudo",t)}var Gs=function(){function e(e,t,n,u,i){this.element=void 0,this.style=void 0,this.styler=void 0,this.context=void 0,this.exprContentListener=void 0,this.contentProcessed={},this.element=e,this.style=t,this.styler=n,this.context=u,this.exprContentListener=i}var t=e.prototype;return t.getStyle=function(e,t){var n=Vs(e);this.styler&&n&&n.match(/after$/)&&(this.style=this.styler.getStyle(this.element,!0),this.styler=null);var u=Vr(this.style,"_pseudos")[n]||{};if(n.match(/^first-/)&&!u["x-first-pseudo"]){var i,r=1;"first-letter"==n?r=0:null!=(i=n.match(/^first-([0-9]+)-lines$/))&&(r=i[1]-0),u["x-first-pseudo"]=new kr(new Vt(r),0)}return u},t.processContent=function(e,t,n){var u=Vs(e);if(!this.contentProcessed[u]){this.contentProcessed[u]=!0;var i=t.content;i&&Fr(i)&&(i.visit(new gr(e,this.context,i,this.exprContentListener)),function(e){Ms.preprocessForTextSpacing(e)}(e))}},e}(),Ws=Li.registerFragmentIndex,Xs=function(){function e(e,t){this.sourceNode=void 0,this.styler=void 0,this.sourceNode=e,this.styler=t}var t=e.prototype;return t.createElement=function(e,t){var n=this,u=t.viewNode.ownerDocument.createElement("div"),i=new el(e,u,t),r=i.getColumn().pageBreakType;return i.getColumn().pageBreakType=null,i.layout(this.createNodePositionForPseudoElement(),!0).thenAsync((function(){n.styler.contentProcessed["after-if-continues"]=!1,i.getColumn().pageBreakType=r;var e=u.firstChild;return te(e,"display","block"),Iu(e)}))},t.createNodePositionForPseudoElement=function(){var e=Us.createElementNS(W.XHTML,"div");Hs(e,"after-if-continues");var t=this.createShadowContext(e);return new fr({steps:[{node:e,shadowType:t.type,shadowContext:t,nodeShadow:null,shadowSibling:null}],offsetInNode:0,after:!1,preprocessedTextContent:null})},t.createShadowContext=function(e){return new lr(this.sourceNode,e,null,null,null,Vi.ShadowType.ROOTED,this.styler)},e}(),js=function(){function e(e,t,n){this.nodeContext=void 0,this.afterIfContinues=void 0,this.pseudoElementHeight=void 0,this.flagmentLayoutConstraintType="AfterIfContinue",this.nodeContext=e,this.afterIfContinues=t,this.pseudoElementHeight=n}var t=e.prototype;return t.allowLayout=function(e,t,n){return!(t&&!e||e&&e.overflow)},t.nextCandidate=function(e){return!1},t.postLayout=function(e,t,n,u){},t.finishBreak=function(e,t){var n=this;return this.getRepetitiveElements().affectTo(e)?this.afterIfContinues.createElement(t,this.nodeContext).thenAsync((function(e){return n.nodeContext.viewNode.appendChild(e),Iu(!0)})):Iu(!0)},t.getRepetitiveElements=function(){return new $s(this.nodeContext,this.pseudoElementHeight)},t.equalsTo=function(t){return t instanceof e&&this.afterIfContinues==t.afterIfContinues},t.getPriorityOfFinishBreak=function(){return 9},e}(),$s=function(){function e(e,t){this.nodeContext=void 0,this.pseudoElementHeight=void 0,this.nodeContext=e,this.pseudoElementHeight=t}var t=e.prototype;return t.calculateOffset=function(e){return this.affectTo(e)?this.pseudoElementHeight:0},t.calculateMinimumOffset=function(e){return this.calculateOffset(e)},t.affectTo=function(e){if(!e)return!1;var t=e.shadowContext?e.shadowContext.owner:e.sourceNode;if(t===this.nodeContext.sourceNode)return!!e.after;for(var n=t.parentNode;n;n=n.parentNode)if(n===this.nodeContext.sourceNode)return!0;return!1},e}();function qs(e,t){if(!e||!e.afterIfContinues||e.after||t.isFloatNodeContext(e))return Iu(e);var n=e.afterIfContinues;return n.createElement(t,e).thenAsync((function(u){var i=function(e,t,n){var u=e.viewNode;u.appendChild(n);var i=ls(n,t,e.vertical);return u.removeChild(n),i}(e,t,u);return t.fragmentLayoutConstraints.push(new js(e,n,i)),Iu(e)}))}function Ys(e,t){return e.thenAsync((function(e){return qs(e,t)}))}var Ks={img:!0,svg:!0,audio:!0,video:!0},Qs=function(){function e(e){this.constraints=void 0,this.constraints=e}return e.prototype.allowLayout=function(e){return this.constraints.every((function(t){return t.allowLayout(e)}))},e}(),Zs=function(e){function t(t,n){var u;return(u=e.call(this)||this).checkPoints=void 0,u.penalty=void 0,u.alreadyEvaluated=!1,u.breakNodeContext=null,u.checkPoints=t,u.penalty=n,u}x(t,e);var n=t.prototype;return n.findAcceptableBreak=function(e,t){return t<this.getMinBreakPenalty()?null:(this.alreadyEvaluated||(this.breakNodeContext=e.findBoxBreakPosition(this,t>0),this.alreadyEvaluated=!0),this.breakNodeContext)},n.getMinBreakPenalty=function(){return this.penalty},n.getNodeContext=function(){return this.alreadyEvaluated?this.breakNodeContext:this.checkPoints[this.checkPoints.length-1]},t}(ds),Js=function(e){function n(t,n,u,i,r){var o;return(o=e.call(this,t)||this).layoutContext=void 0,o.clientLayout=void 0,o.layoutConstraint=void 0,o.pageFloatLayoutContext=void 0,o.last=void 0,o.viewDocument=void 0,o.flowRootFormattingContext=null,o.isFloat=!1,o.isFootnote=!1,o.startEdge=0,o.endEdge=0,o.beforeEdge=0,o.afterEdge=0,o.footnoteEdge=0,o.box=null,o.chunkPositions=null,o.bands=null,o.overflown=!1,o.breakPositions=null,o.pageBreakType=null,o.forceNonfitting=!0,o.leftFloatEdge=0,o.rightFloatEdge=0,o.bottommostFloatTop=0,o.stopAtOverflow=!0,o.lastAfterPosition=null,o.fragmentLayoutConstraints=[],o.pseudoParent=null,o.nodeContextOverflowingDueToRepetitiveElements=null,o.blockDistanceToBlockEndFloats=NaN,o.breakAtTheEdgeBeforeFloat=null,o.layoutContext=n,o.clientLayout=u,o.layoutConstraint=i,o.pageFloatLayoutContext=r,o.last=t.lastChild,o.viewDocument=t.ownerDocument,r.setContainer(L(o)),o}x(n,e);var u=n.prototype;return u.getTopEdge=function(){return this.vertical?this.rtl?this.endEdge:this.startEdge:this.beforeEdge},u.getBottomEdge=function(){return this.vertical?this.rtl?this.startEdge:this.endEdge:this.afterEdge},u.getLeftEdge=function(){return this.vertical?this.afterEdge:this.rtl?this.endEdge:this.startEdge},u.getRightEdge=function(){return this.vertical?this.beforeEdge:this.rtl?this.startEdge:this.endEdge},u.isFloatNodeContext=function(e){return!(!e.floatSide||this.isFloat&&!e.parent)},u.stopByOverflow=function(e){return this.stopAtOverflow&&!!e&&e.overflow},u.isOverflown=function(e){return this.vertical?e<this.footnoteEdge:e>this.footnoteEdge},u.getExclusions=function(){var e=this.pageFloatLayoutContext.getFloatFragmentExclusions();return this.exclusions.concat(e)},u.openAllViews=function(e){var t=this,n=ku("openAllViews"),u=e.steps;this.layoutContext.setViewRoot(this.element,this.isFootnote);var i=u.length-1,r=null;return n.loop((function(){for(;i>=0&&(r=ar(u[i],r),i!==u.length-1||r.formattingContext||(r.formattingContext=t.flowRootFormattingContext),0!=i||(r.offsetInNode=t.calculateOffsetInNodeForNodeContext(e),r.after=e.after,r.preprocessedTextContent=e.preprocessedTextContent,!r.after));){var n=t.layoutContext.setCurrent(r,0==i&&0==r.offsetInNode);if(i--,n.isPending())return n}return Iu(!1)})).then((function(){n.finish(r)})),n.result()},u.calculateOffsetInNodeForNodeContext=function(e){return e.preprocessedTextContent?Wi(e.preprocessedTextContent,e.offsetInNode,1):e.offsetInNode},u.maybePeelOff=function(e,t){if(e.firstPseudo&&e.inline&&!e.after&&0==e.firstPseudo.count&&1!=e.viewNode.nodeType){var n,u,i=e.viewNode.textContent,r=i.match(M),o=r?r[0].length:0;if(!r&&3===(null==(n=e.sourceNode)?void 0:n.nodeType)&&3===(null==(u=e.sourceNode.nextSibling)?void 0:u.nodeType)&&i===e.sourceNode.textContent){var a=i+e.sourceNode.nextSibling.textContent,s=a.match(M);if(s){var l=s[0];o=l.length,e.sourceNode.textContent=l,e.viewNode.textContent=l,e.sourceNode.nextSibling.textContent=a.substr(o)}}return this.layoutContext.peelOff(e,o)}return Iu(e)},u.buildViewToNextBlockEdge=function(e,t){var n=this,u=!1,i=ku("buildViewToNextBlockEdge");return i.loopWithFrame((function(i){e.viewNode&&!fs(e)&&t.push(e.copy()),n.maybePeelOff(e,0).then((function(r){r!==e&&(fs(e=r)||t.push(e.copy())),n.nextInTree(e).then((function(t){(e=t)?(!u&&n.layoutConstraint.allowLayout(e)||(u=!0,(e=e.modify()).overflow=!0),n.isFloatNodeContext(e)&&!n.vertical?n.layoutFloatOrFootnote(e).then((function(t){e=t,n.pageFloatLayoutContext.isInvalidated()&&(e=null),e?i.continueLoop():i.breakLoop()})):e.inline?i.continueLoop():i.breakLoop()):i.breakLoop()}))}))})).then((function(){i.finish(e)})),i.result()},u.nextInTree=function(e,t){return Ys(this.layoutContext.nextInTree(e,t),this)},u.buildDeepElementView=function(e){var t=this;if(!e.viewNode)return Iu(e);var n=[],u=e.sourceNode,i=ku("buildDeepElementView");return i.loopWithFrame((function(i){e.viewNode&&e.inline&&!fs(e)?n.push(e.copy()):(n.length>0&&t.postLayoutBlock(e,n),n=[]),t.maybePeelOff(e,0).then((function(r){var o=r;if(o!==e){for(var a=o;a&&a.sourceNode!=u;)a=a.parent;if(null==a)return e=o,void i.breakLoop();fs(o)||n.push(o.copy())}t.nextInTree(o).then((function(n){(e=n)&&e.sourceNode!=u?t.layoutConstraint.allowLayout(e)?i.continueLoop():((e=e.modify()).overflow=!0,t.stopAtOverflow?i.breakLoop():i.continueLoop()):i.breakLoop()}))}))})).then((function(){n.length>0&&t.postLayoutBlock(e,n),i.finish(e)})),i.result()},u.createFloat=function(e,t,n,u){var i=this.viewDocument.createElement("div");return this.vertical?(u>=this.height&&(u-=.1),te(i,"height",n+"px"),te(i,"width",u+"px")):(n>=this.width&&(n-=.1),te(i,"width",n+"px"),te(i,"height",u+"px")),te(i,"float",t),te(i,"clear",t),this.element.insertBefore(i,e),i},u.killFloats=function(){for(var e=this.element.firstChild;e;){var t=e.nextSibling;if(1==e.nodeType){var n=e,u=n.style.cssFloat;if("left"!=u&&"right"!=u&&"none"!==u)break;this.element.removeChild(n)}e=t}},u.createFloats=function(){for(var e,t=this.element.firstChild,n=this.bands,u=this.vertical?this.getTopEdge():this.getLeftEdge(),i=this.vertical?this.getBottomEdge():this.getRightEdge(),r=!1,o=_(n);!(e=o()).done;){var a=e.value,s=a.y2-a.y1;a.left=this.createFloat(t,"left",a.x1-u,s),a.right=this.createFloat(t,"right",i-a.x2,s),r||(a.x1>=i||a.x2<=u?te(a.right,"float","none"):r=!0)}},u.calculateEdge=function(e,t,n,u){var i;if(e&&cs(e.viewNode))return NaN;if(e&&e.after&&!e.inline&&(i=ss(e,this.clientLayout,0,this.vertical),!isNaN(i)))return i;for(var r=u-(e=t[n]).boxOffset;;){if(i=ss(e,this.clientLayout,r,this.vertical),!isNaN(i))return i;if(r>0)r--;else{if(--n<0)return this.beforeEdge;1!=(e=t[n]).viewNode.nodeType&&(r=e.viewNode.textContent.length)}}},u.parseComputedLength=function(e){if("number"==typeof e)return e;var t=e.match(/^(-?[0-9]*(\.[0-9]*)?)px$/);return t?parseFloat(t[0]):0},u.getComputedMargin=function(e){var t=this.clientLayout.getElementComputedStyle(e),n=new hn(0,0,0,0);return t&&(n.left=this.parseComputedLength(t.marginLeft),n.top=this.parseComputedLength(t.marginTop),n.right=this.parseComputedLength(t.marginRight),n.bottom=this.parseComputedLength(t.marginBottom)),n},u.getComputedPaddingBorder=function(e){var t=this.clientLayout.getElementComputedStyle(e),n=new hn(0,0,0,0);return t&&(n.left=this.parseComputedLength(t.borderLeftWidth)+this.parseComputedLength(t.paddingLeft),n.top=this.parseComputedLength(t.borderTopWidth)+this.parseComputedLength(t.paddingTop),n.right=this.parseComputedLength(t.borderRightWidth)+this.parseComputedLength(t.paddingRight),n.bottom=this.parseComputedLength(t.borderBottomWidth)+this.parseComputedLength(t.paddingBottom)),n},u.getComputedInsets=function(e){var t=this.clientLayout.getElementComputedStyle(e),n=new hn(0,0,0,0);if(t){if("border-box"==t.boxSizing)return this.getComputedMargin(e);n.left=this.parseComputedLength(t.marginLeft)+this.parseComputedLength(t.borderLeftWidth)+this.parseComputedLength(t.paddingLeft),n.top=this.parseComputedLength(t.marginTop)+this.parseComputedLength(t.borderTopWidth)+this.parseComputedLength(t.paddingTop),n.right=this.parseComputedLength(t.marginRight)+this.parseComputedLength(t.borderRightWidth)+this.parseComputedLength(t.paddingRight),n.bottom=this.parseComputedLength(t.marginBottom)+this.parseComputedLength(t.borderBottomWidth)+this.parseComputedLength(t.paddingBottom)}return n},u.setComputedInsets=function(e,t){var n=this.clientLayout.getElementComputedStyle(e);n&&(t.marginLeft=this.parseComputedLength(n.marginLeft),t.borderLeft=this.parseComputedLength(n.borderLeftWidth),t.paddingLeft=this.parseComputedLength(n.paddingLeft),t.marginTop=this.parseComputedLength(n.marginTop),t.borderTop=this.parseComputedLength(n.borderTopWidth),t.paddingTop=this.parseComputedLength(n.paddingTop),t.marginRight=this.parseComputedLength(n.marginRight),t.borderRight=this.parseComputedLength(n.borderRightWidth),t.paddingRight=this.parseComputedLength(n.paddingRight),t.marginBottom=this.parseComputedLength(n.marginBottom),t.borderBottom=this.parseComputedLength(n.borderBottomWidth),t.paddingBottom=this.parseComputedLength(n.paddingBottom))},u.setComputedWidthAndHeight=function(e,t){var n=this.clientLayout.getElementComputedStyle(e);n&&(t.width=this.parseComputedLength(n.width),t.height=this.parseComputedLength(n.height))},u.layoutUnbreakable=function(e){return this.buildDeepElementView(e)},u.layoutFloat=function(e){var t=this,n=ku("layoutFloat"),u=e.viewNode,i=function(e,t,n){var u=t?"vertical-rl":"horizontal-tb";if("top"!==e&&"bottom"!==e||(e=ba(e,u,n)),"block-start"===e&&(e="inline-start"),"block-end"===e&&(e="inline-end"),"inline-start"===e||"inline-end"===e){var i=function(e,t){var n=Sa[t];if(!n)throw new Error("unknown writing-mode: "+t);for(var u=0;u<n.length;u++)if(n[u].physical===e)return n[u].logical;return e}(ya(e,u,n),u);"line-left"===i?e="left":"line-right"===i&&(e="right")}return"left"!==e&&"right"!==e&&(f.warn("Invalid float value: "+e+". Fallback to left."),e="left"),e}(e.floatSide,e.vertical,e.direction);return te(u,"float","none"),te(u,"display","inline-block"),te(u,"vertical-align","top"),this.buildDeepElementView(e).then((function(r){for(var o=t.clientLayout.getElementClientRect(u),a=t.getComputedMargin(u),s=new cn(o.left-a.left,o.top-a.top,o.right+a.right,o.bottom+a.bottom),l=t.rtl?t.endEdge:t.startEdge,c=t.rtl?t.startEdge:t.endEdge,D=e.parent;D&&D.inline;)D=D.parent;if(D){var h=D.viewNode.ownerDocument.createElement("div");h.style.left="0px",h.style.top="0px",t.vertical?(h.style.bottom="0px",h.style.width="1px"):(h.style.right="0px",h.style.height="1px"),D.viewNode.appendChild(h);var f=t.clientLayout.getElementClientRect(h);l=Math.max(t.rtl?t.getEndEdge(f):t.getStartEdge(f),l),c=Math.min(t.rtl?t.getStartEdge(f):t.getEndEdge(f),c),D.viewNode.removeChild(h);var d=t.vertical?s.y2-s.y1:s.x2-s.x1;"left"==i?c=Math.max(c,l+d):l=Math.min(l,c-d),e.firstPseudo||D.viewNode.appendChild(e.viewNode)}var p=new cn(l,t.getBoxDir()*t.beforeEdge,c,t.getBoxDir()*t.afterEdge),E=s;t.vertical&&(E=Bn(s));var C=t.getBoxDir();if(E.y1<t.bottommostFloatTop*C){var g=E.y2-E.y1;E.y1=t.bottommostFloatTop*C,E.y2=E.y1+g}!function(e,t,n,u){for(var i=n.y1,r=n.x2-n.x1,o=n.y2-n.y1,a=Nn(t,i);;){var s=i+o;if(s>e.y2)return!1;for(var l=e.x1,c=e.x2,D=a;D<t.length&&t[D].y1<s;D++){var h=t[D];h.x1>l&&(l=h.x1),h.x2<c&&(c=h.x2)}if(l+r<=c||a>=t.length)return"left"==u?(n.x1=l,n.x2=l+r):(n.x1=c-r,n.x2=c),n.y2+=i-n.y1,n.y1=i,!0;i=t[a].y2,a++}}(p,t.bands,E,i),t.vertical&&(s=bn(E));var F,v=t.getComputedInsets(u);te(u,"width",s.x2-s.x1-v.left-v.right+"px"),te(u,"height",s.y2-s.y1-v.top-v.bottom+"px"),te(u,"position","absolute"),te(u,"display",e.display);var m=null;if(D&&(m=D.containingBlockForAbsolute?D:D.getContainingBlockForAbsolute()),m){var A=m.viewNode.ownerDocument.createElement("div");A.style.position="absolute",m.vertical?A.style.right="0":A.style.left="0",A.style.top="0",m.viewNode.appendChild(A),F=t.clientLayout.getElementClientRect(A),m.viewNode.removeChild(A)}else F={left:t.getLeftEdge()-t.paddingLeft,right:t.getRightEdge()+t.paddingRight,top:t.getTopEdge()-t.paddingTop};(m?m.vertical:t.vertical)?te(u,"right",F.right-s.x2+"px"):te(u,"left",s.x1-F.left+"px"),te(u,"top",s.y1-F.top+"px"),e.clearSpacer&&(e.clearSpacer.parentNode.removeChild(e.clearSpacer),e.clearSpacer=null);var y=t.vertical?s.x1:s.y2,B=t.vertical?s.x2:s.y1;t.isOverflown(y)&&0!=t.breakPositions.length?((e=e.modify()).overflow=!0,n.finish(e)):(t.killFloats(),p=new cn(t.getLeftEdge(),t.getTopEdge(),t.getRightEdge(),t.getBottomEdge()),t.vertical&&(p=Bn(p)),function(e,t,n,u,i){for(u||(u=[new dn(n.y1,n.y2,n.x1,n.x2)]);u.length>0&&u[0].y2<=e.y1;)u.shift();if(0!=u.length){var r;u[0].y1<e.y1&&(u[0].y1=e.y1);var o=0==t.length?e.y1:t[t.length-1].y2;o<e.y2&&t.push(new dn(o,e.y2,e.x1,e.x2));for(var a,s=Nn(t,u[0].y1),l=_(u);!(a=l()).done;){var c=a.value;if(s==t.length)break;for(t[s].y1<c.y1&&(r=t[s],s++,t.splice(s,0,new dn(c.y1,r.y2,r.x1,r.x2)),r.y2=c.y1);s<t.length&&((r=t[s++]).y2>c.y2&&(t.splice(s,0,new dn(c.y2,r.y2,r.x1,r.x2)),r.y2=c.y2),c.x1!=c.x2&&("left"==i?r.x1=Math.min(c.x2,e.x2):r.x2=Math.max(c.x1,e.x1)),r.y2!=c.y2););}Sn(e,t)}}(p,t.bands,E,null,i),t.createFloats(),"left"==i?t.leftFloatEdge=y:t.rightFloatEdge=y,t.bottommostFloatTop=B,t.updateMaxReachedAfterEdge(y),n.finish(r))})),n.result()},u.setupFloatArea=function(e,t,n,u,i,r){var o=this.pageFloatLayoutContext,a=o.getContainer(t),s=e.element;a.element.parentNode.appendChild(s),e.isFloat=!0,e.originX=a.originX,e.originY=a.originY,e.vertical=a.vertical,e.rtl=a.rtl,e.marginLeft=e.marginRight=e.marginTop=e.marginBottom=0,e.borderLeft=e.borderRight=e.borderTop=e.borderBottom=0,e.paddingLeft=e.paddingRight=e.paddingTop=e.paddingBottom=0,e.exclusions=(a.exclusions||[]).concat(),e.forceNonfitting=!o.hasFloatFragments(),e.innerShape=null;var l=a.getPaddingRect();e.setHorizontalPosition(l.x1-a.originX,l.x2-l.x1),e.setVerticalPosition(l.y1-a.originY,l.y2-l.y1),i.adjustPageFloatArea(e,a,this),e.init();var c=!!o.setFloatAreaDimensions(e,t,n,u,!0,!o.hasFloatFragments(),r);return c?(e.killFloats(),e.init()):a.element.parentNode.removeChild(s),c},u.createPageFloatArea=function(e,t,n,u,i){var r=this.element.ownerDocument.createElement("div");te(r,"position","absolute");var o=this.pageFloatLayoutContext.getPageFloatLayoutContext(e.floatReference),a=new La(null,xa.COLUMN,null,this.pageFloatLayoutContext.flowName,e.nodePosition,null,null),s=o.getContainer(),l=new rl(t,r,this.layoutContext.clone(),this.clientLayout,this.layoutConstraint,a,s);return a.setContainer(l),this.setupFloatArea(l,e.floatReference,t,n,u,i)?l:null},u.layoutSinglePageFloatFragment=function(e,t,n,u,i,r,o){var a=this.pageFloatLayoutContext,s=(e=(o?o.continuations:[]).concat(e))[0].float,l=a.getPageFloatPlacementCondition(s,t,n),c=this.createPageFloatArea(s,t,r,i,l),D={floatArea:c,pageFloatFragment:null,newPosition:null};if(!c)return Iu(D);var h=ku("layoutSinglePageFloatFragment"),f=!1,d=0;return h.loopWithFrame((function(t){if(d>=e.length)t.breakLoop();else{var n=new fr(e[d].nodePosition);c.layout(n,!0).then((function(e){D.newPosition=e,!e||u?(d++,t.continueLoop()):(f=!0,t.breakLoop())}))}})).then((function(){if(!f){var n=a.setFloatAreaDimensions(c,s.floatReference,t,r,!1,u,l);if(n){var o=i.createPageFloatFragment(e,n,c,!!D.newPosition);a.addPageFloatFragment(o,!0),D.pageFloatFragment=o}else f=!0}h.finish(D)})),h.result()},u.layoutPageFloatInner=function(e,t,n,u){var i=this,r=this.pageFloatLayoutContext,o=e.float;function a(t,n){n?r.removePageFloatFragment(n,!0):t&&t.element.parentNode.removeChild(t.element),r.restoreStashedFragments(o.floatReference),r.deferPageFloat(e)}r.stashEndFloatFragments(o);var s=ku("layoutPageFloatInner");return this.layoutSinglePageFloatFragment([e],o.floatSide,o.clearSide,!r.hasFloatFragments(),t,n,u).then((function(e){var t=e.floatArea,n=e.pageFloatFragment,l=e.newPosition;n?i.layoutStashedPageFloats(o.floatReference,[u]).then((function(e){if(e){if(r.addPageFloatFragment(n),r.discardStashedFragments(o.floatReference),l){var u=new Ra(o,l.primary);r.deferPageFloat(u)}s.finish(!0)}else a(t,n),s.finish(!1)})):(a(t,n),s.finish(!1))})),s.result()},u.layoutStashedPageFloats=function(e,t){var n=this,u=this.pageFloatLayoutContext,i=u.getStashedFloatFragments(e),r=[],o=[],a=!1,s=ku("layoutStashedPageFloats"),l=0;return s.loopWithFrame((function(e){if(l>=i.length)e.breakLoop();else{var u=i[l];if(t.includes(u))return l++,void e.continueLoop();var s=(new _a).findByFloat(u.continuations[0].float);n.layoutSinglePageFloatFragment(u.continuations,u.floatSide,null,!1,s,null).then((function(t){var n=t.floatArea;n&&r.push(n);var u=t.pageFloatFragment;u?(o.push(u),l++,e.continueLoop()):(a=!0,e.breakLoop())}))}})).then((function(){a?(o.forEach((function(e){u.removePageFloatFragment(e,!0)})),r.forEach((function(e){var t=e.element;t&&t.parentNode&&t.parentNode.removeChild(t)}))):i.forEach((function(e){var t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)})),s.finish(!a)})),s.result()},u.setFloatAnchorViewNode=function(e){var t=e.viewNode.parentNode,n=t.ownerDocument.createElement("span");n.setAttribute("data-adapt-spec","1"),"footnote"===e.floatSide&&this.layoutContext.applyPseudoelementStyle(e,"footnote-call",n),t.appendChild(n),t.removeChild(e.viewNode);var u=e.modify();return u.after=!0,u.viewNode=n,u},u.resolveFloatReferenceFromColumnSpan=function(e,t,n){var u=this,i=ku("resolveFloatReferenceFromColumnSpan"),r=this.pageFloatLayoutContext,o=r.getPageFloatLayoutContext(xa.REGION);return r.getContainer().width<o.getContainer().width&&e===xa.COLUMN?t===Jt.auto?this.buildDeepElementView(n.copy()).then((function(t){var n=t.viewNode,r=Na(u.clientLayout,n,[wa.MIN_CONTENT_INLINE_SIZE])[wa.MIN_CONTENT_INLINE_SIZE],o=u.getComputedMargin(n);i.finish((r+=u.vertical?o.top+o.bottom:o.left+o.right)>u.width?xa.REGION:e)})):i.finish(t===Jt.all?xa.REGION:e):i.finish(e),i.result()},u.layoutPageFloat=function(e){var t=this,n=this.pageFloatLayoutContext,u=(new _a).findByNodeContext(e),i=n.findPageFloatByNodePosition(e.toNodePosition());return(i?Iu(i):u.createPageFloat(e,n,this)).thenAsync((function(i){var r=or(e,0),o=t.setFloatAnchorViewNode(e),a=u.findPageFloatFragment(i,n),s=new Ra(i,r);if(a&&a.hasFloat(i))return n.registerPageFloatAnchor(i,o.viewNode),Iu(o);if(n.isForbidden(i)||n.hasPrecedingFloatsDeferredToNext(i))return n.deferPageFloat(s),n.registerPageFloatAnchor(i,o.viewNode),Iu(o);if(t.nodeContextOverflowingDueToRepetitiveElements)return Iu(null);var l=ss(o,t.clientLayout,0,t.vertical);return t.isOverflown(l)?Iu(o):t.layoutPageFloatInner(s,u,l,a).thenAsync((function(e){return e?Iu(null):(n.registerPageFloatAnchor(i,o.viewNode),Iu(o))}))}))},u.processLineStyling=function(e,t,n){var u=this,i=ku("processLineStyling"),r=n.concat([]);n.splice(0,n.length);var o=0,a=e.firstPseudo;return 0==a.count&&(a=a.outer),i.loopWithFrame((function(n){if(a){var i=u.findLinePositions(r),s=a.count-o;if(i.length<=s)n.breakLoop();else{var l=u.findAcceptableBreakInside(r,i[s-1],!0);null!=l?u.finishBreak(l,!1,!1).then((function(){o+=s,u.layoutContext.peelOff(l,0).then((function(i){a=(e=i).firstPseudo,u.buildViewToNextBlockEdge(e,r=[]).then((function(e){t=e,n.continueLoop()}))}))})):n.breakLoop()}}else n.breakLoop()})).then((function(){Array.prototype.push.apply(n,r),i.finish(t)})),i.result()},u.isLoneImage=function(e){return!(2!=e.length&&this.breakPositions.length>0)&&e[0].sourceNode==e[1].sourceNode&&Ks[e[0].sourceNode.localName]},u.getTrailingMarginEdgeAdjustment=function(e){for(var t=0,n=0,u=e.length-1;u>=0;u--){var i=e[u];if(!i.after||!i.viewNode||1!=i.viewNode.nodeType)break;var r=this.getComputedMargin(i.viewNode),o=this.vertical?-r.left:r.bottom;o>0?t=Math.max(t,o):n=Math.min(n,o)}return t+n},u.layoutBreakableBlock=function(e){var t=this,n=ku("layoutBreakableBlock"),u=[];return this.buildViewToNextBlockEdge(e,u).then((function(i){var r=u.length-1;if(r<0)n.finish(i);else{t.postLayoutBlock(i,u);var o=t.calculateEdge(i,u,r,u[r].boxOffset),a=!1;if(!i||!cs(i.viewNode)){var s=ps(i,t.collectElementsOffset());a=t.isOverflown(o+(t.vertical?-1:1)*s.minimum),t.isOverflown(o+(t.vertical?-1:1)*s.current)&&!t.nodeContextOverflowingDueToRepetitiveElements&&(t.nodeContextOverflowingDueToRepetitiveElements=i)}null==i&&(o+=t.getTrailingMarginEdgeAdjustment(u)),t.updateMaxReachedAfterEdge(o),(e.firstPseudo?t.processLineStyling(e,i,u):Iu(i)).then((function(e){u.length>0&&(t.saveBoxBreakPosition(u),a&&!t.isLoneImage(u)&&e&&((e=e.modify()).overflow=!0)),n.finish(e)}))}})),n.result()},u.postLayoutBlock=function(e,n){var u=this;C(t.cF.POST_LAYOUT_BLOCK).forEach((function(t){t(e,n,u)}))},u.findEndOfLine=function(e,t,n){for(var u,i=this.vertical?e-1:e+1,r=0,o=t[0].boxOffset,a=r,s=t.length-1,l=t[s].boxOffset;o<l;){u=o+Math.ceil((l-o)/2),a=r;for(var c=s;a<c;){var D=a+Math.ceil((c-a)/2);t[D].boxOffset>u?c=D-1:a=D}var h=this.calculateEdge(null,t,a,u);if(this.vertical?h<=i:h>=i){for(l=u-1;t[a].boxOffset==u;)a--;s=a}else n&&this.updateMaxReachedAfterEdge(h),o=u,r=a}return{nodeContext:t[a],index:o,checkPointIndex:a}},u.findAcceptableBreakInside=function(e,t,n){var u,i=this.findEndOfLine(t,e,!0),r=i.nodeContext,o=r.viewNode;if(1!=o.nodeType&&"viv-ts-inner"!==(null==(u=o.parentElement)?void 0:u.localName)){var a=o;r=this.resolveTextNodeBreaker(r).breakTextNode(a,r,i.index,e,i.checkPointIndex,n)}else{var s=function(e){for(var t=e.parent;t;t=t.parent)if("inline"!==t.display&&os(t.display))return t;return null}(r);s&&(r=s)}return this.clearOverflownViewNodes(r,!1),r},u.resolveTextNodeBreaker=function(e){return C(t.cF.RESOLVE_TEXT_NODE_BREAKER).reduce((function(t,n){return n(e)||t}),tl.instance)},u.getRangeBoxes=function(e,t){for(var n,u=[],i=e.ownerDocument.createRange(),r=!1,o=e,a=null,s=!1,l=!0;l;){var c=!0;do{var D=null;o==t&&(l=1===t.nodeType&&!(!t.firstChild||r));var h=1===o.nodeType?o:null;h?r?r=!1:hs(h)?c=!s:/^r(uby|[bt]c?)$/.test(h.localName)||"inline"!==(n=this.clientLayout.getElementComputedStyle(h).display)&&(os(n)||as(n))?((c=!s)&&("ruby"===h.localName&&o.firstChild&&(o=o.firstChild),i.setStartBefore(o),s=!0,a=o),o.contains(t)&&(l=!1)):D=o.firstChild:(s||(null==o.parentNode?l=!1:(i.setStartBefore(o),s=!0)),a=o),D||(D=o.nextSibling)||(r=!0,D=o.parentNode),o=D}while(c&&l);if(s){i.setEndAfter(a);for(var f=this.clientLayout.getRangeClientRects(i),d=0;d<f.length;d++)u.push(f[d]);s=!1}}return u},u.findLinePositions=function(e){var t=[],n=this.getRangeBoxes(e[0].viewNode,e[e.length-1].viewNode);n.sort(this.vertical?ur:nr);for(var u=0,i=0,r=0,o=0,a=0,s=this.getBoxDir();;){if(a<n.length){var l=n[a],c=1;if(o>0){var D=Math.max(this.getBoxSize(l),1);c=s*this.getBeforeEdge(l)<s*u?s*(this.getAfterEdge(l)-u)/D:s*this.getAfterEdge(l)>s*i?s*(i-this.getBeforeEdge(l))/D:1}if(0==o||c>=.6||c>=.2&&this.getStartEdge(l)>=r-1){r=this.getEndEdge(l),this.vertical?(u=0==o?l.right:Math.max(u,l.right),i=0==o?l.left:Math.min(i,l.left)):(u=0==o?l.top:Math.min(u,l.top),i=0==o?l.bottom:Math.max(i,l.bottom)),o++,a++;continue}}if(o>0&&(t.push(i),o=0),a>=n.length)break}return t.sort(fe),this.vertical&&t.reverse(),t},u.calculateClonedPaddingBorder=function(e){for(var t=0,n=e;n;n=n.parent)if(!n.inline&&Ha(n.viewNode)){var u=this.getComputedPaddingBorder(n.viewNode);t+=n.vertical?-u.left:u.bottom,"table"===n.display&&(t+=n.blockBorderSpacing)}return t},u.getOffsetByRepetitiveElements=function(e){return(e?e.calculateOffset(this):ps(null,this.collectElementsOffset())).current},u.findBoxBreakPosition=function(e,t){var n,u=this,i=this.element.parentNode,r=this.element.nextSibling;i.removeChild(this.element),i.insertBefore(this.element,r);for(var o,a,s=e.checkPoints,l=s[0];l.parent&&l.inline;)l=l.parent;t?(o=1,a=1):(o=Math.max((l.inheritedProps.widows||2)-0,1),a=Math.max((l.inheritedProps.orphans||2)-0,1));var c=this.calculateClonedPaddingBorder(l),D=this.findLinePositions(s),h=this.footnoteEdge-c,f=this.getBoxDir(),d=this.getOffsetByRepetitiveElements(e);h-=f*d;var p=this.findFirstOverflowingEdgeAndCheckPoint(s);isNaN(p.edge)&&(p.edge=1/0*f);var E=he(D.length,(function(e){var t=D[e];return u.vertical?t<h||t<=p.edge:t>h||t>=p.edge})),C=E<=0;C&&(E=he(D.length,(function(e){return u.vertical?D[e]<h:D[e]>h})));var g,F=s.at(-1).viewNode;if("viv-ts-inner"===(null==(n=F)?void 0:n.parentElement.localName)&&(F=F.parentElement.parentElement),(E===D.length&&F.nextSibling||E>=D.length-1&&F.parentElement.querySelector(".MJXc-display"))&&(o=0),(E=Math.min(D.length-o,E))<a)return null;if(h=D[E-1],g=C?p.checkPoint:this.findAcceptableBreakInside(e.checkPoints,h,t)){var v=this.getAfterEdgeOfBlockContainer(g);!isNaN(v)&&v<h&&(h=v),this.computedBlockSize=f*(h-this.beforeEdge)+d}return g},u.getAfterEdgeOfBlockContainer=function(e){var t=e;do{t=t.parent}while(t&&t.inline);return t?((t=t.copy().modify()).after=!0,ss(t,this.clientLayout,0,this.vertical)):NaN},u.findFirstOverflowingEdgeAndCheckPoint=function(e){var t=e.findIndex((function(e){return e.overflow}));if(t<0)return{edge:NaN,checkPoint:null};var n=e[t];return{edge:this.calculateEdge(null,e,t,n.boxOffset),checkPoint:n}},u.findEdgeBreakPosition=function(e){return this.computedBlockSize=e.computedBlockSize+this.getOffsetByRepetitiveElements(e),e.position},u.finishBreak=function(e,t,n){var u=(new Cs).find(e.formattingContext).finishBreak(this,e,t,n);return u||(u=vs.finishBreak(this,e,t,n)),u},u.findAcceptableBreakPosition=function(){var e=null,t=null,n=0,u=0;do{n=u,u=Number.MAX_VALUE;for(var i=this.breakPositions.length-1;i>=0&&!t;--i){t=(e=this.breakPositions[i]).findAcceptableBreak(this,n);var r=e.getMinBreakPenalty();r>n&&(u=Math.min(u,r))}}while(u>n&&!t&&this.forceNonfitting);return{breakPosition:t?e:null,nodeContext:t}},u.doFinishBreak=function(e,t,n,u){var i=this;if(this.pageFloatLayoutContext.isInvalidated()||this.pageBreakType||!t)return Iu(e);var r=ku("doFinishBreak"),o=!1;if(!e){if(this.forceNonfitting)return f.warn("Could not find any page breaks?!!"),this.skipTailEdges(t).then((function(e){e?((e=e.modify()).overflow=!1,i.finishBreak(e,o,!0).then((function(){r.finish(e)}))):r.finish(e)})),r.result();e=n,o=!0,this.computedBlockSize=u}return this.finishBreak(e,o,!0).then((function(){r.finish(e)})),r.result()},u.isBreakable=function(e){return!!e.after||e.sourceNode.namespaceURI!==W.SVG&&!e.flexContainer},u.zeroIndent=function(e){var t=e.toString();return""==t||"auto"==t||!!t.match(/^0+(.0*)?[^0-9]/)},u.checkOverflowAndSaveEdge=function(e,t){if(!e)return!1;if(cs(e.viewNode))return!1;var n=ss(e,this.clientLayout,0,this.vertical),u=ps(e,this.collectElementsOffset()),i=this.isOverflown(n+(this.vertical?-1:1)*u.minimum);if(this.isOverflown(n+(this.vertical?-1:1)*u.current)&&!this.nodeContextOverflowingDueToRepetitiveElements)this.nodeContextOverflowingDueToRepetitiveElements=e;else if(t){var r=n+this.getTrailingMarginEdgeAdjustment(t),o=this.footnoteEdge-this.getBoxDir()*u.current;n=this.vertical?Math.min(n,Math.max(r,o)):Math.max(n,Math.min(r,o))}return this.updateMaxReachedAfterEdge(n),i},u.checkOverflowAndSaveEdgeAndBreakPosition=function(e,t,n,u){if(!e)return!1;if(cs(e.viewNode))return!1;var i=this.checkOverflowAndSaveEdge(e,t);return!n&&i||this.saveEdgeBreakPosition(e,u,i),i},u.applyClearance=function(e){if(!e.viewNode.parentNode)return!1;var t=this.getComputedMargin(e.viewNode),n=e.viewNode.ownerDocument.createElement("div");this.vertical?(n.style.bottom="0px",n.style.width="1px",n.style.marginRight=t.right+"px"):(n.style.right="0px",n.style.height="1px",n.style.marginTop=t.top+"px"),e.viewNode.parentNode.insertBefore(n,e.viewNode);var u=this.clientLayout.getElementClientRect(n),i=this.getBeforeEdge(u),r=this.getBoxDir(),o=e.clearSide,a=1/0*-this.getBoxDir();switch("all"===o&&(a=this.pageFloatLayoutContext.getPageFloatClearEdge(o,this)),o){case"left":a=r*Math.max(a*r,this.leftFloatEdge*r);break;case"right":a=r*Math.max(a*r,this.rightFloatEdge*r);break;default:a=r*Math.max(a*r,Math.max(this.rightFloatEdge*r,this.leftFloatEdge*r))}if(i*r>=a*r)return e.viewNode.parentNode.removeChild(n),!1;var s=Math.max(1,(a-i)*r);this.vertical?n.style.width=s+"px":n.style.height=s+"px",u=this.clientLayout.getElementClientRect(n);var l=this.getAfterEdge(u);if(!e.floatSide)if(this.vertical){var c=l+t.right-a;c>0==t.right>=0&&(c+=t.right),n.style.marginLeft=c+"px"}else{var D=a-(l+t.top);D>0==t.top>=0&&(D+=t.top),n.style.marginBottom=D+"px"}return e.clearSpacer=n,!0},u.isBFC=function(e){return!!ms(e)||!!Ui.isInstanceOfRepetitiveElementsOwnerFormattingContext(e)},u.skipEdges=function(e,t,n){var u,i=this,r=e.after?null==(u=e.parent)?void 0:u.formattingContext:e.formattingContext;if(r&&!this.isBFC(r))return Iu(e);var o=ku("skipEdges"),a=!n&&t&&e&&e.after,s=n,l=null,c=[],D=[],h=!1;function f(){return!!n||!t&&qa(s)}var d=function(){(e=c[0]||e).viewNode.parentNode.removeChild(e.viewNode),i.pageBreakType=s};return o.loopWithFrame((function(n){for(;e;){var u=(new Cs).find(e.formattingContext);do{if(!e.viewNode)break;if(e.inline&&1!=e.viewNode.nodeType){if(Ji(e.viewNode,e.whitespace))break;if(!e.after)return f()?d():i.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,s)?(e=(i.stopAtOverflow&&l||e).modify()).overflow=!0:(e=e.modify()).breakBefore=s,void n.breakLoop()}if(!e.after){if(e.floatSide&&(i.breakAtTheEdgeBeforeFloat=Za(s)?s:null),u&&u.startNonInlineElementNode(e))break;if(e.clearSide&&i.applyClearance(e)&&t&&0===i.breakPositions.length&&i.saveEdgeBreakPosition(e.copy(),s,!1),!i.isBFC(e.formattingContext)||Ui.isInstanceOfRepetitiveElementsOwnerFormattingContext(e.formattingContext)||i.isFloatNodeContext(e)||e.flexContainer)return c.push(e.copy()),s=Ja(s,e.breakBefore),f()?d():!i.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,s)&&i.layoutConstraint.allowLayout(e)||((e=(i.stopAtOverflow&&l||e).modify()).overflow=!0),void n.breakLoop()}if(1!=e.viewNode.nodeType)break;var r=e.viewNode.style;if(e.after){var o;e.floatSide&&(s=null!=(o=s)?o:i.breakAtTheEdgeBeforeFloat,i.breakAtTheEdgeBeforeFloat=null);var p=e.sourceNode;if("svg"===p.localName||"math"===p.localName||"true"===p.getAttribute("data-math-typeset")){h=!1,l=e.copy(),D.push(l),s=Ja(null,e.breakAfter),i.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!i.stopAtOverflow,s);break}if(e.inline)break;if(u&&u.afterNonInlineElementNode(e,i.stopAtOverflow))break;if(h){if(f())return d(),void n.breakLoop();c=[],t=!1,a=!1,s=null}h=!1,l=e.copy(),D.push(l),s=Ja(s,e.breakAfter),!r||i.zeroIndent(r.paddingBottom)&&i.zeroIndent(r.borderBottomWidth)||(D=[l])}else{var E;if(c.push(e.copy()),s=Ja(s,e.breakBefore),!(e.pageType==(null==(E=e.parent)?void 0:E.pageType)&&qa(s)||i.layoutConstraint.allowLayout(e))&&(i.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!i.stopAtOverflow,s),(e=e.modify()).overflow=!0,i.stopAtOverflow))return void n.breakLoop();if(Ks[e.viewNode.localName])return f()?d():i.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,s)&&((e=(i.stopAtOverflow&&l||e).modify()).overflow=!0),void n.breakLoop();!r||i.zeroIndent(r.paddingTop)&&i.zeroIndent(r.borderTopWidth)||(a=!1,D=[]),h=!0}}while(0);var C=i.nextInTree(e,a);if(C.isPending())return void C.then((function(t){e=t,n.continueLoop()}));e=C.get()}i.checkOverflowAndSaveEdgeAndBreakPosition(l,D,!i.stopAtOverflow,s)?l&&i.stopAtOverflow&&((e=l.modify()).overflow=!0):qa(s)&&(i.pageBreakType=s),n.breakLoop()})).then((function(){l&&(i.lastAfterPosition=l.toNodePosition()),o.finish(e)})),o.result()},u.skipTailEdges=function(e){var t=this,n=e.copy(),u=ku("skipEdges"),i=null,r=!1;return u.loopWithFrame((function(u){for(;e;){do{if(!e.viewNode)break;if(e.inline&&1!=e.viewNode.nodeType){if(Ji(e.viewNode,e.whitespace))break;if(!e.after)return qa(i)&&(t.pageBreakType=i),void u.breakLoop()}if(!e.after&&(t.isFloatNodeContext(e)||e.flexContainer))return qa(i=Ja(i,e.breakBefore))&&(t.pageBreakType=i),void u.breakLoop();if(1!=e.viewNode.nodeType)break;var o=e.viewNode.style;if(e.after){if(r){if(qa(i))return t.pageBreakType=i,void u.breakLoop();i=null}r=!1,i=Ja(i,e.breakAfter)}else{if(i=Ja(i,e.breakBefore),Ks[e.viewNode.localName])return qa(i)&&(t.pageBreakType=i),void u.breakLoop();if(o&&(!t.zeroIndent(o.paddingTop)||!t.zeroIndent(o.borderTopWidth)))return void u.breakLoop()}r=!0}while(0);var a=t.layoutContext.nextInTree(e);if(a.isPending())return void a.then((function(t){e=t,u.continueLoop()}));e=a.get()}n=null,u.breakLoop()})).then((function(){u.finish(n)})),u.result()},u.layoutFloatOrFootnote=function(e){return Ta(e.floatReference)||"footnote"===e.floatSide?this.layoutPageFloat(e):this.layoutFloat(e)},u.layoutNext=function(e,t,n){var u=this,i=ku("layoutNext");return this.skipEdges(e,t,n||null).then((function(n){if(!(e=n)||u.pageBreakType||u.stopByOverflow(e))i.finish(e);else{var r=e.formattingContext;(new Cs).find(r).layout(e,u,t).thenFinish(i)}})),i.result()},u.clearOverflownViewNodes=function(e,t){if(e)for(var n=e.parent;e;e=n,n=n?n.parent:null){var u=(n||e).formattingContext;(new Cs).find(u).clearOverflownViewNodes(this,n,e,t),t=!1}},u.initGeom=function(){var e=this.element.ownerDocument.createElement("div");e.style.position="absolute",e.style.top=this.paddingTop+"px",e.style.right=this.paddingRight+"px",e.style.bottom=this.paddingBottom+"px",e.style.left=this.paddingLeft+"px",this.element.appendChild(e);var t=this.clientLayout.getElementClientRect(e);this.element.removeChild(e);var n=this.originX+this.left+this.getInsetLeft(),u=this.originY+this.top+this.getInsetTop();this.box=new cn(n,u,n+this.width,u+this.height),this.startEdge=t?this.vertical?this.rtl?t.bottom:t.top:this.rtl?t.right:t.left:0,this.endEdge=t?this.vertical?this.rtl?t.top:t.bottom:this.rtl?t.left:t.right:0,this.beforeEdge=t?this.vertical?t.right:t.top:0,this.afterEdge=t?this.vertical?t.left:t.bottom:0,this.leftFloatEdge=this.beforeEdge,this.rightFloatEdge=this.beforeEdge,this.bottommostFloatTop=this.beforeEdge,this.footnoteEdge=this.afterEdge,this.bands=function(e,t,n,u,i,r){r&&(e=Bn(e),t=t.map((function(e){return wn(e)})),n=n.map((function(e){return wn(e)})));var o,a,s,l=t.length,c=n?n.length:0,D=[],h=[];for(o=0;o<l;o++)t[o].addSegments(h,o);for(o=0;o<c;o++)n[o].addSegments(h,o+l);var f=h.length;h.sort(pn);for(var d=0;h[d].shapeId>=l;)d++;var p=h[d].low.y;p>e.y1&&D.push(new dn(e.y1,p,e.x2,e.x2));for(var E,C,g=0,F=[];g<f&&(s=h[g]).low.y<p;)s.high.y>p&&F.push(s),g++;for(;g<f||F.length>0;){var v=e.y2,m=Math.min((E=Math.ceil(p+8),(C=i)?Math.ceil(E/C)*C:E),e.y2);for(a=0;a<F.length&&v>m;a++)(s=F[a]).low.x==s.high.x?s.high.y<v&&(v=Math.max(yn(s.high.y,i),m)):s.low.x!=s.high.x&&(v=m);for(v>e.y2&&(v=e.y2);g<f&&(s=h[g]).low.y<v;)if(s.high.y<p)g++;else{if(!(s.low.y<m)){var A=yn(s.low.y,i);A<v&&(v=A);break}s.low.y==s.high.y&&s.low.y==p||(F.push(s),v=m),g++}var y=[];for(a=0;a<F.length;a++)mn(y,F[a],p,v);y.sort((function(e,t){return e.x-t.x||e.lowOrHigh-t.lowOrHigh}));var B=An(y,l,c);if(0==B.length)D.push(new dn(p,v,e.x2,e.x2));else{var b=0,w=e.x1;for(a=0;a<B.length;a+=2){var S=Math.max(e.x1,B[a]),N=Math.min(e.x2,B[a+1])-S;N>b&&(b=N,w=S)}D.push(0==b?new dn(p,v,e.x2,e.x2):new dn(p,v,Math.max(w,e.x1),Math.min(w+b,e.x2)))}if(v==e.y2)break;for(p=v,a=F.length-1;a>=0;a--)F[a].high.y<=v&&F.splice(a,1)}return Sn(e,D),D}(this.box,[this.getInnerShape()],this.getExclusions(),0,this.snapHeight,this.vertical),this.createFloats()},u.init=function(){this.chunkPositions=[],te(this.element,"width",this.width+"px"),te(this.element,"height",this.height+"px"),this.initGeom(),this.computedBlockSize=0,this.overflown=!1,this.pageBreakType=null,this.lastAfterPosition=null},u.saveEdgeBreakPosition=function(e,t,n){var u=e.copy(),i=(new Cs).find(e.formattingContext),r=this.calculateClonedPaddingBorder(u),o=i.createEdgeBreakPosition(u,t,n,this.computedBlockSize+r);this.breakPositions.push(o)},u.saveBoxBreakPosition=function(e){var t=e[0].breakPenalty;if(t){for(var n=e[0];n.parent&&n.inline;)n=n.parent;t=n.breakPenalty}var u=new Zs(e,t);this.breakPositions.push(u)},u.updateMaxReachedAfterEdge=function(e){if(!isNaN(e)){var t=this.getBoxDir()*(e-this.beforeEdge);this.computedBlockSize=Math.max(t,this.computedBlockSize)}},u.layout=function(e,t,n){var u=this;if(this.chunkPositions.push(e),e.primary.after&&(this.lastAfterPosition=e.primary),this.stopAtOverflow&&this.overflown)return Iu(e);if(this.isFullWithPageFloats())return Iu(e.primary.after&&1===e.primary.steps.length?null:e);var i=ku("layout");return this.openAllViews(e.primary).then((function(e){var r=null;e.viewNode?r=e.copy():u.layoutContext.addEventListener("nextInTree",(function e(t){t.nodeContext.viewNode&&(r=t.nodeContext,u.layoutContext.removeEventListener("nextInTree",e))}));var o=new ul(t,n);o.layout(e,u).then((function(e){u.doFinishBreak(e,o.context.overflownNodeContext,r,o.initialComputedBlockSize).then((function(e){(u.pseudoParent?Iu(null):u.doFinishBreakOfFragmentLayoutConstraints(e)).then((function(){if(u.pageFloatLayoutContext.isInvalidated())i.finish(null);else if(e){u.overflown=!0;var t=new fr(e.toNodePosition());i.finish(t)}else i.finish(null)}))}))}))})),i.result()},u.isFullWithPageFloats=function(){return this.pageFloatLayoutContext.isColumnFullWithPageFloats(this)},u.getMaxBlockSizeOfPageFloats=function(){return this.pageFloatLayoutContext.getMaxBlockSizeOfPageFloats()},u.doFinishBreakOfFragmentLayoutConstraints=function(e){var t=this,n=ku("doFinishBreakOfFragmentLayoutConstraints"),u=[].concat(this.fragmentLayoutConstraints);u.sort((function(e,t){return e.getPriorityOfFinishBreak()-t.getPriorityOfFinishBreak()}));var i=0;return n.loop((function(){return i<u.length?u[i++].finishBreak(e,t).thenReturn(!0):Iu(!1)})).then((function(){n.finish(!0)})),n.result()},u.doLayout=function(e,t,n){var u=this,i=ku("doLayout"),r=null;return this.breakPositions=[],this.nodeContextOverflowingDueToRepetitiveElements=null,i.loopWithFrame((function(i){for(var o=function(){var o=!0;if(u.layoutNext(e,t,n||null).then((function(a){if(t=!1,n=null,u.nodeContextOverflowingDueToRepetitiveElements&&u.stopAtOverflow?(u.pageBreakType=null,(e=u.nodeContextOverflowingDueToRepetitiveElements).overflow=!0):e=a,u.pageFloatLayoutContext.isInvalidated())i.breakLoop();else if(u.pageBreakType)i.breakLoop();else if(e&&u.stopByOverflow(e)){r=e;var s=u.findAcceptableBreakPosition();e=s.nodeContext,s.breakPosition&&s.breakPosition.breakPositionChosen(u),i.breakLoop()}else o?o=!1:i.continueLoop()})),o)return o=!1,{v:void 0}};e;){var a=o();if("object"==typeof a)return a.v}u.computedBlockSize+=u.getOffsetByRepetitiveElements(),i.breakLoop()})).then((function(){i.finish({nodeContext:e,overflownNodeContext:r})})),i.result()},u.redoLayout=function(){for(var e=this,t=this.chunkPositions,n=this.element.lastChild;n!=this.last;){var u=n.previousSibling;this.element===n.parentNode&&this.layoutContext.isPseudoelement(n)||this.element.removeChild(n),n=u}this.killFloats(),this.init();var i=ku("redoLayout"),r=0,o=null,a=!0;return i.loopWithFrame((function(n){if(r<t.length){var u=t[r++];e.layout(u,a).then((function(e){a=!1,e?(o=e,n.breakLoop()):n.continueLoop()}))}else n.breakLoop()})).then((function(){i.finish(o)})),i.result()},u.saveDistanceToBlockEndFloats=function(){var e=this.pageFloatLayoutContext.getBlockStartEdgeOfBlockEndFloats();e>0&&isFinite(e)&&(this.blockDistanceToBlockEndFloats=this.getBoxDir()*(e-this.beforeEdge-this.computedBlockSize))},u.collectElementsOffset=function(){for(var e=this,t=[],n=this;n;n=n.pseudoParent)n.fragmentLayoutConstraints.forEach((function(n){if(Ui.isInstanceOfRepetitiveElementsOwnerLayoutConstraint(n)){var u=n.getRepetitiveElements();t.push(u)}if(Mi.isInstanceOfAfterIfContinuesLayoutConstraint(n)){var i=n.getRepetitiveElements();t.push(i)}zi.isInstanceOfTableRowLayoutConstraint(n)&&n.getElementsOffsetsForTableCell(e).forEach((function(e){t.push(e)}))}));return t},n}(Cr),el=function(){function e(e,t,n){this.startNodeContexts=[],this.column=void 0,this.column=Object.create(e),this.column.element=t,this.column.layoutContext=e.layoutContext.clone(),this.column.stopAtOverflow=!1,this.column.flowRootFormattingContext=n.formattingContext,this.column.pseudoParent=e;var u=this.column.calculateClonedPaddingBorder(n);this.column.footnoteEdge=this.column.footnoteEdge-u;var i=this;this.column.openAllViews=function(e){return Js.prototype.openAllViews.call(this,e).thenAsync((function(e){return i.startNodeContexts.push(e.copy()),Iu(e)}))}}var t=e.prototype;return t.layout=function(e,t){return this.column.layout(e,t)},t.findAcceptableBreakPosition=function(e){var t=this.column.findAcceptableBreakPosition();if(e){var n=this.startNodeContexts[0].copy(),u=new Es(n,null,n.overflow,0);if(u.findAcceptableBreak(this.column,0),!t.nodeContext)return{breakPosition:u,nodeContext:n}}return t},t.finishBreak=function(e,t,n){return this.column.finishBreak(e,t,n)},t.doFinishBreakOfFragmentLayoutConstraints=function(e){this.column.doFinishBreakOfFragmentLayoutConstraints(e)},t.isStartNodeContext=function(e){var t=this.startNodeContexts[0];return t.viewNode===e.viewNode&&t.after===e.after&&t.offsetInNode===e.offsetInNode},t.isLastAfterNodeContext=function(e){return rr(e.toNodePosition(),this.column.lastAfterPosition)},t.getColumnElement=function(){return this.column.element},t.getColumn=function(){return this.column},e}(),tl=function(){function e(){}var t=e.prototype;return t.breakTextNode=function(e,t,n,u,i,r){if(t.after)t.offsetInNode=e.length;else{var o=n-t.boxOffset,a=e.data;(o=173==a.charCodeAt(o)?this.breakAfterSoftHyphen(e,a,o,t):this.breakAfterOtherCharacter(e,a,o,t))>0&&(t=this.updateNodeContext(t,o,e))}return t},t.breakAfterSoftHyphen=function(e,t,n,u){return e.replaceData(n,t.length-n,u.breakWord?"":nl(u)),n+1},t.breakAfterOtherCharacter=function(e,t,n,u){var i=t.charAt(n);n++;var r=t.charAt(n);return e.replaceData(n,t.length-n,!u.breakWord&&le(i)&&le(r)?nl(u):""),n},t.updateNodeContext=function(e,t,n){return(e=e.modify()).offsetInNode+=t,e.breakBefore=null,e},e}();function nl(e){return e.hyphenateCharacter||e.parent&&e.parent.hyphenateCharacter||"-"}tl.instance=void 0,tl.instance=new tl;var ul=function(e){function t(t,n){var u;return(u=e.call(this)||this).leadingEdge=void 0,u.breakAfter=void 0,u.initialPageBreakType=null,u.initialComputedBlockSize=0,u.initialOverflown=!1,u.context={overflownNodeContext:null},u.leadingEdge=t,u.breakAfter=n||null,u}x(t,e);var n=t.prototype;return n.resolveLayoutMode=function(e){return new il(this.leadingEdge,this.breakAfter,this.context)},n.prepareLayout=function(e,t){t.fragmentLayoutConstraints=[],t.pseudoParent||(ws=[])},n.clearNodes=function(t){e.prototype.clearNodes.call(this,t);for(var n=t;n;){var u=n.viewNode;u&&Ds(u.parentNode,u),n=n.parent}},n.saveState=function(t,n){e.prototype.saveState.call(this,t,n),this.initialPageBreakType=n.pageBreakType,this.initialComputedBlockSize=n.computedBlockSize,this.initialOverflown=n.overflown},n.restoreState=function(t,n){e.prototype.restoreState.call(this,t,n),n.pageBreakType=this.initialPageBreakType,n.computedBlockSize=this.initialComputedBlockSize,n.overflown=this.initialOverflown},t}(As),il=function(){function e(e,t,n){this.leadingEdge=void 0,this.breakAfter=void 0,this.context=void 0,this.leadingEdge=e,this.breakAfter=t,this.context=n}var t=e.prototype;return t.doLayout=function(e,t){var n=this,u=ku("DefaultLayoutMode.doLayout");return function(e,t){var n=ku("processAfterIfContinuesOfAncestors"),u=e;return n.loop((function(){if(null!==u){var e=qs(u,t);return u=u.parent,e.thenReturn(!0)}return Iu(!1)})).then((function(){n.finish(!0)})),n.result()}(e,t).then((function(){t.doLayout(e,n.leadingEdge,n.breakAfter).then((function(e){n.context.overflownNodeContext=e.overflownNodeContext,u.finish(e.nodeContext)}))})),u.result()},t.accept=function(e,t){var n=this;return!(!t.pageFloatLayoutContext.isInvalidated()&&!t.pageBreakType)||t.fragmentLayoutConstraints.length<=0||t.fragmentLayoutConstraints.every((function(u){return u.allowLayout(e,n.context.overflownNodeContext,t)}))},t.postLayout=function(e,t,n,u){if(!u){var i=n.fragmentLayoutConstraints.some((function(t){return t.nextCandidate(e)}));u=!i}return n.fragmentLayoutConstraints.forEach((function(i){i.postLayout(u,e,t,n)})),u},e}(),rl=function(e){function t(t,n,u,i,r,o,a){var s;return(s=e.call(this,n,u,i,r,o)||this).floatSide=void 0,s.parentContainer=void 0,s.rootViewNodes=[],s.floatMargins=[],s.adjustContentRelativeSize=!0,s.floatSide=t,s.parentContainer=a,s}x(t,e);var n=t.prototype;return n.openAllViews=function(t){var n=this;return e.prototype.openAllViews.call(this,t).thenAsync((function(e){return e&&n.fixFloatSizeAndPosition(e),Iu(e)}))},n.convertPercentageSizesToPx=function(e){var t=this.parentContainer.getPaddingRect(),n=t.x2-t.x1,u=t.y2-t.y1;function i(t,n){t.forEach((function(t){var u=ne(e,t);if(u&&"%"===u.charAt(u.length-1)){var i=parseFloat(u);te(e,t,n*i/100+"px")}}))}i(["width","max-width","min-width"],n),i(["height","max-height","min-height"],u),i(["margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left"],this.vertical?u:n),["margin-top","margin-right","margin-bottom","margin-left"].forEach((function(t){"auto"===ne(e,t)&&te(e,t,"0")}))},n.fixFloatSizeAndPosition=function(e){for(;e.parent;)e=e.parent;var t=e.viewNode;if(this.rootViewNodes.push(t),this.adjustContentRelativeSize&&this.convertPercentageSizesToPx(t),this.floatMargins.push(this.getComputedMargin(t)),this.adjustContentRelativeSize){var n=this.floatSide;if(this.parentContainer.vertical){if("block-end"===n||"left"===n){var u=ne(t,"height");""!==u&&"auto"!==u&&te(t,"margin-top","auto")}}else if("block-end"===n||"bottom"===n){var i=ne(t,"width");""!==i&&"auto"!==i&&te(t,"margin-left","auto")}}},n.getContentInlineSize=function(){var e=this;return Math.max.apply(null,this.rootViewNodes.map((function(t,n){var u=e.clientLayout.getElementClientRect(t),i=e.floatMargins[n];return e.vertical?i.top+u.height+i.bottom:i.left+u.width+i.right})))},t}(Js),ol=function(){function e(e,t){this.parent=void 0,this.rootSourceNode=void 0,this.formattingContextType="RepetitiveElementsOwner",this.isRoot=!1,this.repetitiveElements=null,this.parent=e,this.rootSourceNode=t}var t=e.prototype;return t.getName=function(){return"Repetitive elements owner formatting context (RepetitiveElementsOwnerFormattingContext)"},t.isFirstTime=function(e,t){return t},t.getParent=function(){return this.parent},t.getRepetitiveElements=function(){return this.repetitiveElements},t.getRootViewNode=function(e){var t=this.getRootNodeContext(e);return t?t.viewNode:null},t.getRootNodeContext=function(e){do{if(!e.belongsTo(this)&&e.sourceNode===this.rootSourceNode)return e}while(e=e.parent);return null},t.initializeRepetitiveElements=function(e){var t=this;this.repetitiveElements||ws.some((function(e){return e.root===t.rootSourceNode&&(t.repetitiveElements=e.elements,!0)}))||(this.repetitiveElements=new al(e,this.rootSourceNode),ws.push({root:this.rootSourceNode,elements:this.repetitiveElements}))},t.saveState=function(){},t.restoreState=function(e){},e}(),al=function(){function e(e,t){this.vertical=void 0,this.ownerSourceNode=void 0,this.headerSourceNode=null,this.footerSourceNode=null,this.headerViewNode=null,this.footerViewNode=null,this.headerNodePosition=null,this.footerNodePosition=null,this.headerHeight=0,this.footerHeight=0,this.isSkipHeader=!1,this.isSkipFooter=!1,this.enableSkippingFooter=!0,this.enableSkippingHeader=!0,this.doneInitialLayout=!1,this.firstContentSourceNode=null,this.lastContentSourceNode=null,this.affectedNodeCache=[],this.afterLastContentNodeCache=[],this.allowInsert=!1,this.allowInsertRepeatitiveElements=void 0,this.vertical=e,this.ownerSourceNode=t}var t=e.prototype;return t.setHeaderNodeContext=function(e){this.headerNodePosition||(this.headerNodePosition=or(e,0),this.headerSourceNode=e.sourceNode,this.headerViewNode=e.viewNode)},t.setFooterNodeContext=function(e){this.footerNodePosition||(this.footerNodePosition=or(e,0),this.footerSourceNode=e.sourceNode,this.footerViewNode=e.viewNode)},t.updateHeight=function(e){this.headerViewNode&&(this.headerHeight=ls(this.headerViewNode,e,this.vertical),this.headerViewNode=null),this.footerViewNode&&(this.footerHeight=ls(this.footerViewNode,e,this.vertical),this.footerViewNode=null)},t.prepareLayoutFragment=function(){this.isSkipHeader=this.isSkipFooter=!1,this.enableSkippingFooter=!0,this.enableSkippingHeader=!0},t.appendHeaderToFragment=function(e,t,n){return!this.headerNodePosition||this.isSkipHeader?Iu(!0):this.appendElementToFragment(this.headerNodePosition,e,t,n)},t.appendFooterToFragment=function(e,t,n){return!this.footerNodePosition||this.isSkipFooter?Iu(!0):this.appendElementToFragment(this.footerNodePosition,e,t,n)},t.appendElementToFragment=function(e,t,n,u){var i=this,r=t.viewNode,o=t.viewNode.ownerDocument.createElement("div");r.appendChild(o);var a=new el(u,o,t),s=a.getColumn().pageBreakType;return a.getColumn().pageBreakType=null,this.allowInsertRepeatitiveElements=!0,a.layout(new fr(e),!0).thenAsync((function(){return i.allowInsertRepeatitiveElements=!1,r.removeChild(o),i.moveChildren(o,r,n),a.getColumn().pageBreakType=s,Iu(!0)}))},t.moveChildren=function(e,t,n){if(t)for(;e.firstChild;){var u=e.firstChild;e.removeChild(u),u.setAttribute("data-adapt-spec","1"),n?t.insertBefore(u,n):t.appendChild(u)}},t.calculateOffset=function(e){var t=0;return e&&!this.affectTo(e)||((!this.isSkipFooter||e&&this.isAfterLastContent(e))&&(t+=this.footerHeight),this.isSkipHeader||(t+=this.headerHeight)),t},t.calculateMinimumOffset=function(e){var t=0;return e&&!this.affectTo(e)||(e&&this.isAfterLastContent(e)&&(t+=this.footerHeight),this.enableSkippingHeader||(t+=this.headerHeight)),t},t.isAfterLastContent=function(e){var t=this;return this.findResultFromCache(e,this.afterLastContentNodeCache,(function(n){return t.isAfterNodeContextOf(t.lastContentSourceNode,e,!1)}))},t.affectTo=function(e){var t=this;return this.findResultFromCache(e,this.affectedNodeCache,(function(n){return t.isAfterNodeContextOf(t.ownerSourceNode,e,!0)}))},t.findResultFromCache=function(e,t,n){var u=t.filter((function(t){return t.nodeContext.sourceNode===e.sourceNode&&t.nodeContext.after===e.after}));if(u.length>0)return u[0].result;var i=n(e);return t.push({nodeContext:e,result:i}),i},t.isAfterNodeContextOf=function(e,t,n){for(var u=[],i=e;i;i=i.parentNode){if(t.sourceNode===i)return t.after;u.push(i)}for(var r=t.sourceNode;r;r=r.parentNode){var o=u.indexOf(r);if(o>=0)return!!n&&0===o;for(var a=r;a;a=a.previousElementSibling)if(u.includes(a))return!0}return t.after},t.isFirstContentNode=function(e){return e&&this.firstContentSourceNode===e.sourceNode},t.isEnableToUpdateState=function(){return!!(!this.isSkipFooter&&this.enableSkippingFooter&&this.footerNodePosition||!this.isSkipHeader&&this.enableSkippingHeader&&this.headerNodePosition)},t.updateState=function(){!this.isSkipFooter&&this.enableSkippingFooter&&this.footerNodePosition?this.isSkipFooter=!0:!this.isSkipHeader&&this.enableSkippingHeader&&this.headerNodePosition&&(this.isSkipHeader=!0)},t.preventSkippingHeader=function(){this.isSkipHeader=!1,this.enableSkippingHeader=!1},t.preventSkippingFooter=function(){this.isSkipFooter=!1,this.enableSkippingFooter=!1},t.isHeaderRegistered=function(){return!!this.headerNodePosition},t.isFooterRegistered=function(){return!!this.footerNodePosition},t.isHeaderSourceNode=function(e){return this.headerSourceNode===e},t.isFooterSourceNode=function(e){return this.footerSourceNode===e},e}(),sl=function(){function e(e){this.formattingContext=void 0,this.formattingContext=e}var t=e.prototype;return t.accept=function(e,t){return!!e},t.postLayout=function(e,t,n,u){var i=this.formattingContext.getRepetitiveElements();return i&&(i.doneInitialLayout||(i.updateHeight(n),i.doneInitialLayout=!0)),u},e}(),ll=function(){function e(e){this.formattingContext=void 0,this.formattingContext=e}var t=e.prototype;return t.accept=function(e,t){return!0},t.postLayout=function(e,t,n,u){return u},e}(),cl=function(e){function t(t,n){var u;return(u=e.call(this,t)||this).processor=void 0,u.processor=n,u}x(t,e);var n=t.prototype;return n.doLayout=function(e,t){return this.processor.doInitialLayout(e,t)},n.accept=function(e,t){return!1},t}(sl),Dl=function(e){function t(t,n){var u;return(u=e.call(this,t)||this).processor=void 0,u.processor=n,u}return x(t,e),t.prototype.doLayout=function(e,t){return e.belongsTo(this.formattingContext)||e.after||t.fragmentLayoutConstraints.unshift(new hl(e)),this.processor.doLayout(e,t)},t}(ll),hl=function(){function e(e){this.flagmentLayoutConstraintType="RepetitiveElementsOwner",this.nodeContext=void 0,this.nodeContext=e.formattingContext.getRootNodeContext(e)}var t=e.prototype;return t.allowLayout=function(e,t,n){var u=this.getRepetitiveElements();return!(u&&!cs(this.nodeContext.viewNode)&&u.isEnableToUpdateState()&&(t&&!e||e&&e.overflow))},t.nextCandidate=function(e){var t=this.getRepetitiveElements();return!!t&&!!t.isEnableToUpdateState()&&(t.updateState(),!0)},t.postLayout=function(e,t,n,u){var i=this.getRepetitiveElements();i&&e&&u.stopAtOverflow&&(null==t||i.isAfterLastContent(t))&&i.preventSkippingFooter()},t.finishBreak=function(e,t){var n=this.nodeContext.formattingContext,u=this.getRepetitiveElements();if(!u)return Iu(!0);var i=this.nodeContext;return function(e,t,n){var u=e.getRepetitiveElements();if(u){var i=e.getRootNodeContext(t);if(i.viewNode)return u.appendHeaderToFragment(i,i.viewNode.firstChild,n)}return Iu(!0)}(n,i,t).thenAsync((function(){return function(e,t,n){var u=e.getRepetitiveElements();if(u&&!u.isSkipFooter){var i=e.getRootNodeContext(t);if(i.viewNode)return u.appendFooterToFragment(i,null,n)}return Iu(!0)}(n,i,t).thenAsync((function(){return u.prepareLayoutFragment(),Iu(!0)}))}))},t.getRepetitiveElements=function(){return this.nodeContext.formattingContext.getRepetitiveElements()},t.equalsTo=function(t){return t instanceof e&&this.nodeContext.formattingContext===t.nodeContext.formattingContext},t.getPriorityOfFinishBreak=function(){return 10},e}(),fl=function(e){function t(t,n){var u;return(u=e.call(this)||this).formattingContext=void 0,u.processor=void 0,u.formattingContext=t,u.processor=n,u}return x(t,e),t.prototype.resolveLayoutMode=function(e){var t=this.formattingContext.getRepetitiveElements();return e.belongsTo(this.formattingContext)||t.doneInitialLayout?(e.belongsTo(this.formattingContext)||e.after||t&&t.preventSkippingHeader(),new Dl(this.formattingContext,this.processor)):new cl(this.formattingContext,this.processor)},t}(As),dl=function(e){function t(t,n){var u;return(u=e.call(this)||this).formattingContext=void 0,u.column=void 0,u.formattingContext=t,u.column=n,u}x(t,e);var n=t.prototype;return n.startNonInlineElementNode=function(e){var t=this.formattingContext,n=e.nodeContext,u=t.getRepetitiveElements();if(n.parent&&t.rootSourceNode===n.parent.sourceNode){switch(n.repeatOnBreak){case"header":if(!u.isHeaderRegistered())return u.setHeaderNodeContext(n),Iu(!0);n.repeatOnBreak="none";break;case"footer":if(!u.isFooterRegistered())return u.setFooterNodeContext(n),Iu(!0);n.repeatOnBreak="none"}u.firstContentSourceNode||(u.firstContentSourceNode=n.sourceNode)}return bs.prototype.startNonInlineElementNode.call(this,e)},n.afterNonInlineElementNode=function(e){var t=this.formattingContext,n=e.nodeContext;return n.sourceNode===t.rootSourceNode&&(t.getRepetitiveElements().lastContentSourceNode=e.lastAfterNodeContext&&e.lastAfterNodeContext.sourceNode,e.break=!0),"header"===n.repeatOnBreak||"footer"===n.repeatOnBreak?Iu(!0):bs.prototype.afterNonInlineElementNode.call(this,e)},t}(bs);function pl(e,t){e&&function(e,t){for(var n=e;n;n=n.parent){var u=n.formattingContext;u&&u instanceof ol&&!n.belongsTo(u)&&t(u,n)}}(e.after?e.parent:e,(function(e,n){zi.isInstanceOfTableFormattingContext(e)||t.fragmentLayoutConstraints.push(new hl(n))}))}var El=new(function(e){function t(){return e.apply(this,arguments)||this}x(t,e);var n=t.prototype;return n.layout=function(e,t,n){if(t.isFloatNodeContext(e))return t.layoutFloatOrFootnote(e);var u=e.formattingContext;return u.getRootViewNode(e)?(n&&pl(e.parent,t),e.belongsTo(u)?gs.prototype.layout.call(this,e,t,n):new fl(u,this).layout(e,t)):t.buildDeepElementView(e)},n.startNonInlineElementNode=function(e){var t=function(e){var t=e.formattingContext;return t&&t instanceof ol?t:null}(e),n=t.getRepetitiveElements();return!!n&&(n.allowInsertRepeatitiveElements||!n.isHeaderSourceNode(e.sourceNode)&&!n.isFooterSourceNode(e.sourceNode)||e.viewNode.parentNode.removeChild(e.viewNode),!1)},n.doInitialLayout=function(e,t){var n=ku("BlockLayoutProcessor.doInitialLayout");return this.layoutEntireBlock(e,t).thenFinish(n),n.result()},n.layoutEntireBlock=function(e,t){var n=new dl(e.formattingContext,t);return new Bs(n,t.layoutContext).iterate(e)},n.doLayout=function(e,t){var n=e.formattingContext,u=ku("doLayout");return Ys(t.layoutContext.nextInTree(e,!1),t).then((function(e){var i=e;u.loopWithFrame((function(e){for(var u=function(){var u=!0;if(t.layoutNext(i,!1).then((function(r){i=r,t.pageFloatLayoutContext.isInvalidated()||t.pageBreakType||i&&t.stopByOverflow(i)||i&&i.after&&i.sourceNode==n.rootSourceNode?e.breakLoop():u?u=!1:e.continueLoop()})),u)return u=!1,{v:void 0}};i;){var r=u();if("object"==typeof r)return r.v}e.breakLoop()})).then((function(){u.finish(i)}))})),u.result()},n.finishBreak=function(e,t,n,u){return gs.prototype.finishBreak.call(this,e,t,n,u)},n.clearOverflownViewNodes=function(e,t,n,u){gs.prototype.clearOverflownViewNodes(e,t,n,u)},t}(gs));p(t.cF.RESOLVE_LAYOUT_PROCESSOR,(function(e){return e instanceof ol&&!zi.isInstanceOfTableFormattingContext(e)?El:null}));var Cl=function(){function e(e,t){this.rowIndex=void 0,this.sourceNode=void 0,this.cells=[],this.rowIndex=e,this.sourceNode=t}var t=e.prototype;return t.addCell=function(e){this.cells.push(e)},t.getMinimumHeight=function(){return Math.min.apply(null,this.cells.map((function(e){return e.height})))},e}(),gl=function(){function e(e,t,n){this.rowIndex=void 0,this.columnIndex=void 0,this.viewElement=void 0,this.colSpan=void 0,this.rowSpan=void 0,this.height=0,this.anchorSlot=null,this.rowIndex=e,this.columnIndex=t,this.viewElement=n,this.colSpan=n.colSpan||1,this.rowSpan=n.rowSpan||1}var t=e.prototype;return t.setHeight=function(e){this.height=e},t.setAnchorSlot=function(e){this.anchorSlot=e},e}(),Fl=function(e,t,n){this.rowIndex=void 0,this.columnIndex=void 0,this.cell=void 0,this.rowIndex=e,this.columnIndex=t,this.cell=n},vl=function(){function e(e,t,n){this.column=void 0,this.cellNodeContext=void 0,this.pseudoColumn=void 0,this.empty=!1,this.column=e,this.cellNodeContext=n,this.pseudoColumn=new el(e,t,n)}return e.prototype.findAcceptableBreakPosition=function(){var e=this.cellNodeContext.viewNode,t=this.cellNodeContext.verticalAlign;"middle"!==t&&"bottom"!==t||te(e,"vertical-align","top");var n=this.pseudoColumn.findAcceptableBreakPosition(!0);return te(e,"vertical-align",t),n},e}(),ml=function(e,t){this.viewNode=void 0,this.side=void 0,this.viewNode=e,this.side=t},Al=function(e){function t(t,n,u,i){var r;return(r=e.call(this,t,n,u,i)||this).formattingContext=void 0,r.acceptableCellBreakPositions=null,r.rowIndex=null,r.formattingContext=t.formattingContext,r}x(t,e);var n=t.prototype;return n.findAcceptableBreak=function(t,n){var u=e.prototype.findAcceptableBreak.call(this,t,n);return n<this.getMinBreakPenalty()?null:this.getAcceptableCellBreakPositions().every((function(e){return!!e.nodeContext}))?u:null},n.getMinBreakPenalty=function(){var t=e.prototype.getMinBreakPenalty.call(this);return this.getAcceptableCellBreakPositions().forEach((function(e){t+=e.breakPosition.getMinBreakPenalty()})),t},n.getAcceptableCellBreakPositions=function(){if(!this.acceptableCellBreakPositions){var e=this.getCellFragments();this.acceptableCellBreakPositions=e.map((function(e){return e.findAcceptableBreakPosition()}))}return this.acceptableCellBreakPositions},n.getRowIndex=function(){return null!=this.rowIndex?this.rowIndex:this.rowIndex=this.formattingContext.findRowIndexBySourceNode(this.position.sourceNode)},n.getCellFragments=function(){return this.formattingContext.getRowSpanningCellsOverflowingTheRow(this.getRowIndex()).map(this.formattingContext.getCellFragmentOfCell,this.formattingContext)},t}(Es),yl=function(e){function t(t,n,u){var i;return(i=e.call(this)||this).rowIndex=void 0,i.beforeNodeContext=void 0,i.formattingContext=void 0,i.acceptableCellBreakPositions=null,i.rowIndex=t,i.beforeNodeContext=n,i.formattingContext=u,i}x(t,e);var n=t.prototype;return n.findAcceptableBreak=function(e,t){if(t<this.getMinBreakPenalty())return null;var n=this.getCellFragments(),u=this.getAcceptableCellBreakPositions(),i=u.every((function(e){return!!e.nodeContext}))&&u.some((function(e,t){var u=n[t].pseudoColumn,i=e.nodeContext;return!u.isStartNodeContext(i)&&!u.isLastAfterNodeContext(i)}));return this.beforeNodeContext.overflow=u.some((function(e){return e.nodeContext&&e.nodeContext.overflow})),i?this.beforeNodeContext:null},n.getMinBreakPenalty=function(){var e=this.formattingContext,t=e.getRowByIndex(this.rowIndex),n=0;return e.isFreelyFragmentableRow(t)||(n+=10),this.getAcceptableCellBreakPositions().forEach((function(e){n+=e.breakPosition.getMinBreakPenalty()})),n},n.getAcceptableCellBreakPositions=function(){if(!this.acceptableCellBreakPositions){var e=this.getCellFragments();this.acceptableCellBreakPositions=e.map((function(e){return e.findAcceptableBreakPosition()}))}return this.acceptableCellBreakPositions},n.getCellFragments=function(){return this.formattingContext.getCellsFallingOnRow(this.rowIndex).map(this.formattingContext.getCellFragmentOfCell,this.formattingContext)},t}(ds),Bl=function(e){function t(t,n){var u;return(u=e.call(this,t,n)||this).tableSourceNode=void 0,u.formattingContextType="Table",u.vertical=!1,u.columnCount=-1,u.tableWidth=0,u.captions=[],u.colGroups=null,u.colWidths=null,u.inlineBorderSpacing=0,u.rows=[],u.slots=[],u.cellFragments=[],u.lastRowViewNode=null,u.cellBreakPositions=[],u.repetitiveElements=null,u.tableSourceNode=n,u}x(t,e);var n=t.prototype;return n.getName=function(){return"Table formatting context (Table.TableFormattingContext)"},n.isFirstTime=function(e,t){if(!t)return t;switch(e.display){case"table-row":return 0===this.cellBreakPositions.length;case"table-cell":return!this.cellBreakPositions.some((function(t){return t.cellNodePosition.steps[0].node===e.sourceNode}));default:return t}},n.getParent=function(){return this.parent},n.finishFragment=function(){this.cellFragments=[]},n.addRow=function(e,t){this.rows[e]=t},n.getRowSlots=function(e){var t=this.slots[e];return t||(t=this.slots[e]=[]),t},n.addCell=function(e,t){var n=this.rows[e];n||(this.addRow(e,new Cl(e,null)),n=this.rows[e]),n.addCell(t);for(var u=e+t.rowSpan,i=this.getRowSlots(e),r=0;i[r];)r++;for(;e<u;e++){i=this.getRowSlots(e);for(var o=r;o<r+t.colSpan;o++){var a=i[o]=new Fl(e,o,t);t.anchorSlot||t.setAnchorSlot(a)}}},n.getRowByIndex=function(e){return this.rows[e]},n.findRowIndexBySourceNode=function(e){return this.rows.findIndex((function(t){return e===t.sourceNode}))},n.addCellFragment=function(e,t,n){var u=this.cellFragments[e];u||(u=this.cellFragments[e]=[]),u[t]=n},n.getCellsFallingOnRow=function(e){return this.getRowSlots(e).reduce((function(e,t){return t.cell!==e[e.length-1]?e.concat(t.cell):e}),[])},n.getRowSpanningCellsOverflowingTheRow=function(e){return this.getCellsFallingOnRow(e).filter((function(t){return t.rowIndex+t.rowSpan-1>e}))},n.getCellFragmentOfCell=function(e){return this.cellFragments[e.rowIndex]&&this.cellFragments[e.rowIndex][e.columnIndex]},n.isFreelyFragmentableRow=function(e){return e.getMinimumHeight()>this.tableWidth/2},n.getColumnCount=function(){return this.columnCount<0&&(this.columnCount=Math.max.apply(null,this.rows.map((function(e){return e.cells.reduce((function(e,t){return e+t.colSpan}),0)})))),this.columnCount},n.updateCellSizes=function(e){var t=this;this.rows.forEach((function(n){n.cells.forEach((function(n){var u=e.getElementClientRect(n.viewElement);n.viewElement=null,n.setHeight(t.vertical?u.width:u.height)}))}))},n.findCellFromColumn=function(e){if(!e)return null;var t=null,n=0,u=0;e:for(n=0;n<this.cellFragments.length;n++)if(this.cellFragments[n])for(u=0;u<this.cellFragments[n].length;u++)if(this.cellFragments[n][u]&&e===this.cellFragments[n][u].pseudoColumn.getColumn()){t=this.rows[n].cells[u];break e}if(!t)return null;for(;n<this.slots.length;n++)for(;u<this.slots[n].length;u++){var i=this.slots[n][u];if(i.cell===t)return{rowIndex:i.rowIndex,columnIndex:i.columnIndex}}return null},n.collectElementsOffsetOfUpperCells=function(e){var t=this,n=[];return this.slots.reduce((function(u,i,r){if(r>=e.rowIndex)return u;var o=i[e.columnIndex]&&t.getCellFragmentOfCell(i[e.columnIndex].cell);return!o||n.includes(o)||(t.collectElementsOffsetFromColumn(o.pseudoColumn.getColumn(),u),n.push(o)),u}),[])},n.collectElementsOffsetOfHighestColumn=function(){var e=this,t=[];return this.rows.forEach((function(n){n.cells.forEach((function(n,u){t[u]||(t[u]={collected:[],elements:[]});var i=t[u],r=e.getCellFragmentOfCell(n);r&&!i.collected.includes(r)&&(e.collectElementsOffsetFromColumn(r.pseudoColumn.getColumn(),i.elements),i.collected.push(r))}))})),[new bl(t.map((function(e){return e.elements})))]},n.collectElementsOffsetFromColumn=function(e,t){e.fragmentLayoutConstraints.forEach((function(e){if(Ui.isInstanceOfRepetitiveElementsOwnerLayoutConstraint(e)){var n=e.getRepetitiveElements();t.push(n)}zi.isInstanceOfTableRowLayoutConstraint(e)&&e.getElementsOffsetsForTableCell(null).forEach((function(e){t.push(e)}))}))},n.saveState=function(){return[].concat(this.cellBreakPositions)},n.restoreState=function(e){this.cellBreakPositions=e},t}(ol),bl=function(){function e(e){this.repeatitiveElementsInColumns=void 0,this.repeatitiveElementsInColumns=e}var t=e.prototype;return t.calculateOffset=function(e){return this.calculateMaxOffsetOfColumn(e,(function(e){return e.current}))},t.calculateMinimumOffset=function(e){return this.calculateMaxOffsetOfColumn(e,(function(e){return e.minimum}))},t.calculateMaxOffsetOfColumn=function(e,t){var n=0;return this.repeatitiveElementsInColumns.forEach((function(u){var i=ps(e,u);n=Math.max(n,t(i))})),n},e}();function wl(e){return function(e){return"table-row-group"===e||"table-header-group"===e||"table-footer-group"===e}(e)||function(e){return"table"===e||"inline-table"===e}(e)}function Sl(e,t,n){var u=e.nodeContext,i=u.display,r=u.parent?u.parent.display:null,o=!1;if("inline-table"===r&&!(u.formattingContext instanceof Bl))for(var a=u.parent;a;a=a.parent)if(a.formattingContext instanceof Bl){o=a.formattingContext===t;break}return o||"table-row"===i&&!wl(r)||"table-cell"===i&&"table-row"!==r&&!wl(r)||u.formattingContext instanceof Bl&&u.formattingContext!==t?n.buildDeepElementView(u).thenAsync((function(t){return e.nodeContext=t,Iu(!0)})):null}var Nl=function(e){function t(t,n){var u;return(u=e.call(this)||this).formattingContext=void 0,u.column=void 0,u.rowIndex=-1,u.columnIndex=0,u.inRow=!1,u.checkPoints=[],u.inHeaderOrFooter=!1,u.formattingContext=t,u.column=n,u}x(t,e);var n=t.prototype;return n.startNonInlineElementNode=function(t){var n=this.formattingContext,u=Sl(t,n,this.column);if(u)return u;this.postLayoutBlockContents(t);var i=t.nodeContext,r=i.display,o=n.getRepetitiveElements();switch(r){case"table":n.inlineBorderSpacing=i.inlineBorderSpacing;break;case"table-caption":var a=new ml(i.viewNode,i.captionSide);n.captions.push(a);break;case"table-header-group":return o.isHeaderRegistered()||(this.inHeaderOrFooter=!0,o.setHeaderNodeContext(i)),Iu(!0);case"table-footer-group":return o.isFooterRegistered()||(this.inHeaderOrFooter=!0,o.setFooterNodeContext(i)),Iu(!0);case"table-row":this.inHeaderOrFooter||(this.inRow=!0,this.rowIndex++,this.columnIndex=0,n.addRow(this.rowIndex,new Cl(this.rowIndex,i.sourceNode)),o.firstContentSourceNode||(o.firstContentSourceNode=i.sourceNode))}return e.prototype.startNonInlineElementNode.call(this,t)},n.afterNonInlineElementNode=function(t){var n=this.formattingContext,u=t.nodeContext,i=u.display,r=this.column.clientLayout;if(this.postLayoutBlockContents(t),u.sourceNode===n.tableSourceNode){var o=r.getElementComputedStyle(n.getRootViewNode(u));n.tableWidth=parseFloat(o[n.vertical?"height":"width"]),n.getRepetitiveElements().lastContentSourceNode=t.lastAfterNodeContext&&t.lastAfterNodeContext.sourceNode,t.break=!0}else switch(i){case"table-header-group":case"table-footer-group":if(this.inHeaderOrFooter)return this.inHeaderOrFooter=!1,Iu(!0);break;case"table-row":this.inHeaderOrFooter||(n.lastRowViewNode=u.viewNode,this.inRow=!1);break;case"table-cell":this.inHeaderOrFooter||(this.inRow||(this.rowIndex++,this.columnIndex=0,this.inRow=!0),n.addCell(this.rowIndex,new gl(this.rowIndex,this.columnIndex,u.viewNode)),this.columnIndex++)}return e.prototype.afterNonInlineElementNode.call(this,t)},n.startNonElementNode=function(e){this.registerCheckPoint(e)},n.afterNonElementNode=function(e){this.registerCheckPoint(e)},n.startInlineElementNode=function(e){this.registerCheckPoint(e)},n.afterInlineElementNode=function(e){this.registerCheckPoint(e)},n.registerCheckPoint=function(e){var t=e.nodeContext;t&&t.viewNode&&!fs(t)&&this.checkPoints.push(t.clone())},n.postLayoutBlockContents=function(e){this.checkPoints.length>0&&this.column.postLayoutBlock(e.nodeContext,this.checkPoints),this.checkPoints=[]},t}(bs),xl=function(e){function t(t,n){var u;return(u=e.call(this,!0)||this).formattingContext=void 0,u.column=void 0,u.inRow=!1,u.currentRowIndex=-1,u.currentColumnIndex=0,u.originalStopAtOverflow=void 0,u.inHeader=void 0,u.inFooter=void 0,u.formattingContext=t,u.column=n,u.originalStopAtOverflow=n.stopAtOverflow,n.stopAtOverflow=!1,u}x(t,e);var n=t.prototype;return n.resetColumn=function(){this.column.stopAtOverflow=this.originalStopAtOverflow},n.getColSpanningCellWidth=function(e){for(var t=this.formattingContext.colWidths,n=0,u=0;u<e.colSpan;u++)n+=t[e.anchorSlot.columnIndex+u];return n+this.formattingContext.inlineBorderSpacing*(e.colSpan-1)},n.layoutCell=function(e,t,n){var u=e.rowIndex,i=e.columnIndex,r=t.viewNode;e.colSpan>1&&(te(r,"box-sizing","border-box"),te(r,this.formattingContext.vertical?"height":"width",this.getColSpanningCellWidth(e)+"px"));var o=r.ownerDocument.createElement("div");r.appendChild(o);var a=new vl(this.column,o,t);return this.formattingContext.addCellFragment(u,i,a),1===n.primary.steps.length&&n.primary.after&&(a.empty=!0),a.pseudoColumn.layout(n,!0).thenReturn(!0)},n.hasBrokenCellAtSlot=function(e){var t=this.formattingContext.cellBreakPositions[0];return!!t&&t.cell.anchorSlot.columnIndex===e},n.extractRowSpanningCellBreakPositions=function(){var e=this.formattingContext.cellBreakPositions;if(0===e.length)return[];var t=[],n=0;do{var u=e[n],i=u.cell.rowIndex;if(i<this.currentRowIndex){var r=t[i];r||(r=t[i]=[]),r.push(u),e.splice(n,1)}else n++}while(n<e.length);return t},n.layoutRowSpanningCellsFromPreviousFragment=function(e){var t=this,n=this.formattingContext,u=this.extractRowSpanningCellBreakPositions(),i=u.reduce((function(e){return e+1}),0);if(0===i)return Iu(!0);var r=this.column.layoutContext,o=e.nodeContext;o.viewNode.parentNode.removeChild(o.viewNode);var a=ku("layoutRowSpanningCellsFromPreviousFragment"),s=Iu(!0),l=0,c=[];return u.forEach((function(e){s=s.thenAsync((function(){var u=ar(e[0].cellNodePosition.steps[1],o.parent);return r.setCurrent(u,!1).thenAsync((function(){var o=Iu(!0),a=0;function s(e){for(;a<e;){if(!c.includes(a)){var t=u.viewNode.ownerDocument.createElement("td");te(t,"padding","0"),u.viewNode.appendChild(t)}a++}}return e.forEach((function(e){o=o.thenAsync((function(){var n=e.cell;s(n.anchorSlot.columnIndex);var o=e.cellNodePosition,D=ar(o.steps[0],u);return D.offsetInNode=o.offsetInNode,D.after=o.after,D.fragmentIndex=o.steps[0].fragmentIndex+1,r.setCurrent(D,!1).thenAsync((function(){for(var u=e.breakChunkPosition,r=0;r<n.colSpan;r++)c.push(a+r);return a+=n.colSpan,t.layoutCell(n,D,u).thenAsync((function(){return D.viewNode.rowSpan=n.rowIndex+n.rowSpan-t.currentRowIndex+i-l,Iu(!0)}))}))}))})),o.thenAsync((function(){return s(n.getColumnCount()),l++,Iu(!0)}))}))}))})),s.then((function(){r.setCurrent(o,!0,e.atUnforcedBreak).then((function(){a.finish(!0)}))})),a.result()},n.startTableRow=function(e){var t=this;if(this.inHeader||this.inFooter)return Iu(!0);var n=e.nodeContext,u=this.formattingContext;return this.currentRowIndex<0?this.currentRowIndex=u.findRowIndexBySourceNode(n.sourceNode):this.currentRowIndex++,this.currentColumnIndex=0,this.inRow=!0,this.layoutRowSpanningCellsFromPreviousFragment(e).thenAsync((function(){return t.registerCellFragmentIndex(),t.column.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!0,e.breakAtTheEdge)&&0===u.getRowSpanningCellsOverflowingTheRow(t.currentRowIndex-1).length&&(t.resetColumn(),n.overflow=!0,e.break=!0),Iu(!0)}))},n.registerCellFragmentIndex=function(){var e=this;this.formattingContext.getRowByIndex(this.currentRowIndex).cells.forEach((function(t){var n=e.formattingContext.cellBreakPositions[t.columnIndex];if(n&&n.cell.anchorSlot.columnIndex==t.anchorSlot.columnIndex){var u=n.cellNodePosition.steps[0],i=e.column.layoutContext.xmldoc.getElementOffset(u.node);Ws(i,u.fragmentIndex+1,1)}}))},n.startTableCell=function(e){var t=this;if(this.inHeader||this.inFooter)return Iu(!0);var n=e.nodeContext;this.inRow||(this.currentRowIndex<0?this.currentRowIndex=0:this.currentRowIndex++,this.currentColumnIndex=0,this.inRow=!0);var u=this.formattingContext.getRowByIndex(this.currentRowIndex).cells[this.currentColumnIndex];if(!u)return e.break=!0,Iu(!0);var i=n.copy().modify();i.after=!0,e.nodeContext=i;var r,o=ku("startTableCell");if(this.hasBrokenCellAtSlot(u.anchorSlot.columnIndex)){var a=this.formattingContext.cellBreakPositions.shift();n.fragmentIndex=a.cellNodePosition.steps[0].fragmentIndex+1,r=Iu(a.breakChunkPosition)}else r=this.column.nextInTree(n,e.atUnforcedBreak).thenAsync((function(e){e.viewNode&&n.viewNode.removeChild(e.viewNode);var t=or(e,0);return Iu(new fr(t))}));return r.then((function(i){t.layoutCell(u,n,i).then((function(){t.afterNonInlineElementNode(e),t.currentColumnIndex++,o.finish(!0)}))})),o.result()},n.startNonInlineBox=function(e){var t=Sl(e,this.formattingContext,this.column);if(t)return t;var n=e.nodeContext,u=this.formattingContext.getRepetitiveElements(),i=n.display;return"table-header-group"===i&&u&&u.isHeaderSourceNode(n.sourceNode)?(this.inHeader=!0,Iu(!0)):"table-footer-group"===i&&u&&u.isFooterSourceNode(n.sourceNode)?(this.inFooter=!0,Iu(!0)):"table-row"===i?this.startTableRow(e):"table-cell"===i?this.startTableCell(e):Iu(!0)},n.endNonInlineBox=function(e){var t=e.nodeContext;if("table-row"===t.display&&(this.inRow=!1,!this.inHeader&&!this.inFooter)){var n=t.copy().modify();n.after=!1;var u=new yl(this.currentRowIndex,n,this.formattingContext);this.column.breakPositions.push(u)}return Iu(!0)},n.afterNonInlineElementNode=function(n){var u=n.nodeContext,i=this.formattingContext.getRepetitiveElements(),r=u.display;if("table-header-group"===r?i&&!i.allowInsertRepeatitiveElements&&i.isHeaderSourceNode(u.sourceNode)?(this.inHeader=!1,u.viewNode.parentNode.removeChild(u.viewNode)):te(u.viewNode,"display","table-row-group"):"table-footer-group"===r&&(i&&!i.allowInsertRepeatitiveElements&&i.isFooterSourceNode(u.sourceNode)?(this.inFooter=!1,u.viewNode.parentNode.removeChild(u.viewNode)):te(u.viewNode,"display","table-row-group")),r&&t.ignoreList[r])u.viewNode.parentNode.removeChild(u.viewNode);else{if(u.sourceNode!==this.formattingContext.tableSourceNode)return e.prototype.afterNonInlineElementNode.call(this,n);u.overflow=this.column.checkOverflowAndSaveEdge(u,null),this.resetColumn(),n.break=!0}return Iu(!0)},t}(bs);xl.ignoreList={"table-caption":!0,"table-column-group":!0,"table-column":!0};var Tl=[],kl=function(){function e(){}var t=e.prototype;return t.layoutEntireTable=function(e,t){var n=new Nl(e.formattingContext,t);return new Bs(n,t.layoutContext).iterate(e)},t.getColumnWidths=function(e,t,n,u){for(var i=e.ownerDocument,r=i.createElement("tr"),o=[],a=0;a<t;a++){var s=i.createElement("td");r.appendChild(s),o.push(s)}e.parentNode.insertBefore(r,e.nextSibling);var l=o.map((function(e){var t=u.getElementClientRect(e);return Math.ceil(n?t.height:t.width)}));return e.parentNode.removeChild(r),l},t.getColGroupElements=function(e){for(var t=[],n=e.firstElementChild;n;)"colgroup"===n.localName&&t.push(n),n=n.nextElementSibling;return t},t.normalizeAndGetColElements=function(e){var t=[];return e.forEach((function(e){var n=e.span;e.removeAttribute("span");for(var u=e.firstElementChild;u;){if("col"===u.localName){var i=u.span;for(u.removeAttribute("span"),n-=i;i-- >1;){var r=u.cloneNode(!0);e.insertBefore(r,u),t.push(r)}t.push(u)}u=u.nextElementSibling}for(;n-- >0;)u=e.ownerDocument.createElement("col"),e.appendChild(u),t.push(u)})),t},t.addMissingColElements=function(e,t,n,u){if(e.length<n){var i=u.ownerDocument.createElement("colgroup");t.push(i);for(var r=e.length;r<n;r++){var o=u.ownerDocument.createElement("col");i.appendChild(o),e.push(o)}}},t.normalizeColGroups=function(e,t,n){var u=e.vertical,i=e.lastRowViewNode;if(i){e.lastRowViewNode=null;var r=i.ownerDocument.createDocumentFragment(),o=e.getColumnCount();if(o>0){var a=e.colWidths=this.getColumnWidths(i,o,u,n.clientLayout),s=this.getColGroupElements(t),l=this.normalizeAndGetColElements(s);this.addMissingColElements(l,s,o,t),l.forEach((function(e,t){te(e,u?"height":"width",a[t]+"px")})),s.forEach((function(e){r.appendChild(e.cloneNode(!0))})),e.colGroups=r}else e.colGroups=r}},t.doInitialLayout=function(e,t){var n=this,u=e.formattingContext;u.vertical=e.vertical,u.initializeRepetitiveElements(e.vertical);var i,r,o,a=(i=e.sourceNode,r=Tl.findIndex((function(e){return e.root===i})),(o=Tl[r])?o.tableLayoutOption:null);!function(e){var t=Tl.findIndex((function(t){return t.root===e}));t>=0&&Tl.splice(t,1)}(e.sourceNode);var s=ku("TableLayoutProcessor.doInitialLayout"),l=e.copy();return this.layoutEntireTable(e,t).then((function(i){var r=i.viewNode,o=t.clientLayout.getElementClientRect(r),c=t.vertical?o.left:o.bottom;if(c+=(t.vertical?-1:1)*ps(e,t.collectElementsOffset()).current,!(t.isOverflown(c)||a&&a.calculateBreakPositionsInside))return t.breakPositions.push(new Rl(l)),void s.finish(i);n.normalizeColGroups(u,r,t),u.updateCellSizes(t.clientLayout),s.finish(null)})),s.result()},t.addCaptions=function(e,t,n){var u=e.captions;u.forEach((function(e,i){e&&(t.insertBefore(e.viewNode,n),"top"===e.side&&(u[i]=null))}))},t.addColGroups=function(e,t,n){e.colGroups&&0===this.getColGroupElements(t).length&&t.insertBefore(e.colGroups.cloneNode(!0),n)},t.removeColGroups=function(e,t){if(e.colGroups&&t){var n=this.getColGroupElements(t);n&&n.forEach((function(e){t.removeChild(e)}))}},t.doLayout=function(e,t){var n=e.formattingContext,u=n.getRootViewNode(e),i=u.firstChild;this.addCaptions(n,u,i),this.addColGroups(n,u,i);var r=new xl(n,t),o=new Bs(r,t.layoutContext),a=ku("TableFormattingContext.doLayout");return o.iterate(e).thenFinish(a),a.result()},t.layout=function(e,t,n){var u=e.formattingContext;return u.getRootViewNode(e)?(n&&pl(e.parent,t),new Il(u,this).layout(e,t)):t.buildDeepElementView(e)},t.createEdgeBreakPosition=function(e,t,n,u){return new Al(e,t,n,u)},t.startNonInlineElementNode=function(e){return!1},t.afterNonInlineElementNode=function(e,t){return!1},t.finishBreak=function(e,t,n,u){var i=t.formattingContext;if("table-row"===t.display){var r,o=i.findRowIndexBySourceNode(t.sourceNode);if(i.cellBreakPositions=[],(r=t.after?i.getRowSpanningCellsOverflowingTheRow(o):i.getCellsFallingOnRow(o)).length){var a=ku("TableLayoutProcessor.finishBreak"),s=0;return a.loopWithFrame((function(e){if(s!==r.length){var t=r[s++],n=i.getCellFragmentOfCell(t),u=n.findAcceptableBreakPosition().nodeContext,a=n.cellNodeContext,l=a.toNodePosition(),c=new fr(u.toNodePosition());i.cellBreakPositions.push({cellNodePosition:l,breakChunkPosition:c,cell:t});var D=a.viewNode;n.column.layoutContext.processFragmentedBlockEdge(n.cellNodeContext),o<t.rowIndex+t.rowSpan-1&&(D.rowSpan=o-t.rowIndex+1),n.empty?e.continueLoop():n.pseudoColumn.finishBreak(u,!1,!0).then((function(){!function(e,t,n){var u=t.getRepetitiveElements();if(u){var i=t.vertical,r=e.column,o=e.pseudoColumn.getColumnElement(),a=e.cellNodeContext.viewNode,s=r.clientLayout.getElementClientRect(a),l=r.getComputedPaddingBorder(a);i?te(o,"max-width",s.right-r.footnoteEdge-u.calculateOffset(n)-l.right+"px"):te(o,"max-height",r.footnoteEdge-u.calculateOffset(n)-s.top-l.top+"px"),te(o,"overflow","hidden")}}(n,i,u),e.continueLoop()}))}else e.breakLoop()})).then((function(){e.clearOverflownViewNodes(t,!1),e.layoutContext.processFragmentedBlockEdge(t),i.finishFragment(),a.finish(!0)})),a.result()}}return i.finishFragment(),vs.finishBreak(e,t,n,u)},t.clearOverflownViewNodes=function(e,t,n,u){gs.prototype.clearOverflownViewNodes(e,t,n,u)},e}(),Il=function(e){function t(t,n){var u;return(u=e.call(this)||this).tableFormattingContext=void 0,u.processor=void 0,u.tableFormattingContext=t,u.processor=n,u}x(t,e);var n=t.prototype;return n.resolveLayoutMode=function(e){var t=this.tableFormattingContext.getRepetitiveElements();return t&&t.doneInitialLayout?(e.sourceNode!==this.tableFormattingContext.tableSourceNode||e.after||t&&t.preventSkippingHeader(),new Ol(this.tableFormattingContext,this.processor)):new Pl(this.tableFormattingContext,this.processor)},n.clearNodes=function(t){e.prototype.clearNodes.call(this,t);var n=this.tableFormattingContext.getRootViewNode(t);this.processor.removeColGroups(this.tableFormattingContext,n)},n.restoreState=function(t,n){e.prototype.restoreState.call(this,t,n),this.tableFormattingContext.finishFragment()},t}(As),Pl=function(e){function t(t,n){var u;return(u=e.call(this,t)||this).processor=void 0,u.processor=n,u}return x(t,e),t.prototype.doLayout=function(e,t){return this.processor.doInitialLayout(e,t)},t}(sl),Rl=function(e){function t(t){return e.call(this,t,null,t.overflow,0)||this}x(t,e);var n=t.prototype;return n.getMinBreakPenalty=function(){if(!this.isEdgeUpdated)throw new Error("EdgeBreakPosition.prototype.updateEdge not called");return(this.overflows?3:0)+(this.position.parent?this.position.parent.breakPenalty:0)},n.breakPositionChosen=function(e){e.fragmentLayoutConstraints.push(new Ll(this.position.sourceNode))},t}(Es),Ll=function(){function e(e){this.tableRootNode=void 0,this.flagmentLayoutConstraintType="EntireTable",this.tableRootNode=e}var t=e.prototype;return t.allowLayout=function(e,t,n){return!1},t.nextCandidate=function(e){return!0},t.postLayout=function(e,t,n,u){Tl.push({root:t.sourceNode,tableLayoutOption:{calculateBreakPositionsInside:!0}})},t.finishBreak=function(e,t){return Iu(!0)},t.equalsTo=function(t){return t instanceof e&&t.tableRootNode===this.tableRootNode},t.getPriorityOfFinishBreak=function(){return 0},e}(),Ol=function(e){function t(t,n){var u;return(u=e.call(this,t)||this).processor=void 0,u.processor=n,u}return x(t,e),t.prototype.doLayout=function(e,t){var n=this.formattingContext.getRepetitiveElements();if(n&&!n.isAfterLastContent(e)){var u=new _l(e);t.fragmentLayoutConstraints.some((function(e){return u.equalsTo(e)}))||t.fragmentLayoutConstraints.unshift(u)}return this.processor.doLayout(e,t)},t}(ll),_l=function(e){function t(t){var n;return(n=e.call(this,t)||this).flagmentLayoutConstraintType="TableRow",n.cellFragmentLayoutConstraints=[],n}x(t,e);var n=t.prototype;return n.allowLayout=function(e,t,n){var u=this.getRepetitiveElements();return!(u&&!n.pseudoParent&&!cs(this.nodeContext.viewNode)&&u.isEnableToUpdateState()&&(t&&!e||e&&e.overflow))},n.nextCandidate=function(t){return!!this.collectCellFragmentLayoutConstraints(t,this.nodeContext.formattingContext).some((function(e){return e.constraints.some((function(e){return e.nextCandidate(t)}))}))||e.prototype.nextCandidate.call(this,t)},n.postLayout=function(t,n,u,i){var r=this.nodeContext.formattingContext;if(this.cellFragmentLayoutConstraints=this.collectCellFragmentLayoutConstraints(n,r),this.cellFragmentLayoutConstraints.forEach((function(e){e.constraints.forEach((function(n){n.postLayout(t,e.breakPosition,u,i)}))})),!t){var o=r.getRootViewNode(this.nodeContext);(new kl).removeColGroups(r,o),this.removeDummyRowNodes(u)}e.prototype.postLayout.call(this,t,n,u,i)},n.finishBreak=function(t,n){var u=this,i=ku("finishBreak"),r=this.cellFragmentLayoutConstraints.reduce((function(e,t){return e.concat(t.constraints.map((function(e){return{constraint:e,breakPosition:t.breakPosition}})))}),[]),o=0;return i.loop((function(){if(o<r.length){var e=r[o++];return e.constraint.finishBreak(e.breakPosition,n).thenReturn(!0)}return Iu(!1)})).then((function(){i.finish(!0)})),i.result().thenAsync((function(){return e.prototype.finishBreak.call(u,t,n)}))},n.removeDummyRowNodes=function(e){if(e&&"table-row"===e.display&&e.viewNode)for(;e.viewNode.previousElementSibling;){var t=e.viewNode.previousElementSibling;t.parentNode&&t.parentNode.removeChild(t)}},n.collectCellFragmentLayoutConstraints=function(e,t){return this.getCellFragemnts(e,t).map((function(e){return{constraints:e.fragment.pseudoColumn.getColumn().fragmentLayoutConstraints,breakPosition:e.breakPosition}}))},n.getCellFragemnts=function(e,t){var n=Number.MAX_VALUE;e&&"table-row"===e.display&&(n=t.findRowIndexBySourceNode(e.sourceNode)+1),n=Math.min(t.cellFragments.length,n);for(var u=[],i=0;i<n;i++)t.cellFragments[i]&&t.cellFragments[i].forEach((function(e){e&&u.push({fragment:e,breakPosition:e.findAcceptableBreakPosition().nodeContext})}));return u},n.getElementsOffsetsForTableCell=function(e){var t=this.nodeContext.formattingContext,n=t.findCellFromColumn(e);return n?t.collectElementsOffsetOfUpperCells(n):t.collectElementsOffsetOfHighestColumn()},n.equalsTo=function(e){return e instanceof t&&this.nodeContext.formattingContext===e.nodeContext.formattingContext},t}(hl),Ml=new kl;function Ul(e){return e.reduce((function(e,t){return e+t}),0)/e.length}p(t.cF.RESOLVE_FORMATTING_CONTEXT,(function(e,t,n,u,i,r){if(!t)return null;if(n===Jt.table){var o=e.parent;return new Bl(o?o.formattingContext:null,e.sourceNode)}return null})),p(t.cF.RESOLVE_LAYOUT_PROCESSOR,(function(e){return e instanceof Bl?Ml:null}));var zl=function(e,t){this.layoutResult=void 0,this.penalty=void 0,this.layoutResult=e,this.penalty=t};function Vl(e){return e.vertical?e.width:e.height}function Hl(e,t){e.vertical?e.width=t:e.height=t}var Gl=function(){function e(e,t,n){this.layoutContainer=void 0,this.columnGenerator=void 0,this.regionPageFloatLayoutContext=void 0,this.originalContainerBlockSize=void 0,this.layoutContainer=e,this.columnGenerator=t,this.regionPageFloatLayoutContext=n,this.originalContainerBlockSize=Vl(e)}var t=e.prototype;return t.balanceColumns=function(e){var t=this,n=ku("ColumnBalancer#balanceColumns");this.preBalance(e),this.savePageFloatLayoutContexts(e),this.layoutContainer.clear();var u=[this.createTrialResult(e)];return n.loopWithFrame((function(e){t.hasNextCandidate(u)?(t.updateCondition(u),t.columnGenerator().then((function(n){t.savePageFloatLayoutContexts(n),t.layoutContainer.clear(),n?(u.push(t.createTrialResult(n)),e.continueLoop()):e.breakLoop()}))):e.breakLoop()})).then((function(){var e=u.reduce((function(e,t){return t.penalty<e.penalty?t:e}),u[0]);t.restoreContents(e.layoutResult),t.postBalance(),n.finish(e.layoutResult)})),n.result()},t.createTrialResult=function(e){var t=this.calculatePenalty(e);return new zl(e,t)},t.preBalance=function(e){},t.postBalance=function(){Hl(this.layoutContainer,this.originalContainerBlockSize)},t.savePageFloatLayoutContexts=function(e){var t=this.regionPageFloatLayoutContext.detachChildren();e&&(e.columnPageFloatLayoutContexts=t)},t.restoreContents=function(e){var t=this.layoutContainer.element;e.columns.forEach((function(e){t.appendChild(e.element)})),this.regionPageFloatLayoutContext.attachChildren(e.columnPageFloatLayoutContexts)},e}();function Wl(e){var t=e[e.length-1];if(0===t.penalty)return!1;var n=e[e.length-2];if(n&&t.penalty>=n.penalty)return!1;var u=t.layoutResult.columns;return Math.max.apply(null,u.map((function(e){return e.computedBlockSize})))>Math.max.apply(null,u.map((function(e){return e.getMaxBlockSizeOfPageFloats()})))+1}function Xl(e,t){var n=Math.max.apply(null,e[e.length-1].layoutResult.columns.map((function(e){return isNaN(e.blockDistanceToBlockEndFloats)?e.computedBlockSize:e.computedBlockSize-e.blockDistanceToBlockEndFloats+1})))-1;n<Vl(t)?Hl(t,n):Hl(t,Vl(t)-1)}var jl=function(e){function t(t,n,u,i){var r;return(r=e.call(this,u,t,n)||this).columnCount=void 0,r.originalPosition=null,r.foundUpperBound=!1,r.columnCount=i,r}x(t,e);var n=t.prototype;return n.preBalance=function(e){var t=e.columns.reduce((function(e,t){return e+t.computedBlockSize}),0);Hl(this.layoutContainer,t/this.columnCount),this.originalPosition=e.position},n.checkPosition=function(e){return this.originalPosition?this.originalPosition.isSamePosition(e):null===e},n.calculatePenalty=function(e){if(!this.checkPosition(e.position))return 1/0;var t=e.columns;return $l(t)?1/0:Math.max.apply(null,t.map((function(e){return e.computedBlockSize})))},n.hasNextCandidate=function(e){if(1===e.length)return!0;if(this.foundUpperBound)return Wl(e);var t=e[e.length-1];return this.checkPosition(t.layoutResult.position)&&!$l(t.layoutResult.columns)?(this.foundUpperBound=!0,!0):Vl(this.layoutContainer)<this.originalContainerBlockSize},n.updateCondition=function(e){if(this.foundUpperBound)Xl(e,this.layoutContainer);else{var t=Math.min(this.originalContainerBlockSize,Vl(this.layoutContainer)+.1*this.originalContainerBlockSize);Hl(this.layoutContainer,t)}},t}(Gl);function $l(e){if(e.length<=1)return!1;var t=e[e.length-1].computedBlockSize;return e.slice(0,e.length-1).every((function(e){return t>e.computedBlockSize}))}var ql,Yl=function(e){function t(t,n,u){return e.call(this,u,t,n)||this}x(t,e);var n=t.prototype;return n.calculatePenalty=function(e){if(e.columns.every((function(e){return 0===e.computedBlockSize})))return 1/0;var t,n,u=e.columns.filter((function(e){return!e.pageBreakType})).map((function(e){return e.computedBlockSize}));return n=Ul(t=u),Ul(t.map((function(e){var t=e-n;return t*t})))},n.hasNextCandidate=function(e){return Wl(e)},n.updateCondition=function(e){Xl(e,this.layoutContainer)},t}(Gl),Kl=function(e,t,n){this.endStuckFixed=void 0,this.endFixed=void 0,this.endSlipped=void 0,this.endStuckFixed=e,this.endFixed=t,this.endSlipped=n},Ql=function(){function e(){this.map=[]}var t=e.prototype;return t.getMaxFixed=function(){return 0==this.map.length?0:this.map[this.map.length-1].endFixed},t.getMaxSlipped=function(){return 0==this.map.length?0:this.map[this.map.length-1].endSlipped},t.addStuckRange=function(e){if(0==this.map.length)this.map.push(new Kl(e,e,e));else{var t=this.map[this.map.length-1],n=t.endSlipped+e-t.endFixed;t.endFixed==t.endStuckFixed?(t.endFixed=e,t.endStuckFixed=e,t.endSlipped=n):this.map.push(new Kl(e,e,n))}},t.addSlippedRange=function(e){0==this.map.length?this.map.push(new Kl(e,0,0)):this.map[this.map.length-1].endFixed=e},t.slippedByFixed=function(e){var t=this,n=he(this.map.length,(function(n){return e<=t.map[n].endFixed})),u=this.map[n];return u.endSlipped-Math.max(0,u.endStuckFixed-e)},t.fixedBySlipped=function(e){var t=this,n=he(this.map.length,(function(n){return e<=t.map[n].endSlipped})),u=this.map[n];return u.endStuckFixed-(u.endSlipped-e)},e}(),Zl=function(){function e(t,n,u,i,r,o,a,s){if(this.context=void 0,this.style=void 0,this.offset=void 0,this.isRoot=void 0,this.flowChunk=void 0,this.atBlockStart=void 0,this.atFlowStart=void 0,this.isParentBoxDisplayed=void 0,this.flowName=void 0,this.isBlockValue=null,this.hasBoxValue=null,this.styleValues={},this.beforeBox=null,this.afterBox=null,this.breakBefore=null,this.context=t,this.style=n,this.offset=u,this.isRoot=i,this.flowChunk=r,this.atBlockStart=o,this.atFlowStart=a,this.isParentBoxDisplayed=s,this.flowName=r.flowName,this.hasBox()){var l=n._pseudos;if(l&&l.before){var c=new e(t,l.before,u,!1,r,this.isBlock(),a,!0);Fr(c.styleValue("content"))&&(this.beforeBox=c,this.breakBefore=c.breakBefore)}}this.breakBefore=Ja(this.getBreakValue("before"),this.breakBefore),this.atFlowStart&&qa(this.breakBefore)&&(r.breakBefore=Ja(r.breakBefore,this.breakBefore))}var t=e.prototype;return t.buildAfterPseudoElementBox=function(t,n,u){if(this.hasBox()){var i=this.style._pseudos;if(i&&i.after){var r=new e(this.context,i.after,t,!1,this.flowChunk,n,u,!0);Fr(r.styleValue("content"))&&(this.afterBox=r)}}},t.styleValue=function(e,t){if(!(e in this.styleValues)){var n=this.style[e];this.styleValues[e]=n?n.evaluate(this.context,e):t||null}return this.styleValues[e]},t.displayValue=function(){return this.styleValue("display",Jt.inline)},t.isBlock=function(){if(null===this.isBlockValue){var e=this.displayValue(),t=this.styleValue("position"),n=this.styleValue("float");this.isBlockValue=rs(e,t,n,this.isRoot)}return this.isBlockValue},t.hasBox=function(){return null===this.hasBoxValue&&(this.hasBoxValue=this.isParentBoxDisplayed&&this.displayValue()!==Jt.none),this.hasBoxValue},t.getBreakValue=function(e){var t=null;if(this.isBlock()){var n=this.styleValue("break-"+e);n&&(t=n.toString())}return t},e}(),Jl=function(){function e(e){this.context=void 0,this.stack=[],this.atBlockStart=!0,this.atFlowStart=!0,this.atStartStack=[],this.context=e}var t=e.prototype;return t.empty=function(){return 0===this.stack.length},t.lastBox=function(){return this.stack[this.stack.length-1]},t.lastFlowName=function(){var e=this.lastBox();return e?e.flowChunk.flowName:null},t.isCurrentBoxDisplayed=function(){return this.stack.every((function(e){return e.displayValue()!==Jt.none}))},t.push=function(e,t,n,u){var i=this.lastBox();u&&i&&u.flowName!==i.flowName&&this.atStartStack.push({atBlockStart:this.atBlockStart,atFlowStart:this.atFlowStart});var r=u||i.flowChunk,o=this.atFlowStart||!!u,a=this.isCurrentBoxDisplayed(),s=new Zl(this.context,e,t,n,r,o||this.atBlockStart,o,a);return this.stack.push(s),this.atBlockStart=s.hasBox()?!s.beforeBox&&s.isBlock():this.atBlockStart,this.atFlowStart=s.hasBox()?!s.beforeBox&&o:this.atFlowStart,s},t.encounteredTextNode=function(e){var t=this.lastBox();if((e.nodeType===Node.TEXT_NODE||e.nodeType===Node.CDATA_SECTION_NODE)&&(this.atBlockStart||this.atFlowStart)&&t.hasBox()){var n=Zi(t.styleValue("white-space",Jt.normal).toString());n&&!Ji(e,n)&&(this.atBlockStart=!1,this.atFlowStart=!1)}},t.pop=function(e){var t=this.stack.pop();if(t.buildAfterPseudoElementBox(e,this.atBlockStart,this.atFlowStart),this.atFlowStart&&t.afterBox){var n=t.afterBox.getBreakValue("before");t.flowChunk.breakBefore=Ja(t.flowChunk.breakBefore,n)}var u=this.lastBox();if(u)if(u.flowName===t.flowName)t.hasBox()&&(this.atBlockStart=this.atFlowStart=!1);else{var i=this.atStartStack.pop();this.atBlockStart=i.atBlockStart,this.atFlowStart=i.atFlowStart}return t},t.nearestBlockStartOffset=function(e){if(!e.atBlockStart)return e.offset;var t=this.stack.length-1,n=this.stack[t];for(n===e&&(t--,n=this.stack[t]);t>=0;){if(n.flowName!==e.flowName)return e.offset;if(!n.atBlockStart)return n.offset;if(n.isRoot)return n.offset;e=n,n=this.stack[--t]}throw new Error("No block start offset found!")},e}(),ec=function(){function e(e,t,n,u,i,r,o,a){this.xmldoc=void 0,this.scope=void 0,this.context=void 0,this.primaryFlows=void 0,this.validatorSet=void 0,this.counterListener=void 0,this.root=void 0,this.cascadeHolder=void 0,this.last=void 0,this.rootStyle={},this.styleMap={},this.flows={},this.flowChunks=[],this.flowListener=null,this.flowToReach=null,this.idToReach=null,this.cascade=void 0,this.offsetMap=void 0,this.primary=!0,this.primaryStack=[],this.rootBackgroundAssigned=!1,this.rootLayoutAssigned=!1,this.lastOffset=void 0,this.breakBeforeValues={},this.boxStack=void 0,this.bodyReached=!0,this.xmldoc=e,this.scope=n,this.context=u,this.primaryFlows=i,this.validatorSet=r,this.counterListener=o,this.root=e.root,this.cascadeHolder=t,this.last=this.root,this.cascade=t.createInstance(u,o,a,e.lang),this.offsetMap=new Ql;var s=e.getElementOffset(this.root);this.lastOffset=s,this.boxStack=new Jl(u),this.offsetMap.addStuckRange(s);var l=this.getAttrStyle(this.root);this.cascade.pushElement(this,this.root,l,s),this.postprocessTopStyle(l,!1),this.root.namespaceURI===W.XHTML&&(this.bodyReached=!1),this.primaryStack.push(!0),this.styleMap={},this.styleMap["e"+s]=l,this.lastOffset++,this.replayFlowElementsFromOffset(-1)}var t=e.prototype;return t.hasProp=function(e,t,n){var u=e[n];return u&&u.evaluate(this.context)!==t[n]},t.transferPropsToRoot=function(e,t){for(var n in t){var u=e[n];if(u)this.rootStyle[n]=u,delete e[n];else{var i=t[n];i&&(this.rootStyle[n]=new kr(i,33554432))}}},t.postprocessTopStyle=function(e,t){if(t)for(var n=0,u=["writing-mode","direction"];n<u.length;n++){var i=u[n];!e[i]||t&&this.rootStyle[i]||(this.rootStyle[i]=e[i])}else for(var r in e)Mr(r)&&(this.rootStyle[r]=e[r]);if(!this.rootBackgroundAssigned){var o=this.hasProp(e,this.validatorSet.backgroundProps,"background-color")?e["background-color"].evaluate(this.context):null,a=this.hasProp(e,this.validatorSet.backgroundProps,"background-image")?e["background-image"].evaluate(this.context):null;(o&&!an(o)||a&&!an(a))&&(this.transferPropsToRoot(e,this.validatorSet.backgroundProps),this.rootBackgroundAssigned=!0)}if(!this.rootLayoutAssigned)for(var s=0;s<tc.length;s++)if(this.hasProp(e,this.validatorSet.layoutProps,tc[s])){this.transferPropsToRoot(e,this.validatorSet.layoutProps),this.rootLayoutAssigned=!0;break}if(!t){var l,c=e["font-size"],D=!0;if(c&&!an(c.value)){var h=c.evaluate(this.context);if(h instanceof Ut){var f=h.num;switch(h.unit){case"em":case"rem":f*=this.context.initialFontSize;break;case"ex":f*=this.context.initialFontSize*Me.ex/Me.em;break;case"%":f*=this.context.initialFontSize/100;break;case"lh":case"rlh":f*=this.context.initialFontSize*Me.lh/Me.em;break;default:var d=Me[h.unit];d&&(f*=d),D=!1}this.context.rootFontSize=f,this.context.isRelativeRootFontSize=D}}var p=null!=(l=this.context.rootFontSize)?l:this.context.initialFontSize,E=e["line-height"];if(E&&!an(E.value)){var C=E.evaluate(this.context);if(C instanceof zt)this.context.rootLineHeight=C.num*p;else if(C instanceof Ut){var g=C.num;switch(C.unit){case"em":case"rem":g*=p;break;case"ex":g*=p*Me.ex/Me.em;break;case"%":g*=p/100;break;case"lh":case"rlh":g*=this.context.initialFontSize*Me.lh/Me.em;break;default:var F=Me[C.unit];F&&(g*=F)}this.context.rootLineHeight=g}}else this.context.rootLineHeight=this.context.fontSize()*Me.lh/Me.em}},t.getTopContainerStyle=function(){for(var e=0;!this.bodyReached&&this.styleUntil(e+=5e3,0)!=Number.POSITIVE_INFINITY;);return this.rootStyle},t.getAttrStyle=function(e){if(e.style instanceof CSSStyleDeclaration){var t=e.getAttribute("style");if(t)return function(e,t,n,u){var i=new aa(e,t),r=new Su(u,i);try{!function(e,t,n){new wi(ci,e,t,n).runParser(Number.POSITIVE_INFINITY,!1,!0,!1,!1)}(r,i,n)}catch(e){f.warn(e,"Style attribute parse error:")}return i.elementStyle}(this.scope,this.validatorSet,this.xmldoc.url,t)}return{}},t.getReachedOffset=function(){return this.lastOffset},t.replayFlowElementsFromOffset=function(e){if(!(e>=this.lastOffset)){var t=this.context,n=this.xmldoc.getElementOffset(this.root);if(e<n){var u=this.getStyle(this.root,!1),i=Ur(u,"flow-into"),r=i?i.evaluate(t,"flow-into").toString():"body",o=this.encounteredFlowElement(r,u,this.root,n);this.boxStack.empty()&&this.boxStack.push(u,n,!0,o)}var a=this.xmldoc.getNodeByOffset(e),s=this.xmldoc.getNodeOffset(a,0,!1);if(!(s>=this.lastOffset))for(;;){if(1!=a.nodeType)s+=a.textContent.length;else{var l=a,c=this.getStyle(l,!1),D=c["flow-into"];if(D){var h=D.evaluate(t,"flow-into").toString();this.encounteredFlowElement(h,c,l,s)}s++}if(s>=this.lastOffset)break;var f=a.firstChild;if(null==f)for(;!(f=a.nextSibling);)if((a=a.parentNode)===this.root)return;a=f}}},t.resetFlowChunkStream=function(e){this.flowListener=e;for(var t=0;t<this.flowChunks.length;t++)this.flowListener.encounteredFlowChunk(this.flowChunks[t],this.flows[this.flowChunks[t].flowName])},t.styleUntilFlowIsReached=function(e){this.flowToReach=e;for(var t=0;null!=this.flowToReach&&this.styleUntil(t+=5e3,0)!=Number.POSITIVE_INFINITY;);},t.styleUntilIdIsReached=function(e){if(e){this.idToReach=e;for(var t=0;this.idToReach&&this.styleUntil(t+=5e3,0)!==Number.POSITIVE_INFINITY;);this.idToReach=null}},t.encounteredFlowElement=function(e,t,n,u){var i=0,r=Number.POSITIVE_INFINITY,o=!1,a=!1,s=!1,l=t["flow-options"];if(l){var c=function(e){if(e){var t=new kn;try{return e.visit(t),t.propSet}catch(e){f.warn(e,"toSet:")}}return{}}(l.evaluate(this.context,"flow-options"));o=!!c.exclusive,a=!!c.static,s=!!c.last}var D=t["flow-linger"];D&&(r=Pn(D.evaluate(this.context,"flow-linger"),Number.POSITIVE_INFINITY));var h=t["flow-priority"];h&&(i=Pn(h.evaluate(this.context,"flow-priority"),0));var d=this.breakBeforeValues[u]||null,p=this.flows[e];if(!p){var E=this.boxStack.lastFlowName();p=this.flows[e]=new er(e,E)}var C=new tr(e,n,u,i,r,o,a,s,d);return this.flowChunks.push(C),this.flowToReach==e&&(this.flowToReach=null),this.flowListener&&this.flowListener.encounteredFlowChunk(C,p),C},t.registerForcedBreakOffset=function(e,t,n){if(qa(e)){var u=this.flows[n].forcedBreakOffsets;(0===u.length||u[u.length-1]<t)&&u.push(t)}this.breakBeforeValues[t]=Ja(this.breakBeforeValues[t],e)},t.styleUntil=function(e,t){var n=-1;if(e<=this.lastOffset&&(n=this.offsetMap.slippedByFixed(e)+t)<this.offsetMap.getMaxSlipped())return this.offsetMap.fixedBySlipped(n);if(null==this.last)return Number.POSITIVE_INFINITY;for(var u=this.context;;){var i=this.last.firstChild;if(null==i)for(;;){if(1==this.last.nodeType){this.cascade.popElement(this.last),this.primary=this.primaryStack.pop();var r=this.boxStack.pop(this.lastOffset),o=null;if(r.afterBox){var a=r.afterBox.getBreakValue("before");this.registerForcedBreakOffset(a,r.afterBox.atBlockStart?this.boxStack.nearestBlockStartOffset(r):r.afterBox.offset,r.flowName),o=r.afterBox.getBreakValue("after")}o=Ja(o,r.getBreakValue("after")),this.registerForcedBreakOffset(o,this.lastOffset,r.flowName)}if(i=this.last.nextSibling)break;if(this.last=this.last.parentNode,this.last===this.root)return this.last=null,e<this.lastOffset&&(n<0&&(n=this.offsetMap.slippedByFixed(e)+t),n<=this.offsetMap.getMaxSlipped())?this.offsetMap.fixedBySlipped(n):Number.POSITIVE_INFINITY}if(this.last=i,1!=this.last.nodeType)this.lastOffset+=this.last.textContent.length,this.boxStack.encounteredTextNode(this.last),this.primary?this.offsetMap.addStuckRange(this.lastOffset):this.offsetMap.addSlippedRange(this.lastOffset);else{var s=this.last,l=this.getAttrStyle(s);this.primaryStack.push(this.primary),this.cascade.pushElement(this,s,l,this.lastOffset);var c=s.getAttribute("id")||s.getAttributeNS(W.XML,"id");c&&c===this.idToReach&&(this.idToReach=null),this.bodyReached||"body"!=s.localName||s.parentNode!=this.root||(this.postprocessTopStyle(l,!0),this.bodyReached=!0);var D=void 0,h=l["flow-into"];if(h){var f=h.evaluate(u,"flow-into").toString(),d=this.encounteredFlowElement(f,l,s,this.lastOffset);this.primary=!!this.primaryFlows[f],D=this.boxStack.push(l,this.lastOffset,s===this.root,d)}else D=this.boxStack.push(l,this.lastOffset,s===this.root),s===this.xmldoc.body&&(D.breakBefore=Ja(D.flowChunk.breakBefore,D.breakBefore));var p=this.boxStack.nearestBlockStartOffset(D);if(0===p){var E=l.page,C=E&&!an(E.value)&&E.value.toString();C&&"auto"!==C.toLowerCase()&&(this.cascade.firstPageType=C)}if(this.registerForcedBreakOffset(D.breakBefore,p,D.flowName),D.beforeBox){var g=D.beforeBox.getBreakValue("after");this.registerForcedBreakOffset(g,D.beforeBox.atBlockStart?p:D.offset,D.flowName)}if(this.primary&&D.displayValue()===Jt.none&&(this.primary=!1),this.styleMap["e"+this.lastOffset]=l,this.lastOffset++,this.primary?this.offsetMap.addStuckRange(this.lastOffset):this.offsetMap.addSlippedRange(this.lastOffset),this.bodyReached&&0===p)continue;if(e<this.lastOffset&&(n<0&&(n=this.offsetMap.slippedByFixed(e)+t),n<=this.offsetMap.getMaxSlipped()))return this.offsetMap.fixedBySlipped(n)}}},t.getStyle=function(e,t){var n=this.xmldoc.getElementOffset(e),u="e"+n;return t&&(n=this.xmldoc.getNodeOffset(e,0,!0)),this.lastOffset<=n&&this.styleUntil(n,0),this.styleMap[u]},t.processContent=function(e,t,n){},e}(),tc=["column-count","column-width","column-fill"],nc=function(){function e(e){this.validator=void 0,this.success=null,this.failure=null,this.code=0,this.validator=e}var t=e.prototype;return t.isSpecial=function(){return 0!=this.code},t.markAsStartGroup=function(){this.code=-1},t.isStartGroup=function(){return-1==this.code},t.markAsEndGroup=function(){this.code=-2},t.isEndGroup=function(){return-2==this.code},t.markAsStartAlternate=function(e){this.code=2*e+1},t.isStartAlternate=function(){return this.code>0&&this.code%2!=0},t.markAsEndAlternate=function(e){this.code=2*e+2},t.isEndAlternate=function(){return this.code>0&&this.code%2==0},t.getAlternate=function(){return Math.floor((this.code-1)/2)},e}(),uc=function(e,t){this.where=void 0,this.success=void 0,this.what=-1,this.where=e,this.success=t};!function(e){e[e.FOLLOW=1]="FOLLOW",e[e.OPTIONAL=2]="OPTIONAL",e[e.REPEATED=3]="REPEATED",e[e.ALTERNATE=4]="ALTERNATE"}(ql||(ql={}));var ic=function(){function e(){this.nodes=[],this.connections=[],this.match=[],this.nomatch=[],this.error=[],this.emptyHead=!0}var t=e.prototype;return t.connect=function(e,t){for(var n=0;n<e.length;n++)this.connections[e[n]].what=t;e.splice(0,e.length)},t.clone=function(){for(var t,n,u,i=new e,r=0;r<this.nodes.length;r++){var o=this.nodes[r],a=new nc(o.validator);a.code=o.code,i.nodes.push(a)}for(var s=0;s<this.connections.length;s++){var l=this.connections[s],c=new uc(l.where,l.success);c.what=l.what,i.connections.push(c)}return(t=i.match).push.apply(t,this.match),(n=i.nomatch).push.apply(n,this.nomatch),(u=i.error).push.apply(u,this.error),i},t.addSpecialToArr=function(e,t,n){var u=this.nodes.length,i=new nc(sc);n>=0?t?i.markAsStartAlternate(n):i.markAsEndAlternate(n):t?i.markAsStartGroup():i.markAsEndGroup(),this.nodes.push(i),this.connect(e,u);var r=new uc(u,!0),o=new uc(u,!1);e.push(this.connections.length),this.connections.push(o),e.push(this.connections.length),this.connections.push(r)},t.endSpecialGroup=function(){for(var e=[this.match,this.nomatch,this.error],t=0;t<e.length;t++)this.addSpecialToArr(e[t],!1,-1)},t.startSpecialGroup=function(){if(this.nodes.length)throw new Error("invalid call");this.addSpecialToArr(this.match,!0,-1)},t.endClause=function(e){this.addSpecialToArr(this.match,!1,e)},t.startClause=function(e){if(this.nodes.length)throw new Error("invalid call");var t=new nc(sc);t.markAsStartAlternate(e),this.nodes.push(t);var n=new uc(0,!0),u=new uc(0,!1);this.nomatch.push(this.connections.length),this.connections.push(u),this.match.push(this.connections.length),this.connections.push(n)},t.addPrimitive=function(e){var t=this.nodes.length;this.nodes.push(new nc(e));var n=new uc(t,!0),u=new uc(t,!1);this.connect(this.match,t),this.emptyHead?(this.nomatch.push(this.connections.length),this.emptyHead=!1):this.error.push(this.connections.length),this.connections.push(u),this.match.push(this.connections.length),this.connections.push(n)},t.isSimple=function(){return 1==this.nodes.length&&!this.nodes[0].isSpecial()},t.isPrimitive=function(){return this.isSimple()&&this.nodes[0].validator instanceof oc},t.addGroup=function(e,t){if(0!=e.nodes.length){var n=this.nodes.length;if(t==ql.ALTERNATE&&1==n&&e.isPrimitive()&&this.isPrimitive())this.nodes[0].validator=this.nodes[0].validator.combine(e.nodes[0].validator);else{for(var u=0;u<e.nodes.length;u++)this.nodes.push(e.nodes[u]);t==ql.ALTERNATE?(this.emptyHead=!0,this.connect(this.nomatch,n)):this.connect(this.match,n);for(var i=this.connections.length,r=0;r<e.connections.length;r++){var o=e.connections[r];o.where+=n,o.what>=0&&(o.what+=n),this.connections.push(o)}for(var a=0;a<e.match.length;a++)this.match.push(e.match[a]+i);if(t==ql.REPEATED&&this.connect(this.match,n),t==ql.OPTIONAL||t==ql.REPEATED)for(var s=0;s<e.nomatch.length;s++)this.match.push(e.nomatch[s]+i);else if(this.emptyHead){for(var l=0;l<e.nomatch.length;l++)this.nomatch.push(e.nomatch[l]+i);this.emptyHead=e.emptyHead}else for(var c=0;c<e.nomatch.length;c++)this.error.push(e.nomatch[c]+i);for(var D=0;D<e.error.length;D++)this.error.push(e.error[D]+i);e.nodes=null,e.connections=null}}},t.finish=function(e,t){var n=this.nodes.length;this.nodes.push(e),this.nodes.push(t),this.connect(this.match,n),this.connect(this.nomatch,n+1),this.connect(this.error,n+1);for(var u,i=_(this.connections);!(u=i()).done;){var r=u.value;r.success?this.nodes[r.where].success=this.nodes[r.what]:this.nodes[r.where].failure=this.nodes[r.what]}for(var o=0;o<n;o++)if(null==this.nodes[o].failure||null==this.nodes[o].success)throw new Error("Invalid validator state");return this.nodes[0]},e}(),rc=function(e){function t(){return e.call(this)||this}return x(t,e),t.prototype.validateForShorthand=function(e,t){var n=e[t].visit(this);return n?[n]:null},t}(Nt),oc=function(e){function t(t,n,u){var i;return(i=e.call(this)||this).allowed=void 0,i.idents=void 0,i.units=void 0,i.allowed=t,i.idents=n,i.units=u,i}x(t,e);var n=t.prototype;return n.visitEmpty=function(e){return 1&this.allowed?e:null},n.visitSlash=function(e){return 2048&this.allowed?e:null},n.visitStr=function(e){return 2&this.allowed?e:null},n.visitIdent=function(e){return this.idents[e.name.toLowerCase()]||(4&this.allowed||64&this.allowed&&CSS.supports("color",e.name)?e:null)},n.visitNumeric=function(e){return 0!=e.num||512&this.allowed?e.num<0&&!(256&this.allowed)?null:this.units[e.unit]?e:null:"%"==e.unit&&1024&this.allowed?e:null},n.visitNum=function(e){return 0==e.num?512&this.allowed?e:null:e.num<=0&&!(256&this.allowed)?null:16&this.allowed?e:null},n.visitInt=function(e){return 0==e.num?512&this.allowed?e:null:e.num<=0&&!(256&this.allowed)?null:48&this.allowed?e:this.idents[""+e.num]||null},n.visitHexColor=function(e){return 64&this.allowed&&/^([0-9A-F]{3,4}|([0-9A-F]{2}){3,4})$/i.test(e.hex)?e:null},n.visitURL=function(e){return 128&this.allowed?e:null},n.visitURange=function(e){return 4096&this.allowed?e:null},n.visitSpaceList=function(e){return null},n.visitCommaList=function(e){return null},n.visitFunc=function(e){return 64&this.allowed&&CSS.supports("color",e.toString())||8192&this.allowed&&CSS.supports("background-image",e.toString())||"calc"===e.name&&1848&this.allowed?e:null},n.visitExpr=function(e){return 2046&this.allowed?e:null},n.combine=function(e){var n={},u={};for(var i in this.idents)n[i]=this.idents[i];for(var r in e.idents)n[r]=e.idents[r];for(var o in this.units)u[o]=this.units[o];for(var a in e.units)u[a]=e.units[a];return new t(this.allowed|e.allowed,n,u)},t}(rc),ac={},sc=new oc(0,ac,ac),lc=function(e){function t(t){var n;return(n=e.call(this)||this).successTerminal=void 0,n.failureTerminal=void 0,n.first=void 0,n.successTerminal=new nc(null),n.failureTerminal=new nc(null),n.first=t.finish(n.successTerminal,n.failureTerminal),n}x(t,e);var n=t.prototype;return n.validateList=function(e,t,n){for(var u=t?[]:e,i=this.first,r=n,o=null,a=null;i!==this.successTerminal&&i!==this.failureTerminal;)if(r>=e.length)i=i.failure;else{var s=e[r],l=s;if(i.isSpecial()){var c=!0;i.isStartGroup()?(o?o.push(a):o=[a],a=[]):i.isEndGroup()?a=o.length>0?o.pop():null:i.isEndAlternate()?a[i.getAlternate()]="taken":c=null==a[i.getAlternate()],i=c?i.success:i.failure}else{if(0==r&&!t&&i.validator instanceof cc&&this instanceof cc){if(l=new jt(e).visit(i.validator)){r=e.length,i=i.success;continue}}else if(0==r&&!t&&i.validator instanceof Dc&&this instanceof cc){if(l=new $t(e).visit(i.validator)){r=e.length,i=i.success;continue}}else l=s.visit(i.validator);if(!l){i=i.failure;continue}if(l!==s&&e===u){u=[];for(var D=0;D<r;D++)u[D]=e[D]}e!==u&&(u[r-n]=l),r++,i=i.success}}return i===this.successTerminal&&(t?u.length>0:r==e.length)?u:null},n.validateSingle=function(e){for(var t=null,n=this.first;n!==this.successTerminal&&n!==this.failureTerminal;)e?n.isSpecial()?n=n.success:(t=e.visit(n.validator))?(e=null,n=n.success):n=n.failure:n=n.failure;return n===this.successTerminal?t:null},n.visitEmpty=function(e){return this.validateSingle(e)},n.visitSlash=function(e){return this.validateSingle(e)},n.visitStr=function(e){return this.validateSingle(e)},n.visitIdent=function(e){return this.validateSingle(e)},n.visitNumeric=function(e){return this.validateSingle(e)},n.visitNum=function(e){return this.validateSingle(e)},n.visitInt=function(e){return this.validateSingle(e)},n.visitHexColor=function(e){return this.validateSingle(e)},n.visitURL=function(e){return this.validateSingle(e)},n.visitURange=function(e){return this.validateSingle(e)},n.visitSpaceList=function(e){return null},n.visitCommaList=function(e){return null},n.visitFunc=function(e){return this.validateSingle(e)},n.visitExpr=function(e){return null},t}(rc),cc=function(e){function t(t){return e.call(this,t)||this}x(t,e);var n=t.prototype;return n.visitSpaceList=function(e){var t=this.validateList(e.values,!1,0);return t===e.values?e:t?new jt(t):null},n.visitCommaList=function(e){for(var t=this.first,n=!1;t;){if(t.validator instanceof Dc){n=!0;break}t=t.failure}if(n){var u=this.validateList(e.values,!1,0);return u===e.values?e:u?new $t(u):null}return null},n.validateForShorthand=function(e,t){return this.validateList(e,!0,t)},t}(lc),Dc=function(e){function t(t){return e.call(this,t)||this}x(t,e);var n=t.prototype;return n.visitSpaceList=function(e){return this.validateSingle(e)},n.visitCommaList=function(e){var t=this.validateList(e.values,!1,0);return t===e.values?e:t?new $t(t):null},n.validateForShorthand=function(e,t){for(var n,u=this.first;u!==this.failureTerminal;){if(n=u.validator.validateForShorthand(e,t))return n;u=u.failure}return null},t}(lc),hc=function(e){function t(t,n){var u;return(u=e.call(this,n)||this).name=void 0,u.name=t,u}x(t,e);var n=t.prototype;return n.validateSingle=function(e){return null},n.visitFunc=function(e){if(e.name.toLowerCase()!=this.name)return null;var t=this.validateList(e.values,!1,0);return t===e.values?e:t?new qt(e.name,t):null},t}(lc),fc=function(){function e(){}var t=e.prototype;return t.tryParse=function(e,t,n){return t},t.success=function(e,t){},e}(),dc=function(e){function t(t,n){var u;return(u=e.call(this)||this).name=void 0,u.validator=void 0,u.name=n,u.validator=t.validators[u.name],u}x(t,e);var n=t.prototype;return n.tryParse=function(e,t,n){if(n.values[this.name])return t;var u=this.validator.validateForShorthand(e,t);if(u){var i=u.length,r=i>1?new jt(u):u[0];return this.success(r,n),t+i}return t},n.success=function(e,t){t.values[this.name]=e},t}(fc),pc=function(e){function t(t,n){var u;return(u=e.call(this,t,n[0])||this).names=void 0,u.names=n,u}return x(t,e),t.prototype.success=function(e,t){for(var n=0;n<this.names.length;n++)t.values[this.names[n]]=e},t}(dc),Ec=function(e){function t(t,n){var u;return(u=e.call(this)||this).nodes=void 0,u.slash=void 0,u.nodes=t,u.slash=n,u}return x(t,e),t.prototype.tryParse=function(e,t,n){var u=t;if(this.slash){if(e[t]!=Rt)return u;if(++t==e.length)return u}var i=this.nodes[0].tryParse(e,t,n);if(i==t)return u;t=i;for(var r=1;r<this.nodes.length&&t<e.length&&(i=this.nodes[r].tryParse(e,t,n))!=t;r++)t=i;return t},t}(fc),Cc=function(e){function t(){for(var t,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return(t=e.call.apply(e,[this].concat(u))||this).syntax=null,t.propList=null,t.error=!1,t.values={},t.validatorSet=null,t}x(t,e);var n=t.prototype;return n.setOwner=function(e){this.validatorSet=e},n.syntaxNodeForProperty=function(e){return new dc(this.validatorSet,e)},n.clone=function(){var e=new this.constructor;return e.syntax=this.syntax,e.propList=this.propList,e.validatorSet=this.validatorSet,e},n.init=function(e,t){this.syntax=e,this.propList=t},n.finish=function(e,t){if(!this.error){for(var n,u=_(this.propList);!(n=u()).done;){var i,r,o=n.value;t.simpleProperty(o,null!=(i=null!=(r=this.values[o])?r:this.validatorSet.defaultValues[o])?i:Jt.initial,e)}return!0}return!1},n.propagateDefaultingValue=function(e,t,n){for(var u,i=_(this.propList);!(u=i()).done;)n.simpleProperty(u.value,e,t)},n.validateList=function(e){return this.error=!0,0},n.validateSingle=function(e){return this.validateList([e]),null},n.visitEmpty=function(e){return this.validateSingle(e)},n.visitStr=function(e){return this.validateSingle(e)},n.visitIdent=function(e){return this.validateSingle(e)},n.visitNumeric=function(e){return this.validateSingle(e)},n.visitNum=function(e){return this.validateSingle(e)},n.visitInt=function(e){return this.validateSingle(e)},n.visitHexColor=function(e){return this.validateSingle(e)},n.visitURL=function(e){return this.validateSingle(e)},n.visitSpaceList=function(e){return this.validateList(e.values),null},n.visitCommaList=function(e){return this.error=!0,null},n.visitFunc=function(e){return this.validateSingle(e)},n.visitExpr=function(e){return this.validateSingle(e)},t}(Nt),gc=function(e){function t(){return e.call(this)||this}return x(t,e),t.prototype.validateList=function(e){for(var t=0,n=0;t<e.length;){var u=this.syntax[n].tryParse(e,t,this);if(u>t)t=u,n=0;else if(++n==this.syntax.length){this.error=!0;break}}return t},t}(Cc),Fc=function(e){function t(){return e.call(this)||this}x(t,e);var n=t.prototype;return n.validateList=function(e){if(e.length>this.syntax.length||0==e.length)return this.error=!0,0;for(var t=0;t<this.syntax.length;t++){for(var n=t;n>=e.length;)n=1==n?0:n-2;if(this.syntax[t].tryParse(e,n,this)!=n+1)return this.error=!0,0}return e.length},n.createSyntaxNode=function(){return new pc(this.validatorSet,this.propList)},t}(Cc),vc=function(e){function t(){return e.call(this)||this}return x(t,e),t.prototype.validateList=function(e){for(var t=e.length,n=0;n<e.length;n++)if(e[n]===Rt){t=n;break}if(t>this.syntax.length||0==e.length)return this.error=!0,0;for(var u=0;u<this.syntax.length;u++){for(var i=u;i>=t;)i=1==i?0:i-2;var r=void 0;if(t+1<e.length)for(r=t+u+1;r>=e.length;)r-=r==t+2?1:2;else r=i;if(2!=this.syntax[u].tryParse([e[i],e[r]],0,this))return this.error=!0,0}return e.length},t}(Cc),mc=function(e){function t(){return e.call(this)||this}x(t,e);var n=t.prototype;return n.mergeIn=function(e,t){for(var n,u=_(this.propList);!(n=u()).done;){var i,r,o=n.value,a=null!=(i=null!=(r=t[o])?r:this.validatorSet.defaultValues[o])?i:Jt.initial,s=e[o];s||(e[o]=s=[]),s.push(a)}},n.visitCommaList=function(e){for(var t={},n=0;n<e.values.length;n++)if(this.values={},e.values[n]instanceof $t?this.error=!0:(e.values[n].visit(this),this.mergeIn(t,this.values),this.values["background-color"]&&n!=e.values.length-1&&(this.error=!0)),this.error)return null;for(var u in this.values={},t)this.values[u]="background-color"==u?t[u].pop():new $t(t[u]);return null},t}(gc),Ac=function(e){function t(){return e.call(this)||this}x(t,e);var n=t.prototype;return n.init=function(t,n){e.prototype.init.call(this,t,n),this.propList.push("font-family","line-height","font-size","font-stretch","font-variant-ligatures","font-variant-caps","font-variant-numeric","font-variant-east-asian")},n.validateList=function(t){var n=e.prototype.validateList.call(this,t),u=this.values["font-variant_css2"];u&&(delete this.values["font-variant_css2"],this.values["font-variant-caps"]=u);var i=this.values["font-stretch_css3"];if(i&&(delete this.values["font-stretch_css3"],this.values["font-stretch"]=i),n+2>t.length)return this.error=!0,n;this.error=!1;var r=this.validatorSet.validators;if(!t[n].visit(r["font-size"]))return this.error=!0,n;if(this.values["font-size"]=t[n++],t[n]===Rt){if(2+ ++n>t.length)return this.error=!0,n;if(!t[n].visit(r["line-height"]))return this.error=!0,n;this.values["line-height"]=t[n++]}var o=n==t.length-1?t[n]:new jt(t.slice(n,t.length));return o.visit(r["font-family"])?(this.values["font-family"]=o,t.length):(this.error=!0,n)},n.visitCommaList=function(e){if(e.values[0].visit(this),this.error)return null;for(var t=[this.values["font-family"]],n=1;n<e.values.length;n++)t.push(e.values[n]);var u=new $t(t);return u.visit(this.validatorSet.validators["font-family"])?this.values["font-family"]=u:this.error=!0,null},n.visitIdent=function(e){var t=this.validatorSet.systemFonts[e.name];if(t)for(var n in t)this.values[n]=t[n];else this.error=!0;return null},t}(gc),yc=["unicode-bidi","direction","margin-block-start","margin-block-end","margin-inline-start","margin-inline-end","padding-block-start","padding-block-end","padding-inline-start","padding-inline-end","border-block-start-color","border-block-end-color","border-inline-start-color","border-inline-end-color","border-block-start-style","border-block-end-style","border-inline-start-style","border-inline-end-style","border-block-start-width","border-block-end-width","border-inline-start-width","border-inline-end-width","block-start","block-end","inline-start","inline-end","block-size","inline-size","max-block-size","max-inline-size","min-block-size","min-inline-size","behavior","bleed","conflicting-partitions","crop-offset","enabled","flow-consume","flow-from","flow-into","flow-linger","flow-options","flow-priority","font-display","font-size-adjust","font-stretch_css3","font-variant_css2","glyph-orientation-vertical","marks","min-page-height","min-page-width","repeat-on-break","required","required-partitions","ruby-align","shape-inside","snap-height","snap-width","template","text-decoration-skip","text-justify","text-zoom","unicode-range","utilization","wrap-flow"],Bc={SIMPLE:gc,INSETS:Fc,INSETS_SLASH:vc,COMMA:mc,FONT:Ac,ALL:function(e){function t(){return e.call(this)||this}x(t,e);var n=t.prototype;return n.init=function(t,n){for(var u in e.prototype.init.call(this,t,n),this.validatorSet.validators)yc.includes(u)||this.propList.push(u)},n.validateList=function(e){return this.error=!0,0},t}(gc)},bc=function(){function e(){this.validators={},this.prefixes={},this.defaultValues={},this.namedValidators={},this.systemFonts={},this.shorthands={},this.layoutProps={},this.backgroundProps={}}var t=e.prototype;return t.addReplacement=function(e,t){var n;if(t.type==zn.NUMERIC)n=new Ut(t.num,t.text);else if(t.type==zn.HASH)n=new Ht(t.text);else{if(t.type!=zn.IDENT)throw new Error("unexpected replacement");n=Mt(t.text)}if(e.isPrimitive()){var u=e.nodes[0].validator.idents;for(var i in u)u[i]=n;return e}throw new Error("unexpected replacement")},t.newGroup=function(e,t){var n,u=new ic;if("||"==e){for(var i=0;i<t.length;i++){var r=new ic;r.startClause(i),r.addGroup(t[i],ql.FOLLOW),r.endClause(i),u.addGroup(r,0==i?ql.FOLLOW:ql.ALTERNATE)}var o=new ic;return o.startSpecialGroup(),o.addGroup(u,ql.REPEATED),o.endSpecialGroup(),o}switch(e){case" ":n=ql.FOLLOW;break;case"|":case"||":n=ql.ALTERNATE;break;default:throw new Error("unexpected op")}for(var a=0;a<t.length;a++)u.addGroup(t[a],0==a?ql.FOLLOW:n);return u},t.addCounts=function(e,t,n){for(var u=new ic,i=0;i<t;i++)u.addGroup(e.clone(),ql.FOLLOW);if(n==Number.POSITIVE_INFINITY)u.addGroup(e,ql.REPEATED);else for(var r=t;r<n;r++)u.addGroup(e.clone(),ql.OPTIONAL);return u},t.primitive=function(e){var t=new ic;return t.addPrimitive(e),t},t.newFunc=function(e,t){var n;switch(e){case"COMMA":n=new Dc(t);break;case"SPACE":n=new cc(t);break;default:n=new hc(e.toLowerCase(),t)}return this.primitive(n)},t.initBuiltInValidators=function(){this.namedValidators.COLOR=this.primitive(new oc(64,ac,ac)),this.namedValidators.IMAGE_FUNCTION=this.primitive(new oc(8192,ac,ac)),this.namedValidators.POS_INT=this.primitive(new oc(32,ac,ac)),this.namedValidators.POS_NUM=this.primitive(new oc(16,ac,ac)),this.namedValidators.POS_PERCENTAGE=this.primitive(new oc(8,ac,{"%":It})),this.namedValidators.NEGATIVE=this.primitive(new oc(256,ac,ac)),this.namedValidators.ZERO=this.primitive(new oc(512,ac,ac)),this.namedValidators.ZERO_PERCENTAGE=this.primitive(new oc(1024,ac,ac)),this.namedValidators.POS_LENGTH=this.primitive(new oc(8,ac,{em:It,ex:It,ch:It,rem:It,lh:It,rlh:It,vw:It,vh:It,vi:It,vb:It,vmin:It,vmax:It,pvw:It,pvh:It,pvi:It,pvb:It,pvmin:It,pvmax:It,cm:It,mm:It,in:It,px:It,pt:It,pc:It,q:It})),this.namedValidators.POS_ANGLE=this.primitive(new oc(8,ac,{deg:It,grad:It,rad:It,turn:It})),this.namedValidators.POS_TIME=this.primitive(new oc(8,ac,{s:It,ms:It})),this.namedValidators.FREQUENCY=this.primitive(new oc(8,ac,{Hz:It,kHz:It})),this.namedValidators.RESOLUTION=this.primitive(new oc(8,ac,{dpi:It,dpcm:It,dppx:It})),this.namedValidators.URI=this.primitive(new oc(128,ac,ac)),this.namedValidators.URANGE=this.primitive(new oc(4096,ac,ac)),this.namedValidators.IDENT=this.primitive(new oc(4,ac,ac)),this.namedValidators.STRING=this.primitive(new oc(2,ac,ac)),this.namedValidators.SLASH=this.primitive(new oc(2048,ac,ac));var e={"font-family":Mt("sans-serif")};this.systemFonts.caption=e,this.systemFonts.icon=e,this.systemFonts.menu=e,this.systemFonts["message-box"]=e,this.systemFonts["small-caption"]=e,this.systemFonts["status-bar"]=e},t.isBuiltIn=function(e){return!!e.match(/^[A-Z_0-9]+$/)},t.readNameAndPrefixes=function(e,t){var n=e.token();if(n.type==zn.EOF)return null;var u={"":!0};if(n.type==zn.O_BRK){do{if(e.consume(),(n=e.token()).type!=zn.IDENT)throw new Error("Prefix name expected");u[n.text]=!0,e.consume(),n=e.token()}while(n.type==zn.COMMA);if(n.type!=zn.C_BRK)throw new Error("']' expected");e.consume(),n=e.token()}if(n.type!=zn.IDENT)throw new Error("Property name expected");if(2==t?"SHORTHANDS"==n.text:"DEFAULTS"==n.text)return e.consume(),null;var i=n.text;if(e.consume(),2!=t){if(e.token().type!=zn.EQ)throw new Error("'=' expected");this.isBuiltIn(i)||(this.prefixes[i]=u)}else if(e.token().type!=zn.COLON)throw new Error("':' expected");return i},t.parseValidators=function(e){for(var t=this,n=function(){var n=t.readNameAndPrefixes(e,1);if(!n)return{v:void 0};for(var u=[],i=[],r="",o=void 0,a=!0,s=function(){if(0==u.length)throw new Error("No values");return 1==u.length?u[0]:t.newGroup(r,u)},l=function(e){if(a)throw new Error("'"+e+"': unexpected");if(r&&r!=e)throw new Error("mixed operators: '"+e+"' and '"+r+"'");r=e,a=!0},c=null;!c;){e.consume();var D=e.token();switch(D.type){case zn.IDENT:if(a||l(" "),t.isBuiltIn(D.text)){var h=t.namedValidators[D.text];if(!h)throw new Error("'"+D.text+"' unexpected");u.push(h.clone())}else{var f={};f[D.text.toLowerCase()]=Mt(D.text),u.push(t.primitive(new oc(0,f,ac)))}a=!1;break;case zn.INT:var d={};d[""+D.num]=new Vt(D.num),u.push(t.primitive(new oc(0,d,ac))),a=!1;break;case zn.BAR:l("|");break;case zn.BAR_BAR:l("||");break;case zn.O_BRK:a||l(" "),i.push({vals:u,op:r,b:"["}),r="",u=[],a=!0;break;case zn.FUNC:a||l(" "),i.push({vals:u,op:r,b:"(",fn:D.text}),r="",u=[],a=!0;break;case zn.C_BRK:o=s();var p=i.pop();if("["!=p.b)throw new Error("']' unexpected");(u=p.vals).push(o),r=p.op,a=!1;break;case zn.C_PAR:o=s();var E=i.pop();if("("!=E.b)throw new Error("')' unexpected");(u=E.vals).push(t.newFunc(E.fn,o)),r=E.op,a=!1;break;case zn.COLON:if(a)throw new Error("':' unexpected");e.consume(),u.push(t.addReplacement(u.pop(),e.token()));break;case zn.QMARK:if(a)throw new Error("'?' unexpected");u.push(t.addCounts(u.pop(),0,1));break;case zn.STAR:if(a)throw new Error("'*' unexpected");u.push(t.addCounts(u.pop(),0,Number.POSITIVE_INFINITY));break;case zn.PLUS:if(a)throw new Error("'+' unexpected");u.push(t.addCounts(u.pop(),1,Number.POSITIVE_INFINITY));break;case zn.O_BRC:if(e.consume(),(D=e.token()).type!=zn.INT)throw new Error("<int> expected");var C=D.num,g=C;if(e.consume(),(D=e.token()).type==zn.COMMA){if(e.consume(),(D=e.token()).type!=zn.INT)throw new Error("<int> expected");g=D.num,e.consume(),D=e.token()}if(D.type!=zn.C_BRC)throw new Error("'}' expected");u.push(t.addCounts(u.pop(),C,g));break;case zn.SEMICOL:if(c=s(),i.length>0)throw new Error("unclosed '"+i.pop().b+"'");break;default:throw new Error("unexpected token")}}e.consume(),t.isBuiltIn(n)?t.namedValidators[n]=c:t.validators[n]=c.isSimple()?c.nodes[0].validator:new cc(c)};;){var u=n();if("object"==typeof u)return u.v}},t.parseDefaults=function(e){for(;;){var t=this.readNameAndPrefixes(e,2);if(!t)return;for(var n=[];;){e.consume();var u=e.token();if(u.type==zn.SEMICOL){e.consume();break}switch(u.type){case zn.IDENT:n.push(Mt(u.text));break;case zn.NUM:n.push(new zt(u.num));break;case zn.INT:n.push(new Vt(u.num));break;case zn.NUMERIC:n.push(new Ut(u.num,u.text));break;default:throw new Error("unexpected token")}}this.defaultValues[t]=n.length>1?new jt(n):n[0]}},t.parseShorthands=function(e){for(;;){var t=this.readNameAndPrefixes(e,3);if(!t)return;var n=e.nthToken(1),u=void 0;n.type==zn.IDENT&&Bc[n.text]?(u=new Bc[n.text],e.consume()):u=new gc,u.setOwner(this);for(var i=!1,r=[],o=!1,a=[],s=[];!i;)switch(e.consume(),(n=e.token()).type){case zn.IDENT:if(this.validators[n.text])r.push(u.syntaxNodeForProperty(n.text)),n.text.includes("_")||s.push(n.text);else{if(!(this.shorthands[n.text]instanceof Fc))throw new Error("'"+n.text+"' is neither a simple property nor an inset shorthand");var l=this.shorthands[n.text];r.push(l.createSyntaxNode()),s.push.apply(s,l.propList)}break;case zn.SLASH:if(r.length>0||o)throw new Error("unexpected slash");o=!0;break;case zn.O_BRK:a.push({slash:o,syntax:r}),r=[],o=!1;break;case zn.C_BRK:var c=new Ec(r,o),D=a.pop();o=D.slash,(r=D.syntax).push(c);break;case zn.SEMICOL:i=!0,e.consume();break;default:throw new Error("unexpected token")}u.init(r,s),this.shorthands[t]=u}},t.parse=function(e){var t=new Su(e,null);this.parseValidators(t),this.parseDefaults(t),this.parseShorthands(t),this.backgroundProps=this.makePropSet(["background"]),this.layoutProps=this.makePropSet(["margin","border","padding","columns","column-gap","column-rule","column-fill"])},t.makePropSet=function(e){for(var t,n={},u=_(e);!(t=u()).done;)for(var i,r=t.value,o=this.shorthands[r],a=_(o?o.propList:[r]);!(i=a()).done;){var s,l=i.value;n[l]=null!=(s=this.defaultValues[l])?s:Jt.initial}return n},t.validatePropertyAndHandleShorthand=function(e,t,n,u){if(ln(e))u.simpleProperty(e,t,n);else if(i=t,r=new Sc,i.visit(r),r.varFound)u.simpleProperty(e,t,n);else{var i,r,o="",a=e,s=(e=e.toLowerCase()).match(/^-([a-z]+)-([-a-z0-9]+)$/);s&&(o=s[1],e=s[2]);var l=this.prefixes[e];if(l&&l[o]){var c=this.validators[e];if(c){var D=an(t)||t.isExpr()?t:t.visit(c);if(D)u.simpleProperty(e,D,n);else{if(!o&&CSS.supports(e,t.toString()))return void u.simpleProperty(e,t,n);u.invalidPropertyValue(a,t)}}else{var h=this.shorthands[e].clone();an(t)?h.propagateDefaultingValue(t,n,u):(t.visit(h),h.finish(n,u)||u.invalidPropertyValue(a,t))}}else CSS.supports(e,t.toString())?u.simpleProperty(a,t,n):u.unknownProperty(a,t)}},e}();function wc(){var e=new bc;return e.initBuiltInValidators(),e.parse(qu),e}var Sc=function(e){function t(){for(var t,n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return(t=e.call.apply(e,[this].concat(u))||this).varFound=!1,t}return x(t,e),t.prototype.visitFunc=function(e){return"var"===e.name?this.varFound=!0:this.varFound||this.visitValues(e.values),null},t}(Nt),Nc={"font-style":Jt.normal,"font-stretch":Jt.normal,"font-weight":Jt.normal,"unicode-range":rn};function xc(e,t){var n={};for(var u in e)n[u]=Ur(e,u).evaluate(t,u);return function(e){for(var t in Nc)e[t]||(e[t]=Nc[t])}(n),n}(new Date).valueOf();var Tc=function(){function e(e){this.properties=void 0,this.fontTraitKey=void 0,this.src=void 0,this.blobURLs=[],this.blobs=[],this.family=void 0,this.properties=e,this.fontTraitKey=function(e){var t=new ie;for(var n in Nc)t.append(" "),t.append(e[n].toString());return t.toString()}(this.properties),this.src=this.properties.src?this.properties.src.toString():null;var t=this.properties["font-family"];this.family=t?t.stringValue():null}var t=e.prototype;return t.traitsEqual=function(e){return this.fontTraitKey==e.fontTraitKey},t.makeAtRule=function(e,t){var n=new ie;for(var u in n.append("@font-face {\n  font-family: "),n.append(this.family),n.append(";\n  "),Nc)n.append(u),n.append(": "),this.properties[u].appendTo(n,!0),n.append(";\n  ");if(t){n.append('src: url("');var i=(window.URL||window.webkitURL).createObjectURL(t);n.append(i),this.blobURLs.push(i),this.blobs.push(t),n.append('")')}else n.append("src: "),n.append(e);return n.append(";\n}\n"),n.toString()},e}(),kc=function(){function e(e){this.deobfuscator=void 0,this.familyMap={},this.deobfuscator=e}var t=e.prototype;return t.registerFamily=function(e,t){var n=e.family,u=this.familyMap[n],i=t.family;if(u){if(u!=i)throw new Error("E_FONT_FAMILY_INCONSISTENT "+e.family)}else this.familyMap[n]=i},t.filterFontFamily=function(e){if(e instanceof $t){for(var t,n=[],u=_(e.values);!(t=u()).done;){var i=t.value,r=this.familyMap[i.stringValue()];r&&n.push(Mt(r)),n.push(i)}return new $t(n)}var o=this.familyMap[e.stringValue()];return o?new $t([Mt(o),e]):e},e}(),Ic=function(){function e(e,t,n){this.head=void 0,this.body=void 0,this.srcURLMap={},this.familyPrefix=void 0,this.familyCounter=0,this.head=e,this.body=t,this.familyPrefix=n||"Fnt_"}var t=e.prototype;return t.getViewFontFamily=function(e,t){var n=e.family,u=t.familyMap[n];return u||(u=this.familyPrefix+ ++this.familyCounter,t.familyMap[n]=u,u)},t.initFont=function(e,t,n){var u=ku("initFont"),i=e.src,r={};for(var o in Nc)r[o]=e.properties[o];var a=this.getViewFontFamily(e,n);r["font-family"]=Mt(a);var s=new Tc(r),l=this.head.ownerDocument.createElement("style");return l.textContent=s.makeAtRule(i,t),this.head.appendChild(l),f.debug("Load font:",i),u.finish(s),u.result()},t.loadFont=function(e,t){var n=this,u=e.src,i=e.family+";"+u,r=this.srcURLMap[i];return r?r.piggyback((function(n){var i=n;i.traitsEqual(e)?(t.registerFamily(e,i),f.debug("Found already-loaded font:",u)):f.warn("E_FONT_FACE_INCOMPATIBLE",e.src)})):(r=new Hu((function(){var i=ku("loadFont"),r=t.deobfuscator?t.deobfuscator(u):null;return r?Ju(u,Xu.BLOB).then((function(u){u.responseBlob?r(u.responseBlob).then((function(u){n.initFont(e,u,t).thenFinish(i)})):i.finish(null)})):n.initFont(e,null,t).thenFinish(i),i.result()}),"loadFont "+u),this.srcURLMap[i]=r,r.start()),r},t.findOrLoadFonts=function(e,t){for(var n,u=this,i=[],r=_(e);!(n=r()).done;){var o=n.value;o.src&&o.family?i.push(this.loadFont(o,t)):f.warn("E_FONT_FACE_INVALID")}return Gu(i).thenAsync((function(){return u.waitFontLoading()}))},t.waitFontLoading=function(){var e=this.head.ownerDocument.fonts,t=0;if(e.forEach((function(e){"unloaded"===e.status&&(t++,e.load())})),0===t)return Iu(!0);var n=ku("waitFontLoading");return n.loop((function(){return n.sleep(20).thenAsync((function(){return Iu("loading"===e.status)}))})).thenFinish(n),n.result()},e}(),Pc=1,Rc=function(){function e(e,t,n,u,i){this.name=void 0,this.pseudoName=void 0,this.classes=void 0,this.parent=void 0,this.specified={},this.children=[],this.pageMaster=null,this.index=0,this.key=void 0,this._scope=void 0,this.name=t,this.pseudoName=n,this.classes=u,this.parent=i,this._scope=e,this.key="p"+Pc++,i&&(this.index=i.children.length,i.children.push(this))}var t=e.prototype;return t.createInstance=function(e){throw new Error("E_UNEXPECTED_CALL")},t.clone=function(e){throw new Error("E_UNEXPECTED_CALL")},t.copySpecified=function(e){var t=this.specified,n=e.specified;for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(n[u]=t[u])},t.cloneChildren=function(e){for(var t=0;t<this.children.length;t++)this.children[t].clone({parent:e})},N(e,[{key:"scope",get:function(){return this._scope}}]),e}(),Lc=function(e){function t(t){var n;return(n=e.call(this,t,null,null,[],null)||this).specified.width=new kr(tn,0),n.specified.height=new kr(nn,0),n}return x(t,e),t}(Rc),Oc=function(e){function t(t,n){var u;(u=e.call(this,t,(function(e,t){var n=e.match(/^([^.]+)\.([^.]+)$/);if(n){var u=i.pageMaster.keyMap[n[1]];if(u){var r=this.lookupInstance(u);if(r)return t?r.resolveFunc(n[2]):r.resolveName(n[2])}}return null}))||this).pageMaster=void 0,u.pageMaster=n;var i=L(u);return u}return x(t,e),t}(Oe),_c=function(e){function t(t,n,u,i,r,o,a){var s;return(s=e.call(this,t,n,u,i,r)||this).condition=void 0,s.specificity=void 0,s.keyMap={},s.condition=o,s.specificity=a,t instanceof Oc||(s._scope=new Oc(t,L(s))),s.pageMaster=L(s),s.specified.width=new kr(tn,0),s.specified.height=new kr(nn,0),s.specified["wrap-flow"]=new kr(Jt.auto,0),s.specified.position=new kr(Jt.relative,0),s.specified.overflow=new kr(Jt.visible,0),s}x(t,e);var n=t.prototype;return n.createInstance=function(e){return new Jc(e,this)},n.clone=function(e){var n=new t(this.scope,this.name,e.pseudoName||this.pseudoName,this.classes,this.parent,this.condition,this.specificity);return this.copySpecified(n),this.cloneChildren(n),n},n.resetScope=function(){this.scope.pageMaster=this},t}(Rc),Mc=function(e){function t(t,n,u,i,r){var o;return(o=e.call(this,t,n,u,i,r)||this).pageMaster=r.pageMaster,n&&(o.pageMaster.keyMap[n]=o.key),o.specified["wrap-flow"]=new kr(Jt.auto,0),o}x(t,e);var n=t.prototype;return n.createInstance=function(e){return new eD(e,this)},n.clone=function(e){var n=new t(e.parent.scope,this.name,this.pseudoName,this.classes,e.parent);return this.copySpecified(n),this.cloneChildren(n),n},t}(Rc),Uc=function(e){function t(t,n,u,i,r){var o;return(o=e.call(this,t,n,u,i,r)||this).pageMaster=r.pageMaster,n&&(o.pageMaster.keyMap[n]=o.key),o}x(t,e);var n=t.prototype;return n.createInstance=function(e){return new tD(e,this)},n.clone=function(e){var n=new t(e.parent.scope,this.name,this.pseudoName,this.classes,e.parent);return this.copySpecified(n),this.cloneChildren(n),n},t}(Rc);function zc(e,t,n){return!t||t===Jt.auto||an(t)?null:t.toExpr(e,n)}function Vc(e,t,n){return!t||t===Jt.auto||an(t)?e.zero:t.toExpr(e,n)}function Hc(e,t,n){return!t||an(t)?e.zero:t===Jt.auto?null:t.toExpr(e,n)}function Gc(e,t,n,u){return!t||n===Jt.none||an(t)?e.zero:t.toExpr(e,u)}function Wc(e,t,n){return!t||an(t)?n:t===Jt._true?e._true:t===Jt._false?e._false:t.toExpr(e,e.zero)}var Xc=function(){function e(e,t){this.parentInstance=void 0,this.pageBox=void 0,this.cascaded={},this.style={},this.autoWidth=null,this.autoHeight=null,this.children=[],this.isAutoWidth=!1,this.isAutoHeight=!1,this.isTopDependentOnAutoHeight=!1,this.isRightDependentOnAutoWidth=!1,this.calculatedWidth=0,this.calculatedHeight=0,this.pageMasterInstance=null,this.namedValues={},this.namedFuncs={},this.vertical=!1,this.rtl=!1,this.suppressEmptyBoxGeneration=!1,this.parentInstance=e,this.pageBox=t,e&&e.children.push(this)}var t=e.prototype;return t.reset=function(){this.calculatedWidth=0,this.calculatedHeight=0},t.addNamedValues=function(e,t){var n=this.resolveName(e),u=this.resolveName(t);if(!n||!u)throw new Error("E_INTERNAL");return Bt(this.pageBox.scope,n,u)},t.resolveName=function(e){var t=this.namedValues[e];if(t)return t;var n=this.style[e];switch(n&&(t=n.toExpr(this.pageBox.scope,this.pageBox.scope.zero)),e){case"margin-left-edge":t=this.resolveName("left");break;case"margin-top-edge":t=this.resolveName("top");break;case"margin-right-edge":t=this.addNamedValues("border-right-edge","margin-right");break;case"margin-bottom-edge":t=this.addNamedValues("border-bottom-edge","margin-bottom");break;case"border-left-edge":t=this.addNamedValues("margin-left-edge","margin-left");break;case"border-top-edge":t=this.addNamedValues("margin-top-edge","margin-top");break;case"border-right-edge":t=this.addNamedValues("padding-right-edge","border-right-width");break;case"border-bottom-edge":t=this.addNamedValues("padding-bottom-edge","border-bottom-width");break;case"padding-left-edge":t=this.addNamedValues("border-left-edge","border-left-width");break;case"padding-top-edge":t=this.addNamedValues("border-top-edge","border-top-width");break;case"padding-right-edge":t=this.addNamedValues("right-edge","padding-right");break;case"padding-bottom-edge":t=this.addNamedValues("bottom-edge","padding-bottom");break;case"left-edge":t=this.addNamedValues("padding-left-edge","padding-left");break;case"top-edge":t=this.addNamedValues("padding-top-edge","padding-top");break;case"right-edge":t=this.addNamedValues("left-edge","width");break;case"bottom-edge":t=this.addNamedValues("top-edge","height")}if(!t){var u;if("extent"==e)u=this.vertical?"width":"height";else if("measure"==e)u=this.vertical?"height":"width";else{var i=this.vertical?Sr:Nr;for(var r in u=e,i)u=u.replace(r,i[r])}u!=e&&(t=this.resolveName(u))}return t&&(this.namedValues[e]=t),t},t.resolveFunc=function(e){var t=this.namedFuncs[e];if(t)return t;if("columns"===e){var n=this.pageBox.scope,u=new At(n,0),i=this.resolveName("column-count"),r=this.resolveName("column-width"),o=this.resolveName("column-gap");t=bt(n,wt(n,new Ct(n,"min",[u,i]),Bt(n,r,o)),o)}return t&&(this.namedFuncs[e]=t),t},t.initEnabled=function(){var e=this.pageBox.scope,t=this.style,n=Wc(e,t.enabled,e._true),u=zc(e,t.page,e.zero);if(u){var i=new dt(e,"page-number");n=yt(e,n,new ot(e,u,i))}var r=zc(e,t["min-page-width"],e.zero);r&&(n=yt(e,n,new rt(e,new dt(e,"page-width"),r)));var o=zc(e,t["min-page-height"],e.zero);o&&(n=yt(e,n,new rt(e,new dt(e,"page-height"),o))),n=this.boxSpecificEnabled(n),t.enabled=new Yt(n)},t.boxSpecificEnabled=function(e){return e},t.initHorizontal=function(){var e=this.pageBox.scope,t=this.style,n=this.parentInstance?this.parentInstance.style.width.toExpr(e,null):null,u=zc(e,t.left,n),i=zc(e,t["margin-left"],n),r=Gc(e,t["border-left-width"],t["border-left-style"],n),o=Vc(e,t["padding-left"],n),a=zc(e,t.width,n),s=zc(e,t["max-width"],n),l=Vc(e,t["padding-right"],n),c=Gc(e,t["border-right-width"],t["border-right-style"],n),D=zc(e,t["margin-right"],n),h=zc(e,t.right,n),f=Bt(e,r,o),d=Bt(e,r,l);if(u&&h&&a){var p=bt(e,n,Bt(e,a,Bt(e,Bt(e,u,f),d)));i?D?h=bt(e,p,D):D=bt(e,p,Bt(e,h,i)):(p=bt(e,p,h),D?i=bt(e,p,D):D=i=wt(e,p,new Ft(e,.5)))}else{i||(i=e.zero),D||(D=e.zero),u||h||a||(u=e.zero),u||a?u||h?a||h||(a=this.autoWidth,this.isAutoWidth=!0):u=e.zero:(a=this.autoWidth,this.isAutoWidth=!0);var E=bt(e,n,Bt(e,Bt(e,i,f),Bt(e,D,d)));this.isAutoWidth&&(s||(s=bt(e,E,u||h)),this.vertical||!zc(e,t["column-width"],null)&&!zc(e,t["column-count"],null)||(a=s,this.isAutoWidth=!1)),u?a?h||(h=bt(e,E,Bt(e,u,a))):a=bt(e,E,Bt(e,u,h)):u=bt(e,E,Bt(e,h,a))}var C=Vc(e,t["snap-width"]||(this.parentInstance?this.parentInstance.style["snap-width"]:null),n);t.left=new Yt(u),t["margin-left"]=new Yt(i),t["border-left-width"]=new Yt(r),t["padding-left"]=new Yt(o),t.width=new Yt(a),t["max-width"]=new Yt(s||a),t["padding-right"]=new Yt(l),t["border-right-width"]=new Yt(c),t["margin-right"]=new Yt(D),t.right=new Yt(h),t["snap-width"]=new Yt(C)},t.initVertical=function(){var e=this.pageBox.scope,t=this.style,n=this.parentInstance?this.parentInstance.style.width.toExpr(e,null):null,u=this.parentInstance?this.parentInstance.style.height.toExpr(e,null):null,i=zc(e,t.top,u),r=zc(e,t["margin-top"],n),o=Gc(e,t["border-top-width"],t["border-top-style"],n),a=Vc(e,t["padding-top"],n),s=zc(e,t.height,u),l=zc(e,t["max-height"],u),c=Vc(e,t["padding-bottom"],n),D=Gc(e,t["border-bottom-width"],t["border-bottom-style"],n),h=zc(e,t["margin-bottom"],n),f=zc(e,t.bottom,u),d=Bt(e,o,a),p=Bt(e,D,c);if(i&&f&&s){var E=bt(e,u,Bt(e,s,Bt(e,Bt(e,i,d),p)));r?h?f=bt(e,E,r):h=bt(e,E,Bt(e,f,r)):(E=bt(e,E,f),h?r=bt(e,E,h):h=r=wt(e,E,new Ft(e,.5)))}else{r||(r=e.zero),h||(h=e.zero),i||f||s||(i=e.zero),i||s?i||f?s||f||(s=this.autoHeight,this.isAutoHeight=!0):i=e.zero:(s=this.autoHeight,this.isAutoHeight=!0);var C=bt(e,u,Bt(e,Bt(e,r,d),Bt(e,h,p)));this.isAutoHeight&&(l||(l=bt(e,C,i||f)),this.vertical&&(zc(e,t["column-width"],null)||zc(e,t["column-count"],null))&&(s=l,this.isAutoHeight=!1)),i?s?f||(f=bt(e,C,Bt(e,i,s))):s=bt(e,C,Bt(e,f,i)):i=bt(e,C,Bt(e,f,s))}var g=Vc(e,t["snap-height"]||(this.parentInstance?this.parentInstance.style["snap-height"]:null),n);t.top=new Yt(i),t["margin-top"]=new Yt(r),t["border-top-width"]=new Yt(o),t["padding-top"]=new Yt(a),t.height=new Yt(s),t["max-height"]=new Yt(l||s),t["padding-bottom"]=new Yt(c),t["border-bottom-width"]=new Yt(D),t["margin-bottom"]=new Yt(h),t.bottom=new Yt(f),t["snap-height"]=new Yt(g)},t.initColumns=function(){var e=this.pageBox.scope,t=this.style,n=zc(e,t[this.vertical?"height":"width"],null),u=zc(e,t["column-width"],n),i=zc(e,t["column-count"],null),r=function(e,t,n){return!t||t===Jt.normal||an(t)?null:t.toExpr(e,null)}(e,t["column-gap"]);r||(r=new ft(e,1,"em")),u&&!i&&(i=new Ct(e,"floor",[St(e,Bt(e,n,r),Bt(e,u,r))]),i=new Ct(e,"max",[e.one,i])),i||(i=e.one),u=bt(e,St(e,Bt(e,n,r),i),r),t["column-width"]=new Yt(u),t["column-count"]=new Yt(i),t["column-gap"]=new Yt(r)},t.depends=function(e,t,n){return this.style[e].toExpr(this.pageBox.scope,null).depend(t,n)},t.init=function(e){var t=this;e.registerInstance(this.pageBox.key,this);var n=this.pageBox.scope,u=this.style,i=this.parentInstance?this.parentInstance.getActiveRegions(e):null,r=ha(this.cascaded,e,i,!1);this.vertical=ca(r,e,!!this.parentInstance&&this.parentInstance.vertical),this.rtl=Da(r,e,!!this.parentInstance&&this.parentInstance.rtl),pa(r,u,this.vertical,this.rtl,(function(e,t){return t.value})),this.autoWidth=new Et(n,(function(){return t.calculatedWidth}),"autoWidth"),this.autoHeight=new Et(n,(function(){return t.calculatedHeight}),"autoHeight"),this.initHorizontal(),this.initVertical(),this.initColumns(),this.initEnabled()},t.getProp=function(e,t){var n,u,i=this.style[t];return!i&&Mr(t)&&(i="font-size"===t&&e.isRelativeRootFontSize&&e.rootFontSize?new Ut(e.rootFontSize,"px"):null==(u=(null==(n=e.styler)?void 0:n.rootStyle)[t])?void 0:u.value),i&&(i=ga(e,i,t)),i},t.getPropAsNumber=function(e,t){var n=this.style[t];if(n){var u,i,r=/\b(height|top|bottom)\b/.test(t)?null!=(u=e.pageAreaHeight)?u:e.pageHeight():null!=(i=e.pageAreaWidth)?i:e.pageWidth();n=ga(e,n,t,r)}return Qt(n,e)},t.getSpecial=function(e,t){var n=Wr(this.cascaded,t);if(n){for(var u=[],i=0;i<n.length;i++){var r=n[i].evaluate(e,"");r&&r!==It&&u.push(r)}if(u.length)return u}return null},t.getActiveRegions=function(e){var t=this.getSpecial(e,"region-id");if(t){for(var n=[],u=0;u<t.length;u++)n[u]=t[u].toString();return n}return null},t.propagateProperty=function(e,t,n,u){this.propagatePropertyToElement(e,t.element,n,u)},t.propagatePropertyToElement=function(e,t,n,u){var i=this.getProp(e,n);i&&(i.isNumeric()&&Ue(i.unit)&&(i=Zt(i,e)),"font-family"===n&&(i=u.filterFontFamily(i)),te(t,n,i.toString()))},t.propagateDelayedProperty=function(e,t,n,u){var i=this.getProp(e,n);i&&u.push(new $i(t.element,n,i))},t.assignLeftPosition=function(e,t){var n=this.getPropAsNumber(e,"left"),u=this.getPropAsNumber(e,"margin-left"),i=this.getPropAsNumber(e,"padding-left"),r=this.getPropAsNumber(e,"border-left-width"),o=this.getPropAsNumber(e,"width");t.setHorizontalPosition(n,o),te(t.element,"margin-left",u+"px"),te(t.element,"padding-left",i+"px"),te(t.element,"border-left-width",r+"px"),t.marginLeft=u,t.borderLeft=r,t.paddingLeft=i},t.assignRightPosition=function(e,t){var n=this.getPropAsNumber(e,"right"),u=this.getPropAsNumber(e,"snap-height"),i=this.getPropAsNumber(e,"margin-right"),r=this.getPropAsNumber(e,"padding-right"),o=this.getPropAsNumber(e,"border-right-width");if(te(t.element,"margin-right",i+"px"),te(t.element,"padding-right",r+"px"),te(t.element,"border-right-width",o+"px"),t.marginRight=i,t.borderRight=o,this.vertical&&u>0){var a=n+t.getInsetRight(),s=a-Math.floor(a/u)*u;s>0&&(t.snapOffsetX=u-s,r+=t.snapOffsetX)}t.paddingRight=r,t.snapWidth=u},t.assignTopPosition=function(e,t){var n=this.getPropAsNumber(e,"snap-height"),u=this.getPropAsNumber(e,"top"),i=this.getPropAsNumber(e,"margin-top"),r=this.getPropAsNumber(e,"padding-top"),o=this.getPropAsNumber(e,"border-top-width");if(t.top=u,t.marginTop=i,t.borderTop=o,t.snapHeight=n,!this.vertical&&n>0){var a=u+t.getInsetTop(),s=a-Math.floor(a/n)*n;s>0&&(t.snapOffsetY=n-s,r+=t.snapOffsetY)}t.paddingTop=r,te(t.element,"top",u+"px"),te(t.element,"margin-top",i+"px"),te(t.element,"padding-top",r+"px"),te(t.element,"border-top-width",o+"px")},t.assignBottomPosition=function(e,t){var n=this.getPropAsNumber(e,"margin-bottom"),u=this.getPropAsNumber(e,"padding-bottom"),i=this.getPropAsNumber(e,"border-bottom-width"),r=this.getPropAsNumber(e,"height")-t.snapOffsetY;te(t.element,"height",r+"px"),te(t.element,"margin-bottom",n+"px"),te(t.element,"padding-bottom",u+"px"),te(t.element,"border-bottom-width",i+"px"),t.height=r-t.snapOffsetY,t.marginBottom=n,t.borderBottom=i,t.paddingBottom=u},t.assignBeforePosition=function(e,t){this.vertical?this.assignRightPosition(e,t):this.assignTopPosition(e,t)},t.assignAfterPosition=function(e,t){this.vertical?this.assignLeftPosition(e,t):this.assignBottomPosition(e,t)},t.assignStartEndPosition=function(e,t){this.vertical?(this.assignTopPosition(e,t),this.assignBottomPosition(e,t)):(this.assignRightPosition(e,t),this.assignLeftPosition(e,t))},t.sizeWithMaxHeight=function(e,t){te(t.element,"border-top-width","0px");var n=this.getPropAsNumber(e,"max-height");this.isTopDependentOnAutoHeight?t.setVerticalPosition(0,n):(this.assignTopPosition(e,t),t.height=n-=t.snapOffsetY,te(t.element,"height",n+"px"))},t.sizeWithMaxWidth=function(e,t){te(t.element,"border-left-width","0px");var n=this.getPropAsNumber(e,"max-width");if(this.isRightDependentOnAutoWidth)t.setHorizontalPosition(0,n);else{this.assignRightPosition(e,t),t.width=n-=t.snapOffsetX;var u=this.getPropAsNumber(e,"right");te(t.element,"right",u+"px"),te(t.element,"width",n+"px")}},t.prepareContainer=function(e,t,n,u,i){this.parentInstance&&this.vertical==this.parentInstance.vertical||te(t.element,"writing-mode",this.vertical?"vertical-rl":"horizontal-tb"),(this.vertical?this.isAutoWidth:this.isAutoHeight)?this.vertical?this.sizeWithMaxWidth(e,t):this.sizeWithMaxHeight(e,t):(this.assignBeforePosition(e,t),this.assignAfterPosition(e,t)),(this.vertical?this.isAutoHeight:this.isAutoWidth)?this.vertical?this.sizeWithMaxHeight(e,t):this.sizeWithMaxWidth(e,t):this.assignStartEndPosition(e,t);for(var r=0;r<jc.length;r++)this.propagateProperty(e,t,jc[r],u)},t.transferContentProps=function(e,t,n,u){for(var i=0;i<qc.length;i++)this.propagateProperty(e,t,qc[i],u)},t.transferSinglUriContentProps=function(e,t,n){for(var u=0;u<Yc.length;u++)this.propagatePropertyToElement(e,t,Yc[u],n)},t.finishContainer=function(e,t,n,u,i,r,o){this.vertical?this.calculatedWidth=t.computedBlockSize+t.snapOffsetX:this.calculatedHeight=t.computedBlockSize+t.snapOffsetY;var a=(this.vertical||!u)&&this.isAutoHeight,s=(!this.vertical||!u)&&this.isAutoWidth,l=null;if((s||a)&&(s&&te(t.element,"width","auto"),a&&te(t.element,"height","auto"),l=r.getElementClientRect(u?u.element:t.element),s&&(this.calculatedWidth=Math.ceil(l.right-l.left-t.paddingLeft-t.borderLeft-t.paddingRight-t.borderRight),this.vertical&&(this.calculatedWidth+=t.snapOffsetX)),a&&(this.calculatedHeight=l.bottom-l.top-t.paddingTop-t.borderTop-t.paddingBottom-t.borderBottom,this.vertical||(this.calculatedHeight+=t.snapOffsetY))),(this.vertical?this.isAutoHeight:this.isAutoWidth)&&this.assignStartEndPosition(e,t),(this.vertical?this.isAutoWidth:this.isAutoHeight)&&((this.vertical?this.isRightDependentOnAutoWidth:this.isTopDependentOnAutoHeight)&&this.assignBeforePosition(e,t),this.assignAfterPosition(e,t)),i>1){var c=this.getPropAsNumber(e,"column-rule-width"),D=this.getProp(e,"column-rule-style"),h=this.getProp(e,"column-rule-color");if(c>0&&D&&D!=Jt.none&&h!=Jt.transparent)for(var f=this.getPropAsNumber(e,"column-gap"),d=this.vertical?t.height:t.width,p=this.vertical?"border-top":"border-left",E=1;E<i;E++){var C=this.vertical?(d+f)*E/i-f/2+t.paddingTop-c/2:(d+f)*E/i-f/2+t.paddingLeft-c/2,g=this.vertical?t.width+t.paddingLeft+t.paddingRight:t.height+t.paddingTop+t.paddingBottom,F=t.element.ownerDocument.createElement("div");te(F,"position","absolute"),te(F,this.vertical?"left":"top","0px"),te(F,this.vertical?"top":"left",C+"px"),te(F,this.vertical?"height":"width","0px"),te(F,this.vertical?"width":"height",g+"px"),te(F,p,c+"px "+D.toString()+(h?" "+h.toString():"")),t.element.insertBefore(F,t.element.firstChild)}}for(var v=0;v<$c.length;v++)this.propagateProperty(e,t,$c[v],o);for(var m=0;m<Kc.length;m++)this.propagateDelayedProperty(e,t,Kc[m],n.delayedItems)},t.applyCascadeAndInit=function(e,t){var n=this.cascaded,u=this.pageBox.specified;for(var i in u)_r(i)&&zr(n,i,Ur(u,i));if(this.pageBox.pseudoName==Qc)for(var r in t)(r.match(/^background-/)||"writing-mode"==r)&&(n[r]=t[r]);if("layout-host"==this.pageBox.pseudoName)for(var o in t)o.match(/^background-/)||"writing-mode"==o||(n[o]=t[o]);e.pushRule(this.pageBox.classes,null,n);var a=n.content;a&&(n.content=a.filterValue(new zo(e,null,e.counterResolver))),this.init(e.context);for(var s,l=_(this.pageBox.children);!(s=l()).done;)s.value.createInstance(this).applyCascadeAndInit(e,t);e.popRule()},t.resolveAutoSizing=function(e){this.isAutoWidth&&(this.isRightDependentOnAutoWidth=this.depends("right",this.autoWidth,e)||this.depends("margin-right",this.autoWidth,e)||this.depends("border-right-width",this.autoWidth,e)||this.depends("padding-right",this.autoWidth,e)),this.isAutoHeight&&(this.isTopDependentOnAutoHeight=this.depends("top",this.autoHeight,e)||this.depends("margin-top",this.autoHeight,e)||this.depends("border-top-width",this.autoHeight,e)||this.depends("padding-top",this.autoHeight,e));for(var t,n=_(this.children);!(t=n()).done;)t.value.resolveAutoSizing(e)},e}(),jc=["border-left-style","border-right-style","border-top-style","border-bottom-style","border-left-color","border-right-color","border-top-color","border-bottom-color","outline-style","outline-color","outline-width","overflow","visibility"],$c=["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius","border-image-source","border-image-slice","border-image-width","border-image-outset","border-image-repeat","background-attachment","background-color","background-image","background-repeat","background-position","background-clip","background-origin","background-size","opacity","z-index","background-blend-mode","isolation","mix-blend-mode","filter"],qc=["color","font-family","font-size","font-style","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-transform","white-space","word-spacing","font-feature-settings","font-kerning","font-size-adjust","font-variant-ligatures","font-variant-caps","font-variant-numeric","font-variant-east-asian","font-stretch","text-combine-upright","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-fill-color","text-orientation","text-shadow","text-stroke-color","text-stroke-width","text-underline-position"],Yc=["width","height","image-resolution","object-fit","object-position"],Kc=["transform","transform-origin"],Qc="background-host",Zc=function(e){function t(t){return e.call(this,null,t)||this}return x(t,e),t.prototype.applyCascadeAndInit=function(t,n){e.prototype.applyCascadeAndInit.call(this,t,n),this.children.sort((function(e,t){return t.pageBox.specificity-e.pageBox.specificity||e.pageBox.index-t.pageBox.index}))},t}(Xc),Jc=function(e){function t(t,n){var u;return(u=e.call(this,t,n)||this).pageMasterInstance=L(u),u}x(t,e);var n=t.prototype;return n.boxSpecificEnabled=function(e){var t=this.pageBox.pageMaster;return t.condition&&(e=yt(t.scope,e,t.condition)),e},n.adjustPageLayout=function(e,t,n){},t}(Xc),eD=function(e){function t(t,n){var u;return(u=e.call(this,t,n)||this).pageMasterInstance=t.pageMasterInstance,u}return x(t,e),t}(Xc),tD=function(e){function t(t,n){var u;return(u=e.call(this,t,n)||this).pageMasterInstance=t.pageMasterInstance,u}x(t,e);var n=t.prototype;return n.processPartitionList=function(e,t,n){var u=null;if(t instanceof _t&&(u=[t]),t instanceof $t&&(u=t.values),u)for(var i=this.pageBox.scope,r=0;r<u.length;r++)if(u[r]instanceof _t){var o=Re(u[r].name,"enabled"),a=new dt(i,o);n&&(a=new qe(i,a)),e=yt(i,e,a)}return e},n.boxSpecificEnabled=function(e){var t=this.pageBox.scope,n=this.style,u=Wc(t,n.required,t._false)!==t._false;if(u||this.isAutoHeight){var i=function(e,t,n){return!t||an(t)?new Ft(e,"body"):t.toExpr(e,e.zero)}(t,n["flow-from"]);e=yt(t,e,new Ct(t,"has-content",[i]))}if(e=this.processPartitionList(e,n["required-partitions"],!1),e=this.processPartitionList(e,n["conflicting-partitions"],!0),u){var r=this.pageMasterInstance.style.enabled,o=r?r.toExpr(t,null):t._true;o=yt(t,o,e),this.pageMasterInstance.style.enabled=new Yt(o)}return e},n.prepareContainer=function(t,n,u,i,r){e.prototype.prepareContainer.call(this,t,n,u,i,r)},t}(Xc),nD=function(e){function t(t,n,u,i){var r;return(r=e.call(this,t,n,!1)||this).target=void 0,r.validatorSet=void 0,r.target=u,r.validatorSet=i,r}x(t,e);var n=t.prototype;return n.property=function(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)},n.unknownProperty=function(e,t){this.report("E_INVALID_PROPERTY "+e+": "+t.toString())},n.invalidPropertyValue=function(e,t){this.report("E_INVALID_PROPERTY_VALUE "+e+": "+t.toString())},n.simpleProperty=function(e,t,n){this.target.specified[e]=new kr(t,n?50331648:67108864)},t}(si),uD=function(e){function t(t,n,u,i){return e.call(this,t,n,u,i)||this}return x(t,e),t}(nD),iD=function(e){function t(t,n,u,i){var r;return r=e.call(this,t,n,u,i)||this,u.specified.width=new kr(en,0),u.specified.height=new kr(en,0),r}x(t,e);var n=t.prototype;return n.startPartitionRule=function(e,t,n){var u=new Uc(this.scope,e,t,n,this.target),i=new uD(this.scope,this.owner,u,this.validatorSet);this.owner.pushHandler(i)},n.startPartitionGroupRule=function(e,n,u){var i=new Mc(this.scope,e,n,u,this.target),r=new t(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(r)},t}(nD),rD=function(e){function t(t,n,u,i){return e.call(this,t,n,u,i)||this}x(t,e);var n=t.prototype;return n.startPartitionRule=function(e,t,n){var u=new Uc(this.scope,e,t,n,this.target),i=new uD(this.scope,this.owner,u,this.validatorSet);this.owner.pushHandler(i)},n.startPartitionGroupRule=function(e,t,n){var u=new Mc(this.scope,e,t,n,this.target),i=new iD(this.scope,this.owner,u,this.validatorSet);this.owner.pushHandler(i)},t}(nD);function oD(e){var n,u,i=null==(n=e["writing-mode"])?void 0:n.value,r=null==(u=e.direction)?void 0:u.value;return i===Jt.vertical_lr||i!==Jt.vertical_rl&&r!==Jt.rtl?t.bX.LTR:t.bX.RTL}var aD={a10:{width:new Ut(26,"mm"),height:new Ut(37,"mm")},a9:{width:new Ut(37,"mm"),height:new Ut(52,"mm")},a8:{width:new Ut(52,"mm"),height:new Ut(74,"mm")},a7:{width:new Ut(74,"mm"),height:new Ut(105,"mm")},a6:{width:new Ut(105,"mm"),height:new Ut(148,"mm")},a5:{width:new Ut(148,"mm"),height:new Ut(210,"mm")},a4:{width:new Ut(210,"mm"),height:new Ut(297,"mm")},a3:{width:new Ut(297,"mm"),height:new Ut(420,"mm")},a2:{width:new Ut(420,"mm"),height:new Ut(594,"mm")},a1:{width:new Ut(594,"mm"),height:new Ut(841,"mm")},a0:{width:new Ut(841,"mm"),height:new Ut(1189,"mm")},b10:{width:new Ut(31,"mm"),height:new Ut(44,"mm")},b9:{width:new Ut(44,"mm"),height:new Ut(62,"mm")},b8:{width:new Ut(62,"mm"),height:new Ut(88,"mm")},b7:{width:new Ut(88,"mm"),height:new Ut(125,"mm")},b6:{width:new Ut(125,"mm"),height:new Ut(176,"mm")},b5:{width:new Ut(176,"mm"),height:new Ut(250,"mm")},b4:{width:new Ut(250,"mm"),height:new Ut(353,"mm")},b3:{width:new Ut(353,"mm"),height:new Ut(500,"mm")},b2:{width:new Ut(500,"mm"),height:new Ut(707,"mm")},b1:{width:new Ut(707,"mm"),height:new Ut(1e3,"mm")},b0:{width:new Ut(1e3,"mm"),height:new Ut(1414,"mm")},c10:{width:new Ut(28,"mm"),height:new Ut(40,"mm")},c9:{width:new Ut(40,"mm"),height:new Ut(57,"mm")},c8:{width:new Ut(57,"mm"),height:new Ut(81,"mm")},c7:{width:new Ut(81,"mm"),height:new Ut(114,"mm")},c6:{width:new Ut(114,"mm"),height:new Ut(162,"mm")},c5:{width:new Ut(162,"mm"),height:new Ut(229,"mm")},c4:{width:new Ut(229,"mm"),height:new Ut(324,"mm")},c3:{width:new Ut(324,"mm"),height:new Ut(458,"mm")},c2:{width:new Ut(458,"mm"),height:new Ut(648,"mm")},c1:{width:new Ut(648,"mm"),height:new Ut(917,"mm")},c0:{width:new Ut(917,"mm"),height:new Ut(1297,"mm")},"jis-b10":{width:new Ut(32,"mm"),height:new Ut(45,"mm")},"jis-b9":{width:new Ut(45,"mm"),height:new Ut(64,"mm")},"jis-b8":{width:new Ut(64,"mm"),height:new Ut(91,"mm")},"jis-b7":{width:new Ut(91,"mm"),height:new Ut(128,"mm")},"jis-b6":{width:new Ut(128,"mm"),height:new Ut(182,"mm")},"jis-b5":{width:new Ut(182,"mm"),height:new Ut(257,"mm")},"jis-b4":{width:new Ut(257,"mm"),height:new Ut(364,"mm")},"jis-b3":{width:new Ut(364,"mm"),height:new Ut(515,"mm")},"jis-b2":{width:new Ut(515,"mm"),height:new Ut(728,"mm")},"jis-b1":{width:new Ut(728,"mm"),height:new Ut(1030,"mm")},"jis-b0":{width:new Ut(1030,"mm"),height:new Ut(1456,"mm")},letter:{width:new Ut(8.5,"in"),height:new Ut(11,"in")},legal:{width:new Ut(8.5,"in"),height:new Ut(14,"in")},ledger:{width:new Ut(11,"in"),height:new Ut(17,"in")}},sD=new Ut(.24,"pt");new Ut(3,"mm");var lD,cD,DD=new Ut(10,"mm"),hD=new Ut(13,"mm");function fD(e){var t={width:tn,height:nn,bleed:un,bleedOffset:un,cropOffset:un},n=e.size;if(n&&n.value!==Jt.auto){var u,i,r=n.value;if(r.isSpaceList()?(u=r.values[0],i=r.values[1]):(u=r,i=null),u.isNumeric())t.width=u,t.height=i||u;else{var o=u.name&&aD[u.name.toLowerCase()];o&&(i&&i===Jt.landscape?(t.width=o.height,t.height=o.width):(t.width=o.width,t.height=o.height))}}var a=e.marks,s=e.bleed,l=a&&!an(a.value)?a.value:Jt.none,c=s&&!an(s.value)?s.value:Jt.auto;c===Jt.auto?l!==Jt.none&&(l.isSpaceList()?l.values.some((function(e){return e===Jt.crop})):l===Jt.crop)&&(t.bleed=new Ut(6,"pt")):c.isNumeric()&&(t.bleed=c);var D=e["crop-offset"],h=D&&!an(D.value)?D.value:Jt.auto;return h===Jt.auto?l!==Jt.none&&(t.bleedOffset=hD):h.isNumeric()&&(t.cropOffset=h),t}function dD(e,t){var n={},u=Math.max(0,e.bleed.num)*t.queryUnitSize(e.bleed.unit,!1),i=!e.cropOffset.num&&e.bleedOffset.num?e.bleedOffset.num*t.queryUnitSize(e.bleedOffset.unit,!1):Math.max(0,e.cropOffset.num*t.queryUnitSize(e.cropOffset.unit,!1)-u),r=u+i,o=e.width;n.pageWidth=o===tn?t.pref.defaultPaperSize?t.pref.defaultPaperSize.width*t.queryUnitSize("px",!1):(t.pref.spreadView?Math.floor(t.viewportWidth/2)-t.pref.pageBorder:t.viewportWidth)-2*r:o.num*t.queryUnitSize(o.unit,!1);var a=e.height;return n.pageHeight=a===nn?t.pref.defaultPaperSize?t.pref.defaultPaperSize.height*t.queryUnitSize("px",!1):t.viewportHeight-2*r:a.num*t.queryUnitSize(a.unit,!1),n.bleed=u,n.bleedOffset=i,n.cropOffset=r,n}function pD(e,t,n){var u=e.createElementNS(W.SVG,"svg");return u.setAttribute("width",t),u.setAttribute("height",n),u.style.position="absolute",u}function ED(e,t,n){var u=e.createElementNS(W.SVG,n=n||"polyline");return u.setAttribute("stroke","#010101"),u.setAttribute("stroke-width",t),u.setAttribute("fill","none"),u}!function(e){e.TOP_LEFT="top left",e.TOP_RIGHT="top right",e.BOTTOM_LEFT="bottom left",e.BOTTOM_RIGHT="bottom right"}(lD||(lD={})),function(e){e.TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right"}(cD||(cD={}));var CD,gD,FD=(CD={width:!0,height:!0,"block-size":!0,"inline-size":!0,margin:!0,padding:!0,border:!0,outline:!0,"outline-width":!0,"outline-style":!0,"outline-color":!0},["left","right","top","bottom","before","after","start","end","block-start","block-end","inline-start","inline-end"].forEach((function(e){CD["margin-"+e]=!0,CD["padding-"+e]=!0,CD["border-"+e+"-width"]=!0,CD["border-"+e+"-style"]=!0,CD["border-"+e+"-color"]=!0})),CD);!function(e){e.START="start",e.CENTER="center",e.END="end"}(gD||(gD={}));var vD,mD={"top-left-corner":{order:1,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:null},"top-left":{order:2,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:gD.START},"top-center":{order:3,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:gD.CENTER},"top-right":{order:4,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:gD.END},"top-right-corner":{order:5,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:null},"right-top":{order:6,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:gD.START},"right-middle":{order:7,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:gD.CENTER},"right-bottom":{order:8,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:gD.END},"bottom-right-corner":{order:9,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:null},"bottom-right":{order:10,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:gD.END},"bottom-center":{order:11,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:gD.CENTER},"bottom-left":{order:12,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:gD.START},"bottom-left-corner":{order:13,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:null},"left-bottom":{order:14,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:gD.END},"left-middle":{order:15,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:gD.CENTER},"left-top":{order:16,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:gD.START}},AD=(vD=mD,Object.keys(vD).sort((function(e,t){return vD[e].order-vD[t].order}))),yD=function(e){function t(t,n,u){var i;(i=e.call(this,t,null,"vivliostyle-page-rule-master",[],n,null,0)||this).bodyPartitionKey=void 0,i.pageMarginBoxes={};var r=fD(u),o=new BD(i.scope,L(i),u,r);return i.bodyPartitionKey=o.key,i.createPageMarginBoxes(u),i.applySpecified(u,r),i}x(t,e);var n=t.prototype;return n.createPageMarginBoxes=function(e){var t=this,n=e._marginBoxes;n&&AD.forEach((function(u){n[u]&&(t.pageMarginBoxes[u]=new bD(t.scope,t,u,e))}))},n.applySpecified=function(e,t){for(var n in this.specified.position=new kr(Jt.relative,0),this.specified.width=new kr(t.width,0),this.specified.height=new kr(t.height,0),e)FD[n]||"background-clip"===n||(this.specified[n]=e[n])},n.createInstance=function(e){return new wD(e,this)},t}(_c),BD=function(e){function t(t,n,u,i){var r;return(r=e.call(this,t,null,null,[],n)||this).pageSize=void 0,r.pageSize=i,r.specified["z-index"]=new kr(new Vt(0),0),r.applySpecified(u),r}x(t,e);var n=t.prototype;return n.applySpecified=function(e){for(var t in this.specified["flow-from"]=new kr(Mt("body"),0),this.specified.position=new kr(Jt.absolute,0),this.specified.overflow=new kr(Jt.visible,0),FD)FD.hasOwnProperty(t)&&(this.specified[t]=e[t])},n.createInstance=function(e){return new TD(e,this)},t}(Uc),bD=function(e){function t(t,n,u,i){var r;return(r=e.call(this,t,null,null,[],n)||this).marginBoxName=void 0,r.marginBoxName=u,r.applySpecified(i),r}x(t,e);var n=t.prototype;return n.applySpecified=function(e){var t=e._marginBoxes[this.marginBoxName];for(var n in e){var u=t[n];(vr[n]||u&&u.value===Jt.inherit)&&(this.specified[n]=e[n])}for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];r&&r.value!==It&&r.value!==Jt.inherit&&r.value!==Jt.unset&&r.value!==Jt.revert&&(this.specified[i]=r)}},n.createInstance=function(e){return new kD(e,this)},t}(Uc),wD=function(e){function t(t,n){var u;return(u=e.call(this,t,n)||this).pageAreaDimension=null,u.pageMarginBoxInstances={},u}x(t,e);var n=t.prototype;return n.applyCascadeAndInit=function(t,n){var u=this.cascaded;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))switch(i){case"writing-mode":case"direction":u[i]=n[i]}e.prototype.applyCascadeAndInit.call(this,t,n)},n.initHorizontal=function(){var e=this.style;e.left=un,e["margin-left"]=un,e["border-left-width"]=un,e["padding-left"]=un,e["padding-right"]=un,e["border-right-width"]=un,e["margin-right"]=un,e.right=un},n.initVertical=function(){var e=this.style;e.top=un,e["margin-top"]=un,e["border-top-width"]=un,e["padding-top"]=un,e["padding-bottom"]=un,e["border-bottom-width"]=un,e["margin-bottom"]=un,e.bottom=un},n.setPageAreaDimension=function(e){this.pageAreaDimension=e;var t=this.style;t.width=new Yt(e.borderBoxWidth),t.height=new Yt(e.borderBoxHeight),t["padding-left"]=new Yt(e.marginLeft),t["padding-right"]=new Yt(e.marginRight),t["padding-top"]=new Yt(e.marginTop),t["padding-bottom"]=new Yt(e.marginBottom)},n.adjustPageLayout=function(e,t,n){var u=t.marginBoxes,i={start:this.pageAreaDimension.marginLeft,end:this.pageAreaDimension.marginRight,extent:this.pageAreaDimension.borderBoxWidth},r={start:this.pageAreaDimension.marginTop,end:this.pageAreaDimension.marginBottom,extent:this.pageAreaDimension.borderBoxHeight};this.sizeMarginBoxesAlongVariableDimension(u.top,!0,i,e,n),this.sizeMarginBoxesAlongVariableDimension(u.bottom,!0,i,e,n),this.sizeMarginBoxesAlongVariableDimension(u.left,!1,r,e,n),this.sizeMarginBoxesAlongVariableDimension(u.right,!1,r,e,n)},n.sizeMarginBoxesAlongVariableDimension=function(e,t,n,u,i){var r=gD.START,o=gD.CENTER,a=gD.END,s=this.pageBox.scope,l={},c={},D={};for(var h in e){var f=mD[h];if(f){var d=e[h],p=this.pageMarginBoxInstances[h],E=new SD(d,p.style,t,s,i);l[f.positionAlongVariableDimension]=d,c[f.positionAlongVariableDimension]=p,D[f.positionAlongVariableDimension]=E}}var C={start:n.start.evaluate(u),end:n.end.evaluate(u),extent:n.extent.evaluate(u)},g=this.getSizesOfMarginBoxesAlongVariableDimension(D,C.extent),F=!1,v={};Object.keys(l).forEach((function(e){var r=e,o=zc(s,c[r].style[t?"max-width":"max-height"],n.extent);if(o){var a=o.evaluate(u);if(g[r]>a){var h=D[r]=new xD(l[r],c[r].style,t,s,i,a);v[r]=h.getOuterSize(),F=!0}}})),F&&(g=this.getSizesOfMarginBoxesAlongVariableDimension(D,C.extent),F=!1,[r,o,a].forEach((function(e){g[e]=v[e]||g[e]})));var m={};Object.keys(l).forEach((function(e){var r=e,o=zc(s,c[r].style[t?"min-width":"min-height"],n.extent);if(o){var a=o.evaluate(u);if(g[r]<a){var h=D[r]=new xD(l[r],c[r].style,t,s,i,a);m[r]=h.getOuterSize(),F=!0}}})),F&&(g=this.getSizesOfMarginBoxesAlongVariableDimension(D,C.extent),[r,o,a].forEach((function(e){g[e]=m[e]||g[e]})));var A=C.start+C.extent,y=C.start+(C.start+C.extent);[r,o,a].forEach((function(e){var n=g[e];if(n){var u=l[e],i=0;switch(e){case r:i=t?u.left:u.top;break;case o:i=(y-n)/2;break;case a:i=A-n}t?u.setHorizontalPosition(i,n-u.getInsetLeft()-u.getInsetRight()):u.setVerticalPosition(i,n-u.getInsetTop()-u.getInsetBottom())}}))},n.getSizesOfMarginBoxesAlongVariableDimension=function(e,t){var n=e[gD.START],u=e[gD.CENTER],i=e[gD.END],r={};if(u){var o=[n,i].filter((function(e){return e})),a=o.length?new ND(o):null,s=this.distributeAutoMarginBoxSizes(u,a,t);s.xSize&&(r[gD.CENTER]=s.xSize);var l=(t-(s.xSize||u.getOuterSize()))/2;n&&n.hasAutoSize()&&(r[gD.START]=l),i&&i.hasAutoSize()&&(r[gD.END]=l)}else{var c=this.distributeAutoMarginBoxSizes(n,i,t);c.xSize&&(r[gD.START]=c.xSize),c.ySize&&(r[gD.END]=c.ySize)}return r},n.distributeAutoMarginBoxSizes=function(e,t,n){var u={xSize:null,ySize:null};if(e&&t)if(e.hasAutoSize()&&t.hasAutoSize()){var i=e.getOuterMaxContentSize(),r=t.getOuterMaxContentSize();if(i>0&&r>0){var o=i+r;if(o<n)u.xSize=n*i/o;else{var a=e.getOuterMinContentSize(),s=a+t.getOuterMinContentSize();s<n?u.xSize=a+(n-s)*(i-a)/(o-s):s>0&&(u.xSize=n*a/s)}u.xSize>0&&(u.ySize=n-u.xSize)}else i>0?u.xSize=n:r>0&&(u.ySize=n)}else e.hasAutoSize()?u.xSize=Math.max(n-t.getOuterSize(),0):t.hasAutoSize()&&(u.ySize=Math.max(n-e.getOuterSize(),0));else e?e.hasAutoSize()&&(u.xSize=n):t&&t.hasAutoSize()&&(u.ySize=n);return u},n.prepareContainer=function(t,n,u,i,r){e.prototype.prepareContainer.call(this,t,n,u,i,r),n.element.setAttribute("data-vivliostyle-page-box",!0)},t}(Jc),SD=function(){function e(e,t,n,u,i){this.container=void 0,this.isHorizontal=void 0,this.clientLayout=void 0,this.hasAutoSize_=void 0,this.size=null,this.container=e,this.isHorizontal=n,this.clientLayout=i;var r=t[n?"width":"height"];this.hasAutoSize_=!r||r===Jt.auto||an(r)}var t=e.prototype;return t.hasAutoSize=function(){return this.hasAutoSize_},t.getSize=function(){return this.size||(this.size=Na(this.clientLayout,this.container.element,this.isHorizontal?[wa.MAX_CONTENT_WIDTH,wa.MIN_CONTENT_WIDTH]:[wa.MAX_CONTENT_HEIGHT,wa.MIN_CONTENT_HEIGHT])),this.size},t.getOuterMaxContentSize=function(){var e=this.getSize();return this.isHorizontal?this.container.getInsetLeft()+e[wa.MAX_CONTENT_WIDTH]+this.container.getInsetRight():this.container.getInsetTop()+e[wa.MAX_CONTENT_HEIGHT]+this.container.getInsetBottom()},t.getOuterMinContentSize=function(){var e=this.getSize();return this.isHorizontal?this.container.getInsetLeft()+e[wa.MIN_CONTENT_WIDTH]+this.container.getInsetRight():this.container.getInsetTop()+e[wa.MIN_CONTENT_HEIGHT]+this.container.getInsetBottom()},t.getOuterSize=function(){return this.isHorizontal?this.container.getInsetLeft()+this.container.width+this.container.getInsetRight():this.container.getInsetTop()+this.container.height+this.container.getInsetBottom()},e}(),ND=function(){function e(e){this.params=void 0,this.params=e}var t=e.prototype;return t.hasAutoSize=function(){return this.params.some((function(e){return e.hasAutoSize()}))},t.getOuterMaxContentSize=function(){var e=this.params.map((function(e){return e.getOuterMaxContentSize()}));return Math.max.apply(null,e)*e.length},t.getOuterMinContentSize=function(){var e=this.params.map((function(e){return e.getOuterMinContentSize()}));return Math.max.apply(null,e)*e.length},t.getOuterSize=function(){var e=this.params.map((function(e){return e.getOuterSize()}));return Math.max.apply(null,e)*e.length},e}(),xD=function(e){function t(t,n,u,i,r,o){var a;return(a=e.call(this,t,n,u,i,r)||this).fixedSize=void 0,a.fixedSize=o,a}x(t,e);var n=t.prototype;return n.hasAutoSize=function(){return!1},n.getOuterMaxContentSize=function(){return this.getOuterSize()},n.getOuterMinContentSize=function(){return this.getOuterSize()},n.getOuterSize=function(){return this.isHorizontal?this.container.getInsetLeft()+this.fixedSize+this.container.getInsetRight():this.container.getInsetTop()+this.fixedSize+this.container.getInsetBottom()},t}(SD),TD=function(e){function t(t,n){var u;return(u=e.call(this,t,n)||this).borderBoxWidth=null,u.borderBoxHeight=null,u.marginTop=null,u.marginRight=null,u.marginBottom=null,u.marginLeft=null,u}x(t,e);var n=t.prototype;return n.applyCascadeAndInit=function(t,n){var u=this.cascaded;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(i.match(/^column.*$/)||i.match(/^background-/))&&(u[i]=n[i]);e.prototype.applyCascadeAndInit.call(this,t,n),this.parentInstance.setPageAreaDimension({borderBoxWidth:this.borderBoxWidth,borderBoxHeight:this.borderBoxHeight,marginTop:this.marginTop,marginRight:this.marginRight,marginBottom:this.marginBottom,marginLeft:this.marginLeft})},n.initHorizontal=function(){var e=this.resolvePageBoxDimensions({start:"left",end:"right",extent:"width"});this.borderBoxWidth=e.borderBoxExtent,this.marginLeft=e.marginStart,this.marginRight=e.marginEnd},n.initVertical=function(){var e=this.resolvePageBoxDimensions({start:"top",end:"bottom",extent:"height"});this.borderBoxHeight=e.borderBoxExtent,this.marginTop=e.marginStart,this.marginBottom=e.marginEnd},n.resolvePageBoxDimensions=function(e){var t=this.style,n=this.pageBox.scope,u=e.start,i=e.end,r=e.extent,o=this.pageBox.pageSize[r].toExpr(n,null),a=zc(n,t[r],o),s=zc(n,t["margin-"+u],o),l=zc(n,t["margin-"+i],o),c=Vc(n,t["padding-"+u],o),D=Vc(n,t["padding-"+i],o),h=Gc(n,t["border-"+u+"-width"],t["border-"+u+"-style"],o),f=Gc(n,t["border-"+i+"-width"],t["border-"+i+"-style"],o),d=bt(n,o,Bt(n,Bt(n,h,c),Bt(n,f,D)));return a?(d=bt(n,d,a),s||l?s?l=bt(n,d,s):s=bt(n,d,l):l=s=wt(n,d,new Ft(n,.5))):(s||(s=n.zero),l||(l=n.zero),a=bt(n,d,Bt(n,s,l))),t[u]=new Yt(s),t[i]=new Yt(l),t["margin-"+u]=un,t["margin-"+i]=un,t["padding-"+u]=new Yt(c),t["padding-"+i]=new Yt(D),t["border-"+u+"-width"]=new Yt(h),t["border-"+i+"-width"]=new Yt(f),t[r]=new Yt(a),t["max-"+r]=new Yt(a),{borderBoxExtent:bt(n,o,Bt(n,s,l)),marginStart:s,marginEnd:l}},n.prepareContainer=function(t,n,u,i,r){e.prototype.prepareContainer.call(this,t,n,u,i,r),u.pageAreaElement=n.element,t.pageAreaWidth=parseFloat(u.pageAreaElement.style.width),t.pageAreaHeight=parseFloat(u.pageAreaElement.style.height)},t}(tD),kD=function(e){function t(t,n){var u;(u=e.call(this,t,n)||this).boxInfo=void 0,u.suppressEmptyBoxGeneration=!0;var i=n.marginBoxName;return u.boxInfo=mD[i],t.pageMarginBoxInstances[i]=L(u),u}x(t,e);var n=t.prototype;return n.prepareContainer=function(t,n,u,i,r){this.applyVerticalAlign(t,n.element),e.prototype.prepareContainer.call(this,t,n,u,i,r)},n.applyVerticalAlign=function(e,t){te(t,"display","flex");var n=this.getProp(e,"vertical-align"),u=null;if(n===Mt("middle")?u="center":n===Mt("top")?u="flex-start":n===Mt("bottom")&&(u="flex-end"),u&&(te(t,"flex-flow",this.vertical?"row":"column"),te(t,"justify-content",u),this.vertical)){var i="center";(this.boxInfo.isInTopRow||this.boxInfo.isInBottomRow)&&(this.boxInfo.isInLeftColumn||this.boxInfo.positionAlongVariableDimension===gD.END?i="start":(this.boxInfo.isInRightColumn||this.boxInfo.positionAlongVariableDimension===gD.START)&&(i="end")),te(t,"align-items",i)}},n.positionAlongVariableDimension=function(e,t){var n=this.style,u=this.pageBox.scope,i=e.start,r=e.end,o="left"===i,a=o?t.borderBoxWidth:t.borderBoxHeight,s=zc(u,n[e.extent],a),l=o?t.marginLeft:t.marginTop;if(this.boxInfo.positionAlongVariableDimension===gD.START)n[i]=new Yt(l);else if(s){var c=Vc(u,n["margin-"+i],a),D=Vc(u,n["margin-"+r],a),h=Vc(u,n["padding-"+i],a),f=Vc(u,n["padding-"+r],a),d=Gc(u,n["border-"+i+"-width"],n["border-"+i+"-style"],a),p=Gc(u,n["border-"+r+"-width"],n["border-"+r+"-style"],a),E=Bt(u,s,Bt(u,Bt(u,h,f),Bt(u,Bt(u,d,p),Bt(u,c,D))));switch(this.boxInfo.positionAlongVariableDimension){case gD.CENTER:n[i]=new Yt(Bt(u,l,St(u,bt(u,a,E),new Ft(u,2))));break;case gD.END:n[i]=new Yt(bt(u,Bt(u,l,a),E))}}},n.positionAndSizeAlongFixedDimension=function(e,t){var n=this.style,u=this.pageBox.scope,i=e.inside,r=e.outside,o=e.extent,a=t["margin"+r.charAt(0).toUpperCase()+r.substring(1)],s=Hc(u,n["margin-"+i],a),l=Hc(u,n["margin-"+r],a),c=Vc(u,n["padding-"+i],a),D=Vc(u,n["padding-"+r],a),h=Gc(u,n["border-"+i+"-width"],n["border-"+i+"-style"],a),f=Gc(u,n["border-"+r+"-width"],n["border-"+r+"-style"],a),d=zc(u,n[o],a),p=null;function E(e){if(p)return p;p={extent:d?d.evaluate(e):null,marginInside:s?s.evaluate(e):null,marginOutside:l?l.evaluate(e):null};var t=a.evaluate(e),n=0;return[h,c,D,f].forEach((function(t){t&&(n+=t.evaluate(e))})),(null===p.marginInside||null===p.marginOutside)&&n+p.extent+p.marginInside+p.marginOutside>t&&(null===p.marginInside&&(p.marginInside=0),null===p.marginOutside&&(p.marginOutside=0)),null!==p.extent&&null!==p.marginInside&&null!==p.marginOutside&&(p.marginOutside=null),null===p.extent&&null!==p.marginInside&&null!==p.marginOutside?p.extent=t-n-p.marginInside-p.marginOutside:null!==p.extent&&null===p.marginInside&&null!==p.marginOutside?p.marginInside=t-n-p.extent-p.marginOutside:null!==p.extent&&null!==p.marginInside&&null===p.marginOutside?p.marginOutside=t-n-p.extent-p.marginInside:null===p.extent?(p.marginInside=p.marginOutside=0,p.extent=t-n):p.marginInside=p.marginOutside=(t-n-p.extent)/2,p}n[o]=new Yt(new Et(u,(function(){var e=E(this).extent;return null===e?0:e}),o)),n["margin-"+i]=new Yt(new Et(u,(function(){var e=E(this).marginInside;return null===e?0:e}),"margin-"+i)),n["margin-"+r]=new Yt(new Et(u,(function(){var e=E(this).marginOutside;return null===e?0:e}),"margin-"+r)),"left"===i?n.left=new Yt(Bt(u,t.marginLeft,t.borderBoxWidth)):"top"===i&&(n.top=new Yt(Bt(u,t.marginTop,t.borderBoxHeight)))},n.initHorizontal=function(){var e=this.parentInstance.pageAreaDimension;this.boxInfo.isInLeftColumn?this.positionAndSizeAlongFixedDimension({inside:"right",outside:"left",extent:"width"},e):this.boxInfo.isInRightColumn?this.positionAndSizeAlongFixedDimension({inside:"left",outside:"right",extent:"width"},e):this.positionAlongVariableDimension({start:"left",end:"right",extent:"width"},e)},n.initVertical=function(){var e=this.parentInstance.pageAreaDimension;this.boxInfo.isInTopRow?this.positionAndSizeAlongFixedDimension({inside:"bottom",outside:"top",extent:"height"},e):this.boxInfo.isInBottomRow?this.positionAndSizeAlongFixedDimension({inside:"top",outside:"bottom",extent:"height"},e):this.positionAlongVariableDimension({start:"top",end:"bottom",extent:"height"},e)},n.finishContainer=function(t,n,u,i,r,o,a){e.prototype.finishContainer.call(this,t,n,u,i,r,o,a);var s=u.marginBoxes,l=this.pageBox.marginBoxName,c=this.boxInfo;c.isInLeftColumn||c.isInRightColumn?c.isInTopRow||c.isInBottomRow||(c.isInLeftColumn?s.left[l]=n:c.isInRightColumn&&(s.right[l]=n)):c.isInTopRow?s.top[l]=n:c.isInBottomRow&&(s.bottom[l]=n)},t}(tD),ID=function(){function e(e,t,n,u,i){this.cascadeInstance=void 0,this.pageScope=void 0,this.rootPageBoxInstance=void 0,this.context=void 0,this.docElementStyle=void 0,this.pageMasterCache={},this.cascadeInstance=e,this.pageScope=t,this.rootPageBoxInstance=n,this.context=u,this.docElementStyle=i,this.definePageProgression()}var n=e.prototype;return n.definePageProgression=function(){var e=this.pageScope,n=this.context,u=n.isVersoFirstPage,i=new dt(e,"page-number"),r=new ot(e,new ht(e,i,new Ft(e,2)),u?e.one:e.zero);e.defineName("recto-page",new qe(e,r)),e.defineName("verso-page",r),(n.pageProgression||oD(this.docElementStyle))===t.bX.LTR?(e.defineName("left-page",r),e.defineName("right-page",new qe(e,r))):(e.defineName("left-page",new qe(e,r)),e.defineName("right-page",r))},n.getCascadedPageStyle=function(e){var t={};return this.cascadeInstance.pushRule([],e,t),this.cascadeInstance.popRule(),t},n.getPageRulePageMaster=function(e,t){var n=e.pageBox;if(0===Object.keys(t).length)return n.resetScope(),e;var u=this.makeCacheKey(t,n),i=this.pageMasterCache[u];return i||(i=n.pseudoName===Qc?this.generatePageRuleMaster(t):this.generateCascadedPageMaster(t,n),this.pageMasterCache[u]=i),i.pageBox.resetScope(),i},n.makeCacheKey=function(e,t){var n=this.makeCascadeValueObjectKey(e);return t.key+"^"+n},n.makeCascadeValueObjectKey=function(e){var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var u,i=e[n];u=i instanceof kr?""+i.value:this.makeCascadeValueObjectKey(i),t.push(n+u+(i.priority||""))}return t.sort().join("^")},n.generatePageRuleMaster=function(e){var t=new yD(this.pageScope,this.rootPageBoxInstance.pageBox,e).createInstance(this.rootPageBoxInstance);return t.applyCascadeAndInit(this.cascadeInstance,this.docElementStyle),t.resolveAutoSizing(this.context),t},n.generateCascadedPageMaster=function(e,t){var n=t.clone({pseudoName:"vivliostyle-page-rule-master"}),u=n.specified,i=e.size;if(i&&!an(i.value)){var r=fD(e),o=i.priority;Rr(u,"width",new kr(r.width,o),this.context),Rr(u,"height",new kr(r.height,o),this.context)}["counter-reset","counter-increment"].forEach((function(t){u[t]&&(e[t]=u[t])}));var a=n.createInstance(this.rootPageBoxInstance);return a.applyCascadeAndInit(this.cascadeInstance,this.docElementStyle),a.resolveAutoSizing(this.context),a},e}(),PD=function(e){function t(t){var n;return(n=e.call(this)||this).pageType=void 0,n.pageType=t,n}x(t,e);var n=t.prototype;return n.apply=function(e){e.currentPageType===this.pageType&&this.chained.apply(e)},n.getPriority=function(){return 3},n.makePrimary=function(e){return this.chained&&e.insertInTable(e.pagetypes,this.pageType,this.chained),!0},t}(to),RD=function(e){function t(t){var n;return(n=e.call(this)||this).scope=void 0,n.scope=t,n}x(t,e);var n=t.prototype;return n.apply=function(e){1===new dt(this.scope,"page-number").evaluate(e.context)&&this.chained.apply(e)},n.getPriority=function(){return 2},t}(to),LD=function(e){function t(t){var n;return(n=e.call(this)||this).scope=void 0,n.scope=t,n}x(t,e);var n=t.prototype;return n.apply=function(e){new dt(this.scope,"blank-page").evaluate(e.context)&&this.chained.apply(e)},n.getPriority=function(){return 2},t}(to),OD=function(e){function t(t){var n;return(n=e.call(this)||this).scope=void 0,n.scope=t,n}x(t,e);var n=t.prototype;return n.apply=function(e){new dt(this.scope,"left-page").evaluate(e.context)&&this.chained.apply(e)},n.getPriority=function(){return 1},t}(to),_D=function(e){function t(t){var n;return(n=e.call(this)||this).scope=void 0,n.scope=t,n}x(t,e);var n=t.prototype;return n.apply=function(e){new dt(this.scope,"right-page").evaluate(e.context)&&this.chained.apply(e)},n.getPriority=function(){return 1},t}(to),MD=function(e){function t(t){var n;return(n=e.call(this)||this).scope=void 0,n.scope=t,n}x(t,e);var n=t.prototype;return n.apply=function(e){new dt(this.scope,"recto-page").evaluate(e.context)&&this.chained.apply(e)},n.getPriority=function(){return 1},t}(to),UD=function(e){function t(t){var n;return(n=e.call(this)||this).scope=void 0,n.scope=t,n}x(t,e);var n=t.prototype;return n.apply=function(e){new dt(this.scope,"verso-page").evaluate(e.context)&&this.chained.apply(e)},n.getPriority=function(){return 1},t}(to),zD=function(e){function t(t,n,u){var i;return(i=e.call(this,n,u)||this).scope=void 0,i.a=void 0,i.b=void 0,i.scope=t,i.a=n,i.b=u,i}x(t,e);var n=t.prototype;return n.apply=function(e){var t=e.context,n=t.layoutPositionAtPageStart.page;t.blankPageAtStart&&n--,n&&this.matchANPlusB(n)&&this.chained.apply(e)},n.getPriority=function(){return 2},t}(Eo),VD=function(e){function t(t,n){return e.call(this,t,n,null,null,null)||this}return x(t,e),t.prototype.apply=function(e){!function(e,t,n,u,i){jr(e,t,n,u,null,null,null);var r=n._marginBoxes;if(r){var o=Hr(t,"_marginBoxes");for(var a in r)if(r.hasOwnProperty(a)){var s=o[a];s||(o[a]=s={}),jr(e,s,r[a],u,null,null,null)}}}(e.context,e.currentStyle,this.style,this.specificity)},t}(eo),HD=function(e){function t(t,n,u,i,r){var o;return(o=e.call(this,t,n,null==u?void 0:u.condition,u,null,i,!1)||this).pageProps=void 0,o.currentPageSelectors=[],o.currentNamedPageSelector="",o.currentPseudoPageClassSelectors=[],o.pageProps=r,o}x(t,e);var n=t.prototype;return n.startPageRule=function(){this.startSelectorRule()},n.tagSelector=function(e,t){this.currentNamedPageSelector=t,t&&(this.chain.push(new PD(t)),this.specificity+=65536)},n.pseudoclassSelector=function(e,t){if(e=e.toLowerCase(),t)if("nth"===e){var n=t[0],u=t[1];this.currentPseudoPageClassSelectors.push(":"+e+"("+n+"n"+(u<0?u:"+"+u)+")"),this.chain.push(new zD(this.scope,n,u)),this.specificity+=256}else this.reportAndSkip("E_INVALID_PAGE_SELECTOR :"+e+"("+t.join("")+")");else switch(this.currentPseudoPageClassSelectors.push(":"+e),e){case"first":this.chain.push(new RD(this.scope)),this.specificity+=256;break;case"blank":this.chain.push(new LD(this.scope)),this.specificity+=256;break;case"left":this.chain.push(new OD(this.scope)),this.specificity+=1;break;case"right":this.chain.push(new _D(this.scope)),this.specificity+=1;break;case"recto":this.chain.push(new MD(this.scope)),this.specificity+=1;break;case"verso":this.chain.push(new UD(this.scope)),this.specificity+=1;break;default:this.reportAndSkip("E_INVALID_PAGE_SELECTOR :"+e)}},n.finishSelector=function(){var e;e=this.currentNamedPageSelector||this.currentPseudoPageClassSelectors.length?[this.currentNamedPageSelector].concat(this.currentPseudoPageClassSelectors.sort()):null,this.currentPageSelectors.push({selectors:e,specificity:this.specificity}),this.currentNamedPageSelector="",this.currentPseudoPageClassSelectors=[]},n.nextSelector=function(){this.finishSelector(),e.prototype.nextSelector.call(this)},n.startRuleBody=function(){this.finishSelector(),e.prototype.startRuleBody.call(this)},n.simpleProperty=function(t,n,u){if("bleed"!==t&&"marks"!==t||this.currentPageSelectors.some((function(e){return null===e.selectors}))){e.prototype.simpleProperty.call(this,t,n,u);var i=Ur(this.elementStyle,t),r=this.pageProps;if("bleed"===t||"marks"===t)r[""]||(r[""]={}),Object.keys(r).forEach((function(e){zr(r[e],t,i)}));else if("size"===t){var o=r[""];this.currentPageSelectors.forEach((function(e){var n=new kr(i.value,i.priority+e.specificity),u=e.selectors?e.selectors.join(""):"",a=r[u];a?Rr(a,t,n):(zr(a=r[u]={},t,n),o&&["bleed","marks"].forEach((function(e){o[e]&&zr(a,e,o[e])})))}))}}},n.insertNonPrimary=function(e){this.cascade.insertInTable(this.cascade.pagetypes,"*",e)},n.makeApplyRuleAction=function(e){return new VD(this.elementStyle,e)},n.startPageMarginBoxRule=function(e){var t=Hr(this.elementStyle,"_marginBoxes"),n=t[e];n||(t[e]=n={});var u=new GD(this.scope,this.owner,this.validatorSet,n);this.owner.pushHandler(u)},t}(Zo),GD=function(e){function t(t,n,u,i){var r;return(r=e.call(this,t,n,!1)||this).validatorSet=void 0,r.boxStyle=void 0,r.validatorSet=u,r.boxStyle=i,r}x(t,e);var n=t.prototype;return n.property=function(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)},n.invalidPropertyValue=function(e,t){this.report("E_INVALID_PROPERTY_VALUE "+e+": "+t.toString())},n.unknownProperty=function(e,t){this.report("E_INVALID_PROPERTY "+e+": "+t.toString())},n.simpleProperty=function(e,t,n){var u=n?this.getImportantSpecificity():this.getBaseSpecificity(),i=new kr(t,u);zr(this.boxStyle,e,i)},t}(si),WD=!0,XD=[];function jD(e,t){return e===t||(e.src||t.src?e.src===t.src:e.textContent===t.textContent)}function $D(e){var t=Array.from(e.querySelectorAll("body > :not(script):not(link):not(style) ~ script"));return Array.from(e.querySelectorAll("head > script, body > script")).filter((function(e){return!t.includes(e)}))}function qD(e,t,n){if(!WD)return Iu(!1);if((null==n||!n.inHead)&&(null==n||!n.atEnd)&&$D(e.ownerDocument).includes(e))return Iu(!1);var u=e.textContent,i=e.src,r="module"===e.type,o=(r||i)&&e.async,a=r&&!o||i&&e.defer,s=!(null!=n&&n.atEnd)&&((null==n?void 0:n.forceDefer)||a||o);if(YD(t)||(t.onload=null),s)return XD.some((function(t){return jD(t,e)}))||XD.push(e),Iu(!0);if(i.includes("/mathjax")){var l,c,D=t.document.head.querySelector("script[src*='MathJax.js']:not([data-vivliostyle-scripting])");if(D)if(i.includes("/mathjax@3"))t.document.head.removeChild(D),null!=(l=t.MathJax)&&null!=(c=l.version)&&c.startsWith("2.")&&delete t.MathJax;else if(i.includes("/MathJax.js"))return Iu(!0)}for(var h,d=_(t.document.head.getElementsByTagName("script"));!(h=d()).done;){var p=h.value;p.hasAttribute("data-vivliostyle-scripting")&&jD(p,e)&&t.document.head.removeChild(p)}var E=t.document.createElement("script");E.textContent=u,i&&(E.src=i),E.async=o,E.defer=a,E.setAttribute("data-vivliostyle-scripting","true");for(var C,g=_(e.attributes);!(C=g()).done;){var F=C.value;["src","async","defer"].includes(F.name)||E.setAttribute(F.name,F.value)}if(f.debug("script:",i),i){var v=Wu(E);return t.document.head.appendChild(E),Gu([v])}return t.document.head.appendChild(E),Iu(!0)}function YD(e){return!!WD&&(XD.length>0||!!e.document.head.querySelector("script[data-vivliostyle-scripting]"))}var KD=function(e,t,n){return e.replace(/[uU][rR][lL]\(\s*"((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^"\r\n])+)"/gm,(function(e,u){return'url("'+n.transformURL(u,t)+'"'})).replace(/[uU][rR][lL]\(\s*'((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^'\r\n])+)'/gm,(function(e,u){return"url('"+n.transformURL(u,t)+"'"})).replace(/[uU][rR][lL]\(\s*((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^"'\r\n\)\s])+)/gm,(function(e,u){return"url("+n.transformURL(u,t)}))},QD={},ZD=function(e){function n(t,n,u,i,r,o,a,s,l,c,D,h,f){var d;return(d=e.call(this)||this).flowName=void 0,d.context=void 0,d.viewport=void 0,d.styler=void 0,d.regionIds=void 0,d.xmldoc=void 0,d.docFaces=void 0,d.footnoteStyle=void 0,d.stylerProducer=void 0,d.page=void 0,d.customRenderer=void 0,d.fallbackMap=void 0,d.documentURLTransformer=void 0,d.document=void 0,d.exprContentListener=void 0,d.nodeContext=null,d.viewRoot=null,d.isFootnote=!1,d.sourceNode=null,d.offsetInNode=0,d.viewNode=null,d.flowName=t,d.context=n,d.viewport=u,d.styler=i,d.regionIds=r,d.xmldoc=o,d.docFaces=a,d.footnoteStyle=s,d.stylerProducer=l,d.page=c,d.customRenderer=D,d.fallbackMap=h,d.documentURLTransformer=f,d.document=u.document,d.exprContentListener=i.counterListener.getExprContentListener(),d}x(n,e);var u=n.prototype;return u.clone=function(){return new n(this.flowName,this.context,this.viewport,this.styler,this.regionIds,this.xmldoc,this.docFaces,this.footnoteStyle,this.stylerProducer,this.page,this.customRenderer,this.fallbackMap,this.documentURLTransformer)},u.createPseudoelementShadow=function(e,t,n,u,i,r,o,a){var s=this.getPseudoMap(n,this.regionIds,this.isFootnote,this.nodeContext,r);if(!s)return a;for(var l,c=[],D=Us.createElementNS(W.SHADOW,"root"),h=D,f=_(zs);!(l=f()).done;){var d=l.value,p=void 0;if(d){if(!s[d])continue;if(!("footnote-marker"!=d||t&&this.isFootnote))continue;if(d.match(/^first-/)){var E=u.display;if(!E||E===Jt.inline)continue;var C=e.firstElementChild;if(C&&Ji(C.previousSibling)){var g=i.getStyle(C,!1);if(g){var F=Ur(g,"display");if(null!=F&&F.value&&F.value!==Jt.inline)continue}}}if("before"===d||"after"===d){var v=s[d].content;if(!v||!Fr(v.value))continue}c.push(d),Hs(p=Us.createElementNS(W.XHTML,"span"),d)}else p=Us.createElementNS(W.SHADOW,"content");h.appendChild(p),d.match(/^first-/)&&(h=p)}if(!c.length)return a;var m=new Gs(e,n,i,r,this.exprContentListener);return new lr(e,D,null,o,a,sr.ROOTLESS,m)},u.getPseudoMap=function(e,t,n,u,i){var r=Vr(e,"_pseudos");if(!r)return null;var o={},a=function(e){var u=o[e]={};da(u,r[e],i),la(u,i,r[e]),fa(r[e],t,n,(function(e,t){da(u,t,i),sa(t,(function(e){da(u,e,i)}))}))};for(var s in r)a(s);return o},u.createRefShadow=function(e,t,n,u,i){var r=this,o=ku("createRefShadow");return this.xmldoc.store.load(e).then((function(a){var s=a;if(s){var l=s.getElement(e);if(l){var c=r.stylerProducer.getStylerForDoc(s);i=new lr(n,l,s,u,i,t,c)}}o.finish(i)})),o.result()},u.createShadows=function(e,t,n,u,i,r,o){var a=this,s=ku("createShadows"),l=u.template;return(l instanceof Gt?this.createRefShadow(l.url,sr.ROOTLESS,e,o,null):Iu(null)).then((function(l){var c=null;if(e.namespaceURI==W.SHADOW&&"include"==e.localName){var D=e.getAttribute("href"),h=null;D?h=o?o.xmldoc:a.xmldoc:o&&(D=o.owner.namespaceURI==W.XHTML?o.owner.getAttribute("href"):o.owner.getAttributeNS(W.XLINK,"href"),h=o.parentShadow?o.parentShadow.xmldoc:a.xmldoc),D&&(D=$(D,h.url),c=a.createRefShadow(D,sr.ROOTED,e,o,l))}null==c&&(c=Iu(l));var f=null;c.then((function(t){if(u.display===Jt.table_cell){var n=$("user-agent.xml#table-cell",X);f=a.createRefShadow(n,sr.ROOTLESS,e,o,t)}else f=Iu(t)})),f.then((function(l){l=a.createPseudoelementShadow(e,t,n,u,i,r,o,l),s.finish(l)}))})),s.result()},u.setViewRoot=function(e,t){this.viewRoot=e,this.isFootnote=t},u.computeStyle=function(e,t,n,u){var i=this,r=this.context,o=ha(n,r,this.regionIds,this.isFootnote);e=ca(o,r,e),t=Da(o,r,t),pa(o,u,e,t,(function(e,t){var n=t.evaluate(r,e);return"font-family"==e&&(n=i.docFaces.filterFontFamily(n)),n}));var a=is(u.display||Jt.inline,u.position,u.float,this.sourceNode===this.xmldoc.root);return["display","position","float"].forEach((function(e){a[e]&&(u[e]=a[e])})),e},u.inheritFromSourceParent=function(e){for(var t=this.nodeContext.sourceNode,n=[],u=null,i=this.nodeContext.shadowContext,r=-1;t&&1==t.nodeType;){var o=i&&i.root==t;if(!o||i.type==sr.ROOTLESS){var a=(i?i.styler:this.styler).getStyle(t,!1);n.push(a),u=u||ue(t)}o?(t=i.owner,i=i.parentShadow):(t=t.parentNode,r++)}for(var s=this.context.queryUnitSize("em",0===r),l={"font-size":new kr(new Ut(s,"px"),0)},c=new qr(l,this.context),D=n.length-1;D>=0;--D){var h=n[D],f=[];for(var d in h)Mr(d)&&f.push(d);f.sort(sn);for(var p=void 0,E=void 0,C=0,g=f;C<g.length;C++){var F=g[C];c.setPropName(F);var v=Ur(h,F),m=v;an(v.value)||("font-size"===F&&D===n.length-1&&this.context.isRelativeRootFontSize&&this.context.rootFontSize?m=new kr(new Ut(this.context.rootFontSize,"px"),v.priority):"line-height"===F&&D===n.length-1&&this.context.rootLineHeight&&v.value instanceof Ut&&("lh"===v.value.unit||"rlh"===v.value.unit)?m=new kr(new Ut(this.context.rootLineHeight,"px"),v.priority):0===D&&v.value instanceof Ut&&"lh"===v.value.unit?m=new kr(new Ut(v.value.num*this.getLineHeightUnitSize(F,p,E),"px"),v.priority):ln(F)||(m=v.filterValue(c)),"font-size"===F?p=m.value:"line-height"===F&&(E=m.value),l[F]=m)}}for(var A in e)Mr(A)||(l[A]=e[A]);return{lang:u,elementStyle:l}},u.resolveURL=function(e){return e=$(e,this.xmldoc.url),this.fallbackMap[e]||e},u.inheritLangAttribute=function(){this.nodeContext.lang=ue(this.nodeContext.sourceNode)||this.nodeContext.parent&&this.nodeContext.parent.lang||this.nodeContext.lang},u.transferPolyfilledInheritedProps=function(e){var n=C(t.cF.POLYFILLED_INHERITED_PROPS).reduce((function(e,t){return e.concat(t())}),[].concat(mr)).filter((function(t){return e[t]}));if(n.length){var u=this.nodeContext.inheritedProps;if(this.nodeContext.parent)for(var i in u=this.nodeContext.inheritedProps={},this.nodeContext.parent.inheritedProps)u[i]=this.nodeContext.parent.inheritedProps[i];n.forEach((function(t){var n=e[t];if(n){if(an(n))n===Jt.initial&&(u[t]=void 0);else if(n instanceof Vt)u[t]=n.num;else if(n instanceof _t)u[t]=n.name;else if(n instanceof Ut){var i=n;switch(i.unit){case"dpi":case"dpcm":case"dppx":u[t]=i.num*Me[i.unit];break;default:u[t]=n}}else u[t]=n;delete e[t]}}))}},u.resolveFormattingContext=function(e,n,u,i,r,o){for(var a=C(t.cF.RESOLVE_FORMATTING_CONTEXT),s=0;s<a.length;s++){var l=a[s](e,n,u,i,r,o);if(l)return void(e.formattingContext=l)}},u.createElementView=function(e,t){var n,u,i=this,r=!0,o=ku("createElementView"),a=this.sourceNode,s=this.nodeContext.shadowContext?this.nodeContext.shadowContext.styler:this.styler,l=s.getStyle(a,!1);if(!this.nodeContext.shadowContext){var c=this.xmldoc.getElementOffset(a);Li.registerFragmentIndex(c,this.nodeContext.fragmentIndex,0)}var D={};if(!this.nodeContext.parent){var h=this.inheritFromSourceParent(l);l=h.elementStyle,this.nodeContext.lang=h.lang}var d=l.float,p=l["float-reference"],E=d&&!an(d.value)&&d.value!==Jt.none&&p&&!an(p.value)?function(e){switch(e){case"inline":return xa.INLINE;case"column":return xa.COLUMN;case"region":return xa.REGION;case"page":return xa.PAGE;default:throw new Error("Unknown float-reference: "+e)}}(p.value.toString()):null;if(this.nodeContext.parent&&E&&Ta(E)){var C=this.inheritFromSourceParent(l);l=C.elementStyle,this.nodeContext.lang=C.lang}this.nodeContext.vertical=this.computeStyle(this.nodeContext.vertical,"rtl"===this.nodeContext.direction,l,D),s.processContent(a,D,null!=(n=this.nodeContext.viewNode)?n:null==(u=this.nodeContext.parent)?void 0:u.viewNode),this.transferPolyfilledInheritedProps(D),this.inheritLangAttribute(),D.direction&&(this.nodeContext.direction=D.direction.toString());var g=D["flow-into"];if(g&&g.toString()!=this.flowName)return o.finish(!1),o.result();if(WD&&"script"===a.localName&&a.namespaceURI===W.XHTML)return qD(a,this.viewport.window).thenFinish(o),o.result();var F=D.display;if(an(F))if(F===Jt.initial||F===Jt.unset)F=Jt.inline;else if(F===Jt.inherit){var v,m;F=(null==(v=this.nodeContext.parent)?void 0:v.display)&&Mt(null==(m=this.nodeContext.parent)?void 0:m.display)}else F=null;if(F===Jt.none)return o.finish(!1),o.result();var A=null==this.nodeContext.parent;return this.nodeContext.flexContainer=F===Jt.flex,this.createShadows(a,A,l,D,s,this.context,this.nodeContext.shadowContext).then((function(n){i.nodeContext.nodeShadow=n;var u=D.position,c=D.float,h=D.clear,d=i.nodeContext.vertical?Jt.vertical_rl:Jt.horizontal_tb,p=i.nodeContext.parent?i.nodeContext.parent.vertical?Jt.vertical_rl:Jt.horizontal_tb:d,C=function(e){return"true"===e.getAttribute("data-vivliostyle-flow-root")}(a);i.nodeContext.establishesBFC=function(e,t,n,u,i,r,o){return i=i||r||Jt.horizontal_tb,!!o||!!n&&n!==Jt.none&&!an(n)||us(t)||e===Jt.inline_block||e===Jt.table_cell||e===Jt.table_caption||e==Jt.flex||e==Jt.grid||e==Jt.flow_root||(e===Jt.block||e===Jt.list_item)&&!!u&&u!==Jt.visible&&u!==Jt.clip&&!an(u)||!!r&&i!==r}(F,u,c,D.overflow,d,p,C),i.nodeContext.containingBlockForAbsolute=function(e){return e===Jt.relative||e===Jt.absolute||e===Jt.fixed}(u),!i.nodeContext.isInsideBFC()||c===Jt.footnote||E&&Ta(E)||(c=null,h=null);var g=c===Jt.left||c===Jt.right||c===Jt.top||c===Jt.bottom||c===Jt.inline_start||c===Jt.inline_end||c===Jt.block_start||c===Jt.block_end||c===Jt.snap_block||c===Jt.footnote;c&&(delete D.float,c===Jt.footnote&&(i.isFootnote?(g=!1,D.display=Jt.block):D.display=Jt.inline)),h&&(h===Jt.inherit&&i.nodeContext.parent&&i.nodeContext.parent.clearSide&&(h=Mt(i.nodeContext.parent.clearSide)),h!==Jt.left&&h!==Jt.right&&h!==Jt.top&&h!==Jt.bottom&&h!==Jt.both&&h!==Jt.all&&h!==Jt.same||(delete D.clear,D.display&&D.display!=Jt.inline&&(i.nodeContext.clearSide=h.toString())));var v=F===Jt.list_item&&D["ua-list-item-count"],m=D["break-inside"];(g||m&&!an(m)&&m!==Jt.auto)&&i.nodeContext.breakPenalty++,F&&F!==Jt.inline&&os(F)&&i.nodeContext.breakPenalty++,i.nodeContext.inline=!g&&!F||os(F)||as(F),i.nodeContext.display=F?F.toString():"inline",i.nodeContext.floatSide=g?c.toString():null,i.nodeContext.floatReference=E||xa.INLINE;var y=D["float-min-wrap-block"];i.nodeContext.floatMinWrapBlock=y&&!an(y)?y:null;var B=i.isInsideNonRootMultiColumn(),b=D["column-span"];if(i.nodeContext.columnSpan=B||!b||an(b)?null:b,!i.nodeContext.inline){var w=D["break-after"];!w||an(w)||B&&w===Jt.column||(i.nodeContext.breakAfter=w.toString(),$a[i.nodeContext.breakAfter]&&delete D["break-after"]);var S=D["break-before"];!S||an(S)||B&&S===Jt.column||(i.nodeContext.breakBefore=S.toString(),$a[i.nodeContext.breakBefore]&&delete D["break-before"]);var N=D.page,x=N&&!an(N)&&N.toString();x&&"auto"!==x.toLowerCase()?i.nodeContext.pageType=x:x=i.nodeContext.pageType,i.styler.cascade.currentPageType!==x&&(i.isAtForcedBreak()||(i.nodeContext.breakBefore="page"),i.styler.cascade.previousPageType=i.styler.cascade.currentPageType,i.styler.cascade.currentPageType=x)}i.nodeContext.verticalAlign=D["vertical-align"]&&D["vertical-align"].toString()||"baseline",i.nodeContext.captionSide=D["caption-side"]&&D["caption-side"].toString()||"top";var T=D["border-collapse"];if(!T||T===Mt("separate")){var k,I,P=D["border-spacing"];P&&(P instanceof jt?(k=P.values[0],I=P.values[1]):k=I=P,k.isNumeric()&&(i.nodeContext.inlineBorderSpacing=Qt(k,i.context)),I.isNumeric()&&(i.nodeContext.blockBorderSpacing=Qt(I,i.context)))}var R=D["footnote-policy"];i.nodeContext.footnotePolicy=R&&!an(R)?R:null;var L=D["x-first-pseudo"];L&&(i.nodeContext.firstPseudo=new Dr(i.nodeContext.parent?i.nodeContext.parent.firstPseudo:null,L.num)),i.nodeContext.inline||i.processAfterIfcontinues(a,l,s,i.context);var O=D["white-space"];if(O){var _=Zi(O.toString());null!==_&&(i.nodeContext.whitespace=_)}var M=D["hyphenate-character"];M&&M instanceof Lt&&(i.nodeContext.hyphenateCharacter=M.str);var U=D["overflow-wrap"];i.nodeContext.breakWord=D["word-break"]===Jt.break_all||D["line-break"]===Jt.anywhere||U===Jt.break_word||U===Jt.anywhere,i.resolveFormattingContext(i.nodeContext,e,F,u,c,A),i.nodeContext.parent&&i.nodeContext.parent.formattingContext&&(e=i.nodeContext.parent.formattingContext.isFirstTime(i.nodeContext,e)),i.nodeContext.inline||(i.nodeContext.repeatOnBreak=i.processRepeatOnBreak(D),i.findAndProcessRepeatingElements(a,s));var z,V,H=!1,G=[],X=a.namespaceURI,j=a.localName;if(X==W.XHTML)"html"==j||"body"==j||"script"==j||"link"==j||"meta"==j?j="div":"vide_"==j?j="video":"audi_"==j?j="audio":"object"==j&&(H=!!i.customRenderer),a.getAttribute("data-adapt-pseudo")&&null!=(z=l.content)&&null!=(V=z.value)&&V.url&&(j="img");else if(X==W.epub)j="span",X=W.XHTML;else if(X==W.NCX)if(X=W.XHTML,"ncx"==j||"navPoint"==j)j="div";else if("navLabel"==j){j="span";var $=a.parentNode;if($){for(var q=null,Y=$.firstChild;Y;Y=Y.nextSibling)if(1==Y.nodeType&&Y.namespaceURI==W.NCX&&"content"==Y.localName){q=Y.getAttribute("src");break}q&&(j="a",(a=a.ownerDocument.createElementNS(X,"a")).setAttribute("href",q))}}else j="span";else X==W.SHADOW?(X=W.XHTML,j=i.nodeContext.inline?"span":"div"):H=!!i.customRenderer;if(v)e?j="li":(j="div",D.display=F=Jt.block);else if("body"==j||"li"==j)j="div";else if("q"==j)j="span";else if("a"==j){var K=D["hyperlink-processing"];K&&"normal"!=K.toString()&&(j="span")}D.behavior&&"none"!=D.behavior.toString()&&i.customRenderer&&(H=!0),a.dataset&&"true"===a.getAttribute("data-math-typeset")&&(H=!0),(H?i.customRenderer(a,i.nodeContext.parent?i.nodeContext.parent.viewNode:null,D):Iu(null)).then((function(n){if(n)H&&(r="true"==n.getAttribute("data-adapt-process-children"));else{if(D.display===Jt.none)return void o.finish(!1);n=i.createElement(X,j)}var u;"a"==j&&n.addEventListener("click",i.page.hrefHandler,!1),"iframe"==n.localName&&n.namespaceURI==W.XHTML&&(u=n).addEventListener("load",(function(){u.contentWindow.navigator.epubReadingSystem={name:"adapt",version:"0.1",layoutStyle:"paginated",hasFeature:function(e,t){return"mouse-events"===e}}}),!1);for(var s=i.nodeContext.inheritedProps["image-resolution"],l=[],c=D.width,h=D.height,d=a.getAttribute("width"),p=a.getAttribute("height"),E=c===Jt.auto||!c&&!d,C=h===Jt.auto||!h&&!p,g=a.attributes,F=g.length,m=null,A=0;A<F;A++){var y=g[A],B=y.namespaceURI,b=y.localName,w=y.nodeValue;if(B){if("http://www.w3.org/2000/xmlns/"==B)continue;B==W.XLINK&&"href"==b&&(w=i.resolveURL(w))}else{if(!WD&&b.match(/^on/))continue;if("style"==b)continue;if(("id"==b||"name"==b)&&e){var S=i.documentURLTransformer.transformFragment(w,i.xmldoc.url);if(!WD||n.namespaceURI===W.SVG&&"svg"!==n.localName||n.ownerDocument.getElementById(w))n.setAttribute(b,S);else{n.setAttribute(b,w),n.setAttribute("data-vivliostyle-id",S);var N=n.ownerDocument.createElement("a");N.setAttribute(b,S),N.style.position="absolute",n.appendChild(N)}i.page.registerElementWithId(n,S);continue}if("src"==b||"href"==b||"poster"==b)w=i.resolveURL(w),"href"===b&&(w=i.documentURLTransformer.transformURL(w,i.xmldoc.url));else if("srcset"==b)w=w.split(",").map((function(e){return i.resolveURL(e.trim())})).join(",");else if("data"===b&&H&&"object"===j&&n.hasAttribute("data"))continue;if("poster"===b&&"video"===j&&X===W.XHTML&&E&&C){var x=new Image,T=Wu(x,w);G.push(T),l.push({image:x,element:n,fetcher:T})}}if(X==W.SVG&&/^[A-Z\-]+$/.test(b)&&(b=b.toLowerCase()),i.isSVGUrlAttribute(b)&&(w=KD(w,i.xmldoc.url,i.documentURLTransformer)),B){var k=QD[B];k&&(b=k+":"+b)}if("src"!=b||B||"img"!=j&&"input"!=j||X!=W.XHTML)if("href"==b&&"image"==j&&X==W.SVG&&B==W.XLINK)i.page.fetchers.push(Wu(n,w));else if(B)n.setAttributeNS(B,b,w);else try{n.setAttribute(b,w)}catch(e){f.warn(e)}else m=w}if(m){var I="input"===j?new Image:n,P=Wu(I,m);I!==n&&(n.src=m),E||C?(E&&C&&s&&1!==s&&l.push({image:I,element:n,fetcher:P}),G.push(P)):i.page.fetchers.push(P)}delete D.content;var R=D["list-style-image"];if(R&&R instanceof Gt){var L=R.url;G.push(Wu(new Image,L))}if(i.preprocessElementStyle(D),i.applyComputedStyles(n,D),i.nodeContext.inline)e||(Xa(n,"inline-start"),Ha(n)&&Xa(n,"clone"));else if(e){var O=D["margin-break"];(O===Jt.discard||O!==Jt.keep&&t&&!i.isAtForcedBreak())&&ja(n,"block-start")}else Xa(n,"block-start"),Ha(n)&&(Xa(n,"clone"),ja(n,"block-start"));v&&n.setAttribute("value",D["ua-list-item-count"].stringValue()),i.viewNode=n,G.length?Gu(G).then((function(){s>0&&i.modifyElemDimensionWithImageResolution(l,s,D,i.nodeContext.vertical),o.finish(r)})):o.timeSlice().then((function(){o.finish(r)}))}))})),o.result()},u.isInsideNonRootMultiColumn=function(){for(var e=null==(t=this.nodeContext.parent)?void 0:t.viewNode;e;e=e.parentNode){var t,n=1===e.nodeType?e.style:null;if(!n)break;if(!isNaN(parseFloat(n.columnCount))||!isNaN(parseFloat(n.columnWidth)))return!0;if("absolute"===n.position)break}return!1},u.isAtForcedBreak=function(){for(var e=this.nodeContext;e&&!e.after;e=e.parent){if(qa(e.breakBefore))return!0;if(e.parent&&e.parent.sourceNode.firstElementChild!==e.sourceNode)break}return!1},u.processAfterIfcontinues=function(e,t,n,u){var i=this.getPseudoMap(t,this.regionIds,this.isFootnote,this.nodeContext,u);if(i&&i["after-if-continues"]&&i["after-if-continues"].content){var r=new Gs(e,t,n,u,this.exprContentListener);this.nodeContext.afterIfContinues=new Xs(e,r)}},u.isSVGUrlAttribute=function(e){return n.SVG_URL_ATTRIBUTES.includes(e.toLowerCase())},u.modifyElemDimensionWithImageResolution=function(e,t,n,u){var i=this;e.forEach((function(e){if("load"===e.fetcher.get().get()){var r=e.image,o=r.width/t,a=r.height/t,s=e.element;if(o>0&&a>0)if(n["box-sizing"]===Jt.border_box&&(n["border-left-style"]!==Jt.none&&(o+=Qt(n["border-left-width"],i.context)),n["border-right-style"]!==Jt.none&&(o+=Qt(n["border-right-width"],i.context)),n["border-top-style"]!==Jt.none&&(a+=Qt(n["border-top-width"],i.context)),n["border-bottom-style"]!==Jt.none&&(a+=Qt(n["border-bottom-width"],i.context))),t>1){var l=n["max-width"]||Jt.none,c=n["max-height"]||Jt.none;if(l===Jt.none&&c===Jt.none)te(s,"max-width",o+"px");else if(l!==Jt.none&&c===Jt.none)te(s,"width",o+"px");else if(l===Jt.none&&c!==Jt.none)te(s,"height",a+"px");else{l.isNumeric(),c.isNumeric();var D=c;"%"!==l.unit?te(s,"max-width",Math.min(o,Qt(l,i.context))+"px"):"%"!==D.unit?te(s,"max-height",Math.min(a,Qt(D,i.context))+"px"):u?te(s,"height",a+"px"):te(s,"width",o+"px")}}else if(t<1){var h=n["min-width"]||un,f=n["min-height"]||un;h.isNumeric(),h.isNumeric();var d=h,p=f;0===d.num&&0===p.num?te(s,"min-width",o+"px"):0!==d.num&&0===p.num?te(s,"width",o+"px"):0===d.num&&0!==p.num?te(s,"height",a+"px"):"%"!==d.unit?te(s,"min-width",Math.max(o,Qt(d,i.context))+"px"):"%"!==p.unit?te(s,"min-height",Math.max(a,Qt(p,i.context))+"px"):u?te(s,"height",a+"px"):te(s,"width",o+"px")}}}))},u.preprocessElementStyle=function(e){var n=this;C(t.cF.PREPROCESS_ELEMENT_STYLE).forEach((function(t){t(n.nodeContext,e)}))},u.findAndProcessRepeatingElements=function(e,t){for(var n=e.firstChild;n;n=n.nextSibling)if(1===n.nodeType){var u={},i=t.getStyle(n,!1);if(this.computeStyle(this.nodeContext.vertical,"rtl"===this.nodeContext.direction,i,u),this.processRepeatOnBreak(u)){if(this.nodeContext.formattingContext instanceof ol&&!this.nodeContext.belongsTo(this.nodeContext.formattingContext))return;var r=this.nodeContext.parent;return this.nodeContext.formattingContext=new ol(r&&r.formattingContext,this.nodeContext.sourceNode),void this.nodeContext.formattingContext.initializeRepetitiveElements(this.nodeContext.vertical)}}},u.processRepeatOnBreak=function(e){var t=e["repeat-on-break"];return t!==Jt.none&&((t===Jt.auto||an(t))&&(t=e.display===Jt.table_header_group?Jt.header:e.display===Jt.table_footer_group?Jt.footer:Jt.none),t&&t!==Jt.none)?t.toString():null},u.createTextNodeView=function(){var e=this,t=ku("createTextNodeView");return this.preprocessTextContent().then((function(){var n=e.offsetInNode||0,u=Gi(e.nodeContext.preprocessedTextContent).substr(n);e.viewNode=document.createTextNode(u),t.finish(!0)})),t.result()},u.preprocessTextContent=function(){var e,n=this;if(null!=this.nodeContext.preprocessedTextContent)return Iu(!0);var u=e=this.sourceNode.textContent,i=ku("preprocessTextContent"),r=C(t.cF.PREPROCESS_TEXT_CONTENT),o=0;return i.loop((function(){return o>=r.length?Iu(!1):r[o++](n.nodeContext,u).thenAsync((function(e){return u=e,Iu(!0)}))})).then((function(){n.nodeContext.preprocessedTextContent=a.default(e,u,0),i.finish(!0)})),i.result()},u.createNodeView=function(e,t){var n,u=this,i=ku("createNodeView"),r=!0;return 1==this.sourceNode.nodeType?n=this.createElementView(e,t):8==this.sourceNode.nodeType?(this.viewNode=null,n=Iu(!0)):n=this.createTextNodeView(),n.then((function(e){if(r=e,u.nodeContext.viewNode=u.viewNode,u.viewNode){var t=u.nodeContext.parent?u.nodeContext.parent.viewNode:u.viewRoot;t&&(!u.nodeContext.inline||3===u.viewNode.nodeType&&Ji(u.viewNode)||t.hasChildNodes()||!Ga(t).includes("block-start")||Xa(t,"text-start"),t.appendChild(u.viewNode))}i.finish(r)})),i.result()},u.setCurrent=function(e,t,n){return this.nodeContext=e,e?(this.sourceNode=e.sourceNode,this.offsetInNode=e.offsetInNode):(this.sourceNode=null,this.offsetInNode=-1),this.viewNode=null,this.nodeContext?this.createNodeView(t,!!n):Iu(!0)},u.processShadowContent=function(e){if(null==e.shadowContext||"content"!=e.sourceNode.localName||e.sourceNode.namespaceURI!=W.SHADOW)return e;var t,n,u=e.boxOffset,i=e.shadowContext,r=e.parent,o=i.subShadow||i.parentShadow;i.subShadow?(t=i.root,(n=i.type)==sr.ROOTLESS&&(t=t.firstChild)):(t=i.owner.firstChild,n=sr.ROOTLESS);var a=e.sourceNode.nextSibling;if(a?(e.sourceNode=a,e.resetView()):e.shadowSibling?e=e.shadowSibling:t?e=null:(e=e.parent.modify()).after=!0,t){var s=new hr(t,r,u);return s.shadowContext=o,s.shadowType=n,s.shadowSibling=e,s}return e.boxOffset=u,e},u.nextPositionInTree=function(e){var t=e.boxOffset+1;if(e.after){if(!e.parent)return null;if(e.shadowType!=sr.ROOTED){var n=e.sourceNode.nextSibling;if(n)return(e=e.modify()).boxOffset=t,e.sourceNode=n,e.resetView(),this.processShadowContent(e)}return e.shadowSibling?((e=e.shadowSibling.modify()).boxOffset=t,e):((e=e.parent.modify()).boxOffset=t,e.after=!0,e)}if(e.nodeShadow){var u=e.nodeShadow.root;if(e.nodeShadow.type==sr.ROOTLESS&&(u=u.firstChild),u){var i=new hr(u,e,t);return i.shadowContext=e.nodeShadow,i.shadowType=e.nodeShadow.type,this.processShadowContent(i)}}var r=e.sourceNode.firstChild;return r?this.processShadowContent(new hr(r,e,t)):(1!=e.sourceNode.nodeType&&(t+=Gi(e.preprocessedTextContent).length-1-e.offsetInNode),(e=e.modify()).boxOffset=t,e.after=!0,e)},u.isTransclusion=function(e,t,n){var u=Ur(t,"hyperlink-processing");if(!u)return!1;var i=u.evaluate(this.context,"hyperlink-processing");return!!i&&i.toString()==n},u.nextInTree=function(e,t){var n=this,u=this.nextPositionInTree(e);if(!u||u.after)return Iu(u);var i=ku("nextInTree");return this.setCurrent(u,!0,t).then((function(e){u.viewNode&&e||((u=u.modify()).after=!0,u.viewNode||(u.inline=!0)),n.dispatchEvent({type:"nextInTree",nodeContext:u}),i.finish(u)})),i.result()},u.addImageFetchers=function(e){if(e instanceof $t)for(var t=e.values,n=0;n<t.length;n++)this.addImageFetchers(t[n]);else if(e instanceof Gt){var u=e.url;this.page.fetchers.push(Wu(new Image,u))}},u.applyComputedStyles=function(e,t){var n,u,i,r=t["background-image"];r&&this.addImageFetchers(r);var o,a,s=t.position===Jt.relative,l=null===(null==(n=this.nodeContext)?void 0:n.parent)&&null===(null==(u=this.sourceNode)?void 0:u.parentElement)&&!(null==(i=this.viewRoot)||!i.parentElement),c=Object.keys(t);c.sort(sn);for(var D=0,h=c;D<h.length;D++){var f=h[D];if(!eh[f]){var d=t[f];d&&(d!==It||ln(f))&&((d=d.visit(new Mn(this.xmldoc.url,this.documentURLTransformer)))instanceof Ut&&Ue(d.unit)&&(d="lh"===d.unit?new Ut(d.num*this.getLineHeightUnitSize(f,o,a),"px"):Zt(d,this.context)),"font-size"===f?o=d:"line-height"===f&&(a=d),Xi[f]||s&&ji[f]?this.page.delayedItems.push(new $i(e,f,d)):"rt"===e.localName&&"font-size"===f&&this.fixRubyTextFontSize(e,d)||(l&&this.page.pageAreaElement&&Mr(f)?te(this.page.pageAreaElement.parentElement,f,d.toString()):te(e,f,d.toString())))}}},u.getLineHeightUnitSize=function(e,t,n){var u,i,r=Me.lh/Me.em,o=1===(null==(u=this.nodeContext.parent)||null==(i=u.viewNode)?void 0:i.nodeType)?this.viewport.window.getComputedStyle(this.nodeContext.parent.viewNode):null,a=o?parseFloat(o.fontSize):this.context.fontSize(),s=o?"normal"===o.lineHeight?a*r:parseFloat(o.lineHeight):this.context.rootLineHeight;if("line-height"===e||"font-size"===e)return s;var l=null;if(n){if(n instanceof zt||n instanceof Ut&&("em"===n.unit||"%"===n.unit))l=n instanceof Ut&&"%"===n.unit?n.num/100:n.num;else if(n instanceof Ut)return n.num*this.context.queryUnitSize(n.unit,!1)}else for(var c=null==(D=this.nodeContext.parent)?void 0:D.viewNode;;c=c.parentNode){var D,h,f;if(!c||1!==c.nodeType){l=r;break}var d=null==(h=c)||null==(f=h.style)?void 0:f.lineHeight;if(d){/^[0-9.]+$/.test(d)&&(l=parseFloat(d)),"normal"===d&&(l=r);break}}return null!==l?t instanceof Ut?l*Kr(t,a,this.context).num:l*a:s},u.fixRubyTextFontSize=function(e,t){var n;if(!/Chrome/.test(navigator.userAgent))return!1;if(!t.isNumeric())return!1;var u,i=t;if("%"===i.unit||"em"===i.unit){var r,o,a=null==(r=this.nodeContext)||null==(o=r.parent)?void 0:o.viewNode;u=(a&&parseFloat(this.viewport.window.getComputedStyle(a).fontSize))*i.num/("%"===i.unit?100:1)}else u=Zt(i,this.context).num;if(!u)return!1;if(u>=10)return!1;if(void 0===(null==(n=e.style)?void 0:n.zoom))return!1;var s=u/10;return te(e,"font-size","10px"),te(e,"zoom",""+s),!0},u.applyPseudoelementStyle=function(e,t,n){if(!e.after){var u=(e.shadowContext?e.shadowContext.styler:this.styler).getStyle(this.sourceNode,!1),i=Vr(u,"_pseudos");if(i&&(u=i[t])){var r={};e.vertical=this.computeStyle(e.vertical,"rtl"===e.direction,u,r);var o=r.content;Fr(o)&&(o.visit(new gr(n,this.context,o,this.exprContentListener)),delete r.content),this.applyComputedStyles(n,r)}}},u.peelOff=function(e,t){var n=this,u=ku("peelOff"),i=e.firstPseudo,r=e.offsetInNode,o=e.after;if(t>0)e.viewNode.textContent=e.viewNode.textContent.substr(0,t),r+=t;else if(!o&&e.viewNode&&0==r){var a=e.viewNode.parentNode;a&&a.removeChild(e.viewNode)}for(var s=e.boxOffset+t,l=[];e.firstPseudo===i;)l.push(e),e=e.parent;var c=l.pop(),D=c.shadowSibling;return u.loop((function(){for(;l.length>0;){c=l.pop(),e=new hr(c.sourceNode,e,s),0==l.length&&(e.offsetInNode=r,e.after=o),e.shadowType=c.shadowType,e.shadowContext=c.shadowContext,e.nodeShadow=c.nodeShadow,e.shadowSibling=c.shadowSibling?c.shadowSibling:D,D=null;var t=n.setCurrent(e,!1);if(t.isPending())return t}return Iu(!1)})).then((function(){u.finish(e)})),u.result()},u.createElement=function(e,t){return e==W.XHTML?this.document.createElement(t):this.document.createElementNS(e,t)},u.applyFootnoteStyle=function(e,t,n){var u={},i=Vr(this.footnoteStyle,"_pseudos");if(e=this.computeStyle(e,t,this.footnoteStyle,u),i&&i.before){var r={},o=this.createElement(W.XHTML,"span");Hs(o,"before"),n.appendChild(o),this.computeStyle(e,t,i.before,r),delete r.content,this.applyComputedStyles(o,r)}return delete u.content,this.applyComputedStyles(n,u),e},u.processFragmentedBlockEdge=function(e){var t,n=!e.inline&&e.after?e.parent:e,u=!1;if(e.inline&&e.after&&1===(null==(t=e.sourceNode.nextSibling)?void 0:t.nodeType)){var i,r=e.sourceNode.nextSibling,o=null==(i=Ur(this.styler.getStyle(r,!1),"display"))?void 0:i.value.toString();u=o&&!os(o)||"true"===r.getAttribute("data-math-typeset")&&/^\s*(\$\$|\\\[)/.test(r.textContent)}for(var a=0,s=n;s;s=s.parent){var l;if(1===(null==(l=s.viewNode)?void 0:l.nodeType)){var c=s.viewNode;if(c.style)if(s.inline){if(Xa(c,"inline-end"),Ha(c)){var D=s.vertical?c.offsetWidth:c.offsetHeight;Xa(c,"clone"),(s.vertical?c.offsetWidth:c.offsetHeight)>D&&this.fixClonedBoxDecorationOverflow(c)}}else{if(Xa(c,"block-end"),!a++&&s!==n)if("justify"!==this.viewport.window.getComputedStyle(c).textAlign||u)Xa(c,"text-end");else{var h=this.createChildAnonymousBlockIfNeeded(c);h?h!==c?Wa(h,["block-start","text-start","block-end","text-end","justify"]):(Xa(c,"text-end"),Xa(c,"justify")):Xa(c,"text-end")}Ha(c)&&(Xa(c,"clone"),ja(c,"block-end"))}}}},u.fixClonedBoxDecorationOverflow=function(e){var t=this.viewport.window.getComputedStyle(e),n=-(parseFloat(t.paddingInlineEnd)+parseFloat(t.borderInlineEndWidth));isNaN(n)||(e.style.marginInlineEnd=n+"px")},u.createChildAnonymousBlockIfNeeded=function(e){for(var t=this,n=function e(n){var u=t.viewport.window.getComputedStyle(n),i=u.display,r=u.position,o=u.float;if("ruby"===n.localName)return!1;if("br"===n.localName)return!0;if(("inline"===i||"contents"===i)&&n.hasChildNodes()){var a=n.lastElementChild;if(a&&(!a.nextSibling||a.nextSibling===n.lastChild&&Ji(a.nextSibling))){var s=e(a);if(s||null===s)return s}for(var l=null==a?void 0:a.previousElementSibling;l;l=l.previousElementSibling){var c=e(l);if(c||null===c)return null}return!1}if("none"===i||"absolute"===r||"fixed"===r||o&&"none"!==o||n.hasAttribute("data-adapt-spec")){var D=n.previousElementSibling;return!(!D||!(D.nextSibling===n||D.nextSibling===n.previousSibling&&Ji(D.nextSibling)))&&e(D)}return!(!i||os(i))},u=null,i=e.lastElementChild;i;i=i.previousElementSibling){var r=n(i);if(r){u=i;break}if(null===r)return null}if(!u)return e;if(u===e.lastElementChild&&(!u.nextSibling||u.nextSibling===e.lastChild&&Ji(u.nextSibling)))return null;var o=e.ownerDocument.createElement("span");o.className="viv-anonymous-block";for(var a=u.nextSibling,s=null;a;a=s)s=a.nextSibling,o.appendChild(a);return e.appendChild(o),o},u.convertLengthToPx=function(e,t,n){var u=e.num,i=e.unit;if(function(e){switch(null==e?void 0:e.toLowerCase()){case"em":case"ex":case"rem":case"lh":case"rlh":return!0;default:return!1}}(i)){for(var r=t;r&&1!==r.nodeType;)r=r.parentNode;return Yr(e,parseFloat(n.getElementComputedStyle(r)["font-size"]),this.context).num}var o=this.context.queryUnitSize(i,!1);return o?u*o:e},u.isSameNodePositionStep=function(e,t){if(e.shadowContext){if(!t.shadowContext)return!1;var n=1===t.node.nodeType?t.node:t.node.parentElement;return e.shadowContext.owner===t.shadowContext.owner&&Vs(1===e.node.nodeType?e.node:e.node.parentElement)===Vs(n)}return e.node===t.node},u.isSameNodePosition=function(e,t){var n=this;return e.offsetInNode===t.offsetInNode&&e.after==t.after&&e.steps.length===t.steps.length&&e.steps.every((function(e,u){return n.isSameNodePositionStep(e,t.steps[u])}))},u.isPseudoelement=function(e){return!!Vs(e)},n}(Ee);ZD.SVG_URL_ATTRIBUTES=["color-profile","clip-path","cursor","filter","marker","marker-start","marker-end","marker-mid","fill","stroke","mask"];var JD,eh={"float-min-wrap-block":!0,"float-reference":!0,"flow-into":!0,"flow-linger":!0,"flow-options":!0,"flow-priority":!0,"footnote-policy":!0,"margin-break":!0,page:!0},th=function(){function e(e){this.layoutBox=void 0,this.window=void 0,this.scaleRatio=1,this.layoutBox=e.layoutBox,this.window=e.window,e.pixelRatio>0&&CSS.supports("zoom","8")&&(this.scaleRatio=e.pixelRatio/e.window.devicePixelRatio)}var t=e.prototype;return t.scaleRect=function(e){return{left:e.left*this.scaleRatio,top:e.top*this.scaleRatio,right:e.right*this.scaleRatio,bottom:e.bottom*this.scaleRatio,width:e.width*this.scaleRatio,height:e.height*this.scaleRatio}},t.subtractOffsets=function(e,t){var n=t.left,u=t.top;return{left:e.left-n,top:e.top-u,right:e.right-n,bottom:e.bottom-u,width:e.width,height:e.height}},t.getRangeClientRects=function(e){var t=this,n=e.getClientRects(),u=this.layoutBox.getBoundingClientRect();return Array.from(n).map((function(e){return t.scaleRect(t.subtractOffsets(e,u))}))},t.getElementClientRect=function(e){var t=e.getBoundingClientRect();if(0===t.left&&0===t.top&&0===t.right&&0===t.bottom)return t;var n=this.layoutBox.getBoundingClientRect();return this.scaleRect(this.subtractOffsets(t,n))},t.getElementComputedStyle=function(e){return this.window.getComputedStyle(e,null)},e}(),nh=function(){function e(e,t,n,u,i,r){this.window=void 0,this.fontSize=void 0,this.pixelRatio=void 0,this.document=void 0,this.root=void 0,this.outerZoomBox=void 0,this.contentContainer=void 0,this.layoutBox=void 0,this.width=void 0,this.height=void 0,this.window=e,this.fontSize=t,this.pixelRatio=n,this.document=e.document,this.root=u||this.document.body,n>0&&CSS.supports("zoom","8")&&(te(this.root,"--viv-outputPixelRatio",""+n),te(this.root,"--viv-devicePixelRatio",""+e.devicePixelRatio));var o=this.root.firstElementChild;o||((o=this.document.createElement("div")).setAttribute("data-vivliostyle-outer-zoom-box","true"),this.root.appendChild(o));var a=o.firstElementChild;a||((a=this.document.createElement("div")).setAttribute("data-vivliostyle-spread-container","true"),o.appendChild(a));var s=o.nextElementSibling;s||((s=this.document.createElement("div")).setAttribute("data-vivliostyle-layout-box","true"),this.root.appendChild(s)),this.outerZoomBox=o,this.contentContainer=a,this.layoutBox=s,this.width=i||this.root.offsetWidth||e.innerWidth,this.height=r||this.root.offsetHeight||e.innerHeight;var l=!e.outerWidth&&!e.outerHeight||/Headless/.test(navigator.userAgent)||navigator.webdriver&&800===e.innerWidth&&600===e.innerHeight;(!this.width||!i&&l)&&(this.width=794),(!this.height||!r&&l)&&(this.height=1056)}var t=e.prototype;return t.resetZoom=function(){te(this.outerZoomBox,"width",""),te(this.outerZoomBox,"height",""),te(this.contentContainer,"width",""),te(this.contentContainer,"height",""),te(this.contentContainer,"transform","")},t.zoom=function(e,t,n){te(this.root,"--viv-outputScale",""+n),te(this.outerZoomBox,"width",e*n+"px"),te(this.outerZoomBox,"height",t*n+"px"),te(this.contentContainer,"width",e+"px"),te(this.contentContainer,"height",t+"px")},t.clear=function(){for(var e=this.root;e.lastChild;)e.removeChild(e.lastChild)},e}(),uh=function(){function e(e,t,n){this.store=void 0,this.url=void 0,this.document=void 0,this.lang=null,this.totalOffset=-1,this.root=void 0,this.body=void 0,this.head=void 0,this.last=void 0,this.lastOffset=1,this.idMap=void 0,this.store=e,this.url=t,this.document=n,this.root=n.documentElement;var u=null,i=null;if(this.root.namespaceURI==W.XHTML){for(var r=this.root.firstChild;r;r=r.nextSibling)if(1==r.nodeType){var o=r;if(o.namespaceURI==W.XHTML)switch(o.localName){case"head":i=o;break;case"body":u=o}}this.lang=this.root.getAttribute("lang")}this.body=u,this.head=i,this.last=this.root,this.last.setAttribute("data-adapt-eloff","0")}var t=e.prototype;return t.doc=function(){return new ah([this.document])},t.getElementOffset=function(e){var t=e.getAttribute("data-adapt-eloff");if(t)return parseInt(t,10);for(var n=this.lastOffset,u=this.last;u!=e;){var i=u.firstChild;if(!i)for(;!(i=u.nextSibling);)if(null==(u=u.parentNode))throw new Error("Internal error");u=i,1==i.nodeType?(i.setAttribute("data-adapt-eloff",n.toString()),++n):n+=i.textContent.length}return this.lastOffset=n,this.last=e,n-1},t.getNodeOffset=function(e,t,n){var u=0,i=e,r=null;if(1==i.nodeType){if(!n)return this.getElementOffset(i)}else{if(u=t,!(r=i.previousSibling))return u+=1,this.getElementOffset(i=i.parentNode)+u;i=r}for(;;){for(;i.lastChild;)i=i.lastChild;if(1==i.nodeType)break;if(u+=i.textContent.length,!(r=i.previousSibling)){i=i.parentNode;break}i=r}return u+=1,this.getElementOffset(i)+u},t.getTotalOffset=function(){return this.totalOffset<0&&(this.totalOffset=this.getNodeOffset(this.root,0,!0)),this.totalOffset},t.getNodeByOffset=function(e){for(var t,n=this,u=this.root,i=function(){if((t=n.getElementOffset(u))>=e)return{v:u};var i=u.children;if(!i)return"break";var r=he(i.length,(function(t){return n.getElementOffset(i[t])>e}));if(0==r)return"break";u=i[r-1]};;){var r=i();if("break"===r)break;if("object"==typeof r)return r.v}for(var o=t+1,a=u,s=a.firstChild||a.nextSibling,l=null;;){if(s){if(1==s.nodeType)break;if(l=a=s,(o+=s.textContent.length)>e&&!/^\s*$/.test(s.textContent))break}else if(!(a=a.parentNode))break;s=a.nextSibling}return s&&l&&/^\s*$/.test(l.textContent)&&(l=s),l||u},t.buildIdMap=function(e){var t=e.getAttribute("id");t&&!this.idMap[t]&&(this.idMap[t]=e);var n=e.getAttributeNS(W.XML,"id");n&&!this.idMap[n]&&(this.idMap[n]=e);for(var u=e.firstElementChild;u;u=u.nextElementSibling)this.buildIdMap(u)},t.getElement=function(e){var t=e.match(/([^#]*)#(.+)$/);if(!t||t[1]&&t[1]!=this.url)return null;var n=t[2],u=this.document.getElementById(n);return!u&&this.document.getElementsByName&&(u=this.document.getElementsByName(n)[0]),u||(this.idMap||(this.idMap={},this.buildIdMap(this.document.documentElement)),u=this.idMap[n]),u},e}();function ih(e,t,n){var u,i=n||new DOMParser;try{u=i.parseFromString(e,t)}catch(e){}if(!u)return null;var r=u.documentElement,o="parsererror";if(r.localName===o)return null;for(var a=r.firstElementChild;a;a=a.nextElementSibling)if(a.localName===o)return null;return u}function rh(e,t){var n=e.responseXML;if(!n){var u=new DOMParser,i=e.responseText;if(i){var r=function(e){var t=e.contentType;if(t){for(var n=Object.keys(JD),u=0;u<n.length;u++)if(JD[n[u]]===t)return t;if(t.match(/\+xml$/))return JD.APPLICATION_XML}var i=e.url.match(/\.([^./]+)$/);if(i)switch(i[1]){case"html":case"htm":return JD.TEXT_HTML;case"xhtml":case"xht":return JD.APPLICATION_XHTML_XML;case"svg":case"svgz":return JD.IMAGE_SVG_XML;case"opf":case"xml":return JD.APPLICATION_XML}return null}(e);if((n=ih(i,r||JD.APPLICATION_XML,u))&&!r){var o=n.documentElement;"html"!==o.localName.toLowerCase()||o.namespaceURI?"svg"===o.localName.toLowerCase()&&n.contentType!==JD.IMAGE_SVG_XML&&(n=ih(i,JD.IMAGE_SVG_XML,u)):n=ih(i,JD.TEXT_HTML,u)}n||(n=ih(i,JD.TEXT_HTML,u))}}return Iu(n?new uh(t,e.url,n):null)}!function(e){e.TEXT_HTML="text/html",e.TEXT_XML="text/xml",e.APPLICATION_XML="application/xml",e.APPLICATION_XHTML_XML="application/xhtml+xml",e.IMAGE_SVG_XML="image/svg+xml"}(JD||(JD={}));var oh=new(function(){function e(e){this.fn=void 0,this.fn=e}var t=e.prototype;return t.check=function(e){return this.fn(e)},t.withAttribute=function(t,n){var u=this;return new e((function(e){return u.check(e)&&1==e.nodeType&&e.getAttribute(t)==n}))},t.withChild=function(t,n){var u=this;return new e((function(e){if(!u.check(e))return!1;var i=new ah([e]);return i=i.child(t),n&&(i=i.predicate(n)),i.size()>0}))},e}())((function(e){return!0})),ah=function(){function e(e){this.nodes=void 0,this.nodes=e}var t=e.prototype;return t.asArray=function(){return this.nodes},t.size=function(){return this.nodes.length},t.predicate=function(t){for(var n,u=[],i=_(this.nodes);!(n=i()).done;){var r=n.value;t.check(r)&&u.push(r)}return new e(u)},t.forEachNode=function(t){for(var n=[],u=function(e){n.push(e)},i=0;i<this.nodes.length;i++)t(this.nodes[i],u);return new e(n)},t.forEach=function(e){for(var t=[],n=0;n<this.nodes.length;n++)t.push(e(this.nodes[n]));return t},t.forEachNonNull=function(e){for(var t=[],n=0;n<this.nodes.length;n++){var u=e(this.nodes[n]);null!=u&&t.push(u)}return t},t.child=function(e){return this.forEachNode((function(t,n){for(var u=t.firstChild;u;u=u.nextSibling)1==u.nodeType&&u.localName==e&&n(u)}))},t.childElements=function(){return this.forEachNode((function(e,t){for(var n=e.firstChild;n;n=n.nextSibling)1==n.nodeType&&t(n)}))},t.attribute=function(e){return this.forEachNonNull((function(t){return 1==t.nodeType?t.getAttribute(e):null}))},t.textContent=function(){return this.forEach((function(e){return e.textContent}))},e}(),sh=new Hu((function(){var e=ku("uaStylesheetBase"),t=wc(),n=$("user-agent-base.css",X),u=new Zo(null,null,null,null,null,t,!0);return u.startStylesheet(ti.USER_AGENT),Qo=u.cascade,Ni(Qu,u,n,null,null).thenFinish(e),e.result()}),"uaStylesheetBaseFetcher"),lh=function(){function e(e,t,n,u,i,r,o,a,s,l){this.store=void 0,this.rootScope=void 0,this.pageScope=void 0,this.cascade=void 0,this.rootBox=void 0,this.fontFaces=void 0,this.footnoteProps=void 0,this.flowProps=void 0,this.viewportProps=void 0,this.pageProps=void 0,this.fontDeobfuscator=void 0,this.validatorSet=void 0,this.store=e,this.rootScope=t,this.pageScope=n,this.cascade=u,this.rootBox=i,this.fontFaces=r,this.footnoteProps=o,this.flowProps=a,this.viewportProps=s,this.pageProps=l,this.fontDeobfuscator=e.fontDeobfuscator,this.validatorSet=e.validatorSet,this.pageScope.defineBuiltIn("has-content",(function(e){var t=this,n=t.currentLayoutPosition,u=n.firstFlowChunkOfFlow(e);return t.matchPageSide(n.startSideOfFlow(e))&&n.hasContent(e,t.lookupOffset)&&!!u&&!t.flowChunkIsAfterParentFlowForcedBreak(u)})),this.pageScope.defineName("page-number",new Et(this.pageScope,(function(){return this.pageNumberOffset+this.currentLayoutPosition.page}),"page-number")),this.pageScope.defineName("blank-page",new Et(this.pageScope,(function(){var e=this.currentLayoutPosition;return null==e?void 0:e.isBlankPage}),"blank-page"))}return e.prototype.sizeViewport=function(e,t,n,u){if(this.viewportProps.length){var i=new ze(this.rootScope,e,t,n),r=function(e,t){for(var n={},u=0;u<t.length;u++)jr(e,n,t[u],0,null,null,null);return n}(i,this.viewportProps),o=r.width,a=r.height,s=r["text-zoom"],l=1;if(o&&a||s){var c=Me.em;if((s?s.evaluate(i,"text-zoom"):null)===Jt.scale&&(l=c/n,n=c,e*=l,t*=l),o&&a){var D=Qt(o.evaluate(i,"width"),i),h=Qt(a.evaluate(i,"height"),i);if(D>0&&h>0)return{width:u&&u.spreadView?2*(D+u.pageBorder):D,height:h,fontSize:n}}}}return{width:e,height:t,fontSize:n}},e}(),ch=function(e){function n(t,n,u,i,r,o,a,s,l,c,D,h,f){var d;for(var p in(d=e.call(this,t.rootScope,i.width,i.height,i.fontSize)||this).style=void 0,d.xmldoc=void 0,d.viewport=void 0,d.clientLayout=void 0,d.fontMapper=void 0,d.customRenderer=void 0,d.fallbackMap=void 0,d.pageNumberOffset=void 0,d.documentURLTransformer=void 0,d.counterStore=void 0,d.lang=void 0,d.primaryFlows={body:!0},d.rootPageBoxInstance=null,d.styler=null,d.stylerMap=null,d.currentLayoutPosition=null,d.layoutPositionAtPageStart=null,d.lookupOffset=0,d.faces=void 0,d.pageBoxInstances={},d.pageManager=null,d.rootPageFloatLayoutContext=void 0,d.pageBreaks={},d.pageProgression=null,d.isVersoFirstPage=!1,d.blankPageAtStart=!1,d.pageSheetSize={},d.pageSheetHeight=0,d.pageSheetWidth=0,d.style=t,d.xmldoc=n,d.viewport=i,d.clientLayout=r,d.fontMapper=o,d.customRenderer=a,d.fallbackMap=s,d.pageNumberOffset=l,d.documentURLTransformer=c,d.counterStore=D,d.lang=n.lang||u,d.faces=new kc(d.style.fontDeobfuscator),d.rootPageFloatLayoutContext=new La(null,null,null,null,null,null,null),d.pageProgression=h||null,d.isVersoFirstPage=!!f,t.flowProps){var E=Ur(t.flowProps[p],"flow-consume");E&&(E.evaluate(L(d),"flow-consume")==Jt.all?d.primaryFlows[p]=!0:delete d.primaryFlows[p])}return d}x(n,e);var u=n.prototype;return u.init=function(){var e=this,t=ku("StyleInstance.init"),n=this.counterStore.createCounterListener(this.xmldoc.url),u=this.counterStore.createCounterResolver(this.xmldoc.url,this.style.rootScope,this.style.pageScope);this.styler=new ec(this.xmldoc,this.style.cascade,this.style.rootScope,this,this.primaryFlows,this.style.validatorSet,n,u),u.setStyler(this.styler),this.styler.resetFlowChunkStream(this),this.stylerMap={},this.stylerMap[this.xmldoc.url]=this.styler;var i=this.styler.getTopContainerStyle();this.pageProgression||(this.pageProgression=oD(i)),this.matchStartPageSide(this.styler.breakBeforeValues[0])||(0===this.pageNumberOffset?this.isVersoFirstPage=!0:this.blankPageAtStart=!0),this.rootPageBoxInstance=new Zc(this.style.rootBox);var r=this.style.cascade.createInstance(this,n,u,this.lang);this.styler.cascade.currentPageType=this.styler.cascade.firstPageType,this.rootPageBoxInstance.applyCascadeAndInit(r,i),this.rootPageBoxInstance.resolveAutoSizing(this),this.pageManager=new ID(r,this.style.pageScope,this.rootPageBoxInstance,this,i);for(var o,a=[],s=_(this.style.fontFaces);!(o=s()).done;){var l=o.value;if(!l.condition||l.condition.evaluate(this)){var c=xc(l.properties,this),D=new Tc(c);a.push(D)}}this.fontMapper.findOrLoadFonts(a,this.faces).then((function(){(function(e,t,n){if(!WD)return Iu(!1);var u=$D(e);if(0===u.length)return Iu(!1);var i=u.some((function(e){return!(e.async||e.defer||"module"===e.type)})),r=i?function(e,t,n){var u,i=null!=(u=t.document.querySelector("[data-vivliostyle-textcontent]"))?u:t.document.createElement("div");return i.style.position="fixed",i.style.fontSize="0",i.setAttribute("data-vivliostyle-textcontent","true"),i.setAttribute("aria-hidden","true"),i.style.fontFamily=function(e,t){for(var n={},u=function e(t){var u,i=null==(u=t["font-family"])?void 0:u.value;if(i)if(i.values)for(var r,o=_(i.values);!(r=o()).done;)n[r.value.stringValue()]=!0;else n[i.stringValue()]=!0;var a=t._marginBoxes;if(a)for(var s=0,l=Object.values(a);s<l.length;s++)e(l[s])},i=function e(t){if(t instanceof eo)u(t.style);else if(t instanceof Qr||Array.isArray(t))for(var n=0,i=Object.values(t);n<i.length;n++)e(i[n])},r=0,o=Object.values(t.cascade.code);r<o.length;r++)for(var a=o[r],s=0,l=Object.values(null!=a?a:{});s<l.length;s++)i(l[s]);for(var c,D=_(e.querySelectorAll("[style]"));!(c=D()).done;){var h,f=c.value;null!=(h=f.style)&&h.fontFamily&&(n[f.style.fontFamily]=!0)}return Object.keys(n).join(",")}(e,n),i.textContent=e.documentElement.textContent,t.document.body.appendChild(i),i}(e,t,n):null,o=t.document.fonts,a=t.$,s=!1,l=ku("loadScripts");return l.loop((function(){if(0===u.length)return i?l.sleep(20).thenAsync((function(){var e,n;return"loading"===o.status||t.document.documentElement.classList.contains("wf-loading")||null!=(e=t.FontJSON)&&e.Font&&null!=(n=t.ret)&&n.readyState&&t.ret.readyState<4?Iu(!0):Iu(!1)})):Iu(!1);var e=u.shift();return qD(e,t,{inHead:!0,forceDefer:s}).thenAsync((function(){return s||t.$===a||(XD.push(e),s=!0),0===u.length&&i&&(f.debug("dispatchEvent: DOMContentLoaded (document)"),t.document.dispatchEvent(new Event("DOMContentLoaded"))),Iu(!0)}))})).then((function(){r&&r.remove(),l.finish(!0)})),l.result()})(e.xmldoc.document,e.viewport.window,e.styler).thenFinish(t)}));var h=this.style.pageProps;return h[""]||(h[""]={}),Object.keys(h).forEach((function(t){var n=h[t];e.styler.cascade.applyVarFilter([n],e.styler,null),e.styler.cascade.applyCalcFilter(n,e.styler.context);var u=dD(fD(n),e);e.pageSheetSize[t]={width:u.pageWidth+2*u.cropOffset,height:u.pageHeight+2*u.cropOffset}})),t.result()},u.matchStartPageSide=function(e){var n=this.pageNumberOffset%2==(this.isVersoFirstPage?1:0),u=this.pageProgression==t.bX.LTR;switch(e){case"left":return n!==u;case"right":return n===u;case"recto":return n;case"verso":return!n;default:return!0}},u.getStylerForDoc=function(e){var t=this.stylerMap[e.url];if(!t){var n=this.style.store.getStyleForDoc(e),u=new ze(n.rootScope,this.pageWidth(),this.pageHeight(),this.initialFontSize),i=this.counterStore.createCounterListener(e.url),r=this.counterStore.createCounterResolver(e.url,n.rootScope,n.pageScope);t=new ec(e,n.cascade,n.rootScope,u,this.primaryFlows,n.validatorSet,i,r),this.stylerMap[e.url]=t}return t},u.registerInstance=function(e,t){this.pageBoxInstances[e]=t},u.lookupInstance=function(e){return this.pageBoxInstances[e]},u.encounteredFlowChunk=function(e,t){var n=this.currentLayoutPosition;if(n){n.flows[e.flowName]?t=n.flows[e.flowName]:n.flows[e.flowName]=t;var u=n.flowPositions[e.flowName];u||(u=new pr,n.flowPositions[e.flowName]=u);var i=new fr({steps:[{node:e.element,shadowType:sr.NONE,shadowContext:null,nodeShadow:null,shadowSibling:null,formattingContext:null,fragmentIndex:0}],offsetInNode:0,after:!1,preprocessedTextContent:null}),r=new dr(i,e);u.positions.push(r)}},u.evalSupportsTest=function(e,t,n){if(n)return"selector"===e&&this.evalSupportsSelector(t);if(!e)return!1;var u=!0,i=new(function(){function e(){}var t=e.prototype;return t.unknownProperty=function(e,t){u=!1},t.invalidPropertyValue=function(e,t){u=!1},t.simpleProperty=function(e,t,n){},e}()),r=Ti(this.style.rootScope,new Su(t,null),"");return!!r&&(this.xmldoc.store.validatorSet.validatePropertyAndHandleShorthand(e,r,!1,i),u)},u.evalSupportsSelector=function(e){var t=new hh(null),n=new Su(e+"{}",t);return!!new wi(li,n,t,"").runParser(Number.POSITIVE_INFINITY,!1,!1,!1,!1)&&!t.cascadeParserHandler.invalid},u.getConsumedOffset=function(e){for(var t=Number.POSITIVE_INFINITY,n=0;n<e.positions.length;n++){for(var u=e.positions[n].chunkPosition.primary,i=u.steps[0].node,r=u.offsetInNode,o=u.after,a=0;i.ownerDocument!=this.xmldoc.document;)a++,i=u.steps[a].node,o=!1,r=0;var s=this.xmldoc.getNodeOffset(i,r,o);s<t&&(t=s)}return t},u.getPosition=function(e,t){if(!e)return 0;var n=Number.POSITIVE_INFINITY;for(var u in this.primaryFlows){var i=e.flowPositions[u];if(t||i&&0!=i.positions.length||!this.currentLayoutPosition||(this.styler.styleUntilFlowIsReached(u),i=this.currentLayoutPosition.flowPositions[u],e!=this.currentLayoutPosition&&i&&(i=i.clone(),e.flowPositions[u]=i)),i){var r=this.getConsumedOffset(i);r<n&&(n=r)}}return n},u.dumpLocation=function(e){for(var t in f.debug("Location - page",this.currentLayoutPosition.page),f.debug("  current:",e),f.debug("  lookup:",this.lookupOffset),this.currentLayoutPosition.flowPositions)for(var n,u=_(this.currentLayoutPosition.flowPositions[t].positions);!(n=u()).done;)f.debug("  Chunk",t+":",n.value.flowChunk.startOffset)},u.matchPageSide=function(e){switch(e){case"left":case"right":case"recto":case"verso":return new dt(this.style.pageScope,e+"-page").evaluate(this);default:return!0}},u.updateStartSide=function(e){for(var t in e.flowPositions){var n=e.flowPositions[t];if(n&&n.positions.length>0){var u=n.positions[0].flowChunk;if(this.getConsumedOffset(n)===u.startOffset){var i=n.positions[0].flowChunk.breakBefore,r=ts(n.startSide);n.startSide=es(Ja(r,i))}}}},u.selectPageMaster=function(e){var t=this.currentLayoutPosition,n=this.getPosition(t);if(n==Number.POSITIVE_INFINITY)return null;for(var u,i=this.rootPageBoxInstance.children,r=0;r<i.length;r++)if("vivliostyle-page-rule-master"!==(u=i[r]).pageBox.pseudoName){var o=1,a=u.getProp(this,"utilization");a&&a.isNum()&&(o=a.num);var s=this.queryUnitSize("em",!1),l=this.pageWidth()*this.pageHeight(),c=Math.ceil(o*l/(s*s));this.lookupOffset=this.styler.styleUntil(n,c),this.updateStartSide(t),this.layoutPositionAtPageStart=t.clone(),this.initLingering(),this.clearScope(this.style.pageScope);var D=u.getProp(this,"enabled");if(!D||D===Jt._true){if(1===t.page&&this.blankPageAtStart){u.style={};var h=e.size;e={},h&&(e.size=h)}return this.pageManager.getPageRulePageMaster(u,e)}}throw new Error("No enabled page masters")},u.flowChunkIsAfterParentFlowForcedBreak=function(e){var t=this.layoutPositionAtPageStart.flows,n=t[e.flowName].parentFlowName;if(n){var u=e.startOffset,i=t[n].forcedBreakOffsets;if(!i.length||u<i[0])return!1;var r=he(i.length,(function(e){return i[e]>u}))-1,o=i[r],a=this.layoutPositionAtPageStart.flowPositions[n],s=this.getConsumedOffset(a);return!(o<s)&&(s<o||!this.matchPageSide(a.startSide))}return!1},u.setFormattingContextToColumn=function(e,t){var n=this.currentLayoutPosition.flows[t];n.formattingContext||(n.formattingContext=new Fs(null)),e.flowRootFormattingContext=n.formattingContext},u.layoutDeferredPageFloats=function(e){var t=this,n=e.pageFloatLayoutContext,u=n.getDeferredPageFloatContinuations(),i=ku("layoutDeferredPageFloats"),r=!1,o=0;return i.loopWithFrame((function(i){if(o!==u.length){var a=u[o++],s=a.float;if(function(e){if(!t.pageAreaWidth&&!t.pageAreaHeight&&e.floatReference!==xa.PAGE)return!1;var n=t.layoutPositionAtPageStart.flowPositions.body,u=n&&t.getConsumedOffset(n),i=t.xmldoc.getNodeOffset(e.nodePosition.steps[0].node,0,!1);return null!=i&&null!=u&&i>u}(s))i.breakLoop();else{var l=(new _a).findByFloat(s),c=l.findPageFloatFragment(s,n);if(!c||!c.hasFloat(s))return n.isForbidden(s)||n.hasPrecedingFloatsDeferredToNext(s)?(n.deferPageFloat(a),void i.breakLoop()):void e.layoutPageFloatInner(a,l,null,c).then((function(e){if(e){var t=n.parent.isInvalidated();t?i.breakLoop():(n.isInvalidated()&&!t&&(r=!0,n.validate()),i.continueLoop())}else i.breakLoop()}));i.continueLoop()}}else i.breakLoop()})).then((function(){r&&n.invalidate(),i.finish(!0)})),i.result()},u.getLastAfterPositionIfDeferredFloatsExists=function(e,t){var n;return e.pageFloatLayoutContext.getPageFloatContinuationsDeferredToNext().length>0&&e.lastAfterPosition?(t?(n=t.clone()).primary=e.lastAfterPosition:n=new fr(e.lastAfterPosition),n):null},u.layoutColumn=function(e,t){var n=this,u=this.currentLayoutPosition.flowPositions[t];if(!u||!this.matchPageSide(u.startSide))return Iu(!0);u.startSide="any",this.setFormattingContextToColumn(e,t),e.init(),this.primaryFlows[t]&&e.bands.length>0&&(e.forceNonfitting=!1);var i=ku("layoutColumn");return this.layoutDeferredPageFloats(e).then((function(){if(e.pageFloatLayoutContext.isInvalidated())i.finish(!0);else{var r=[],o=[],a=!0;i.loopWithFrame((function(i){if(e.pageFloatLayoutContext.hasContinuingFloatFragmentsInFlow(t))i.breakLoop();else{for(var s=function(){for(var t=0;o.includes(t);)t++;var s=u.positions[t];if(s.flowChunk.startOffset>n.lookupOffset||n.flowChunkIsAfterParentFlowForcedBreak(s.flowChunk))return"break";for(var l=t+1;l<u.positions.length;l++)if(!o.includes(l)){var c=u.positions[l];if(c.flowChunk.startOffset>n.lookupOffset||n.flowChunkIsAfterParentFlowForcedBreak(c.flowChunk))break;c.flowChunk.isBetter(s.flowChunk)&&(s=c,t=l)}var D=s.flowChunk,h=!0;return e.layout(s.chunkPosition,a,u.breakAfter).then((function(l){if(e.pageFloatLayoutContext.isInvalidated())i.breakLoop();else{if(a=!1,s.flowChunk.repeated&&(null===l||D.exclusive)&&r.push(t),D.exclusive)return o.push(t),void i.breakLoop();var c=!!l||!!e.pageBreakType,f=n.getLastAfterPositionIfDeferredFloatsExists(e,l);e.pageBreakType&&f?(s.chunkPosition=f,u.breakAfter=e.pageBreakType,e.pageBreakType=null):(o.push(t),(l||f)&&(s.chunkPosition=l||f,r.push(t)),e.pageBreakType&&(u.startSide=es(e.pageBreakType))),c?i.breakLoop():(e.forceNonfitting=!1,h?h=!1:i.continueLoop())}})),h?(h=!1,{v:void 0}):void 0};u.positions.length-o.length>0;){var l=s();if("break"===l)break;if("object"==typeof l)return l.v}i.breakLoop()}})).then((function(){if(!e.pageFloatLayoutContext.isInvalidated()){u.positions=u.positions.filter((function(e,t){return r.includes(t)||!o.includes(t)})),"column"===u.breakAfter&&(u.breakAfter=null),e.saveDistanceToBlockEndFloats();var t=e.pageFloatLayoutContext.getMaxReachedAfterEdge();e.updateMaxReachedAfterEdge(t)}i.finish(!0)}))}})),i.result()},u.createLayoutConstraint=function(e){var t=this.counterStore.createLayoutConstraint(this.currentLayoutPosition.page-1);return new Qs([t].concat(e.getLayoutConstraints()))},u.createAndLayoutColumn=function(e,t,n,u,i,r,o,a,s,l,c,D,h,f){var d,p=this,E=e.vertical?e.isAutoWidth&&e.isRightDependentOnAutoWidth:e.isAutoHeight&&e.isTopDependentOnAutoHeight,C=i.element,g=new La(a,xa.COLUMN,null,o,null,null,null),F=this.currentLayoutPosition.clone(),v=ku("createAndLayoutColumn");return v.loopWithFrame((function(e){var v=p.createLayoutConstraint(g);if(s>1){var m=p.viewport.document.createElement("div");if(te(m,"position","absolute"),C.appendChild(m),(d=new Js(m,h,p.clientLayout,v,g)).forceNonfitting=f,d.vertical=i.vertical,d.rtl=i.rtl,d.snapHeight=i.snapHeight,d.snapWidth=i.snapWidth,i.vertical){var A=(i.rtl?s-r-1:r)*(c+l)+i.paddingTop,y=parseFloat(C.style.width);d.setHorizontalPosition(i.paddingLeft+y-i.width,i.width),d.setVerticalPosition(A,c)}else{var B=(i.rtl?s-r-1:r)*(c+l)+i.paddingLeft;d.setVerticalPosition(i.paddingTop,i.height),d.setHorizontalPosition(B,c)}d.originX=t,d.originY=n}else(d=new Js(C,h,p.clientLayout,v,g)).copyFrom(i);d.exclusions=E?[]:u.concat(),d.innerShape=D,g.setContainer(d),d.width>=0?p.layoutColumn(d,o).then((function(){g.isInvalidated()||g.finish(),d.pageFloatLayoutContext.isInvalidated()&&!a.isInvalidated()?(d.pageFloatLayoutContext.validate(),p.currentLayoutPosition=F.clone(),d.element!==C&&C.removeChild(d.element),e.continueLoop()):e.breakLoop()})):(g.finish(),e.breakLoop())})).then((function(){v.finish(d)})),v.result()},u.setPagePageFloatLayoutContextContainer=function(e,t,n){(t instanceof TD||t instanceof Jc&&!(t instanceof wD))&&e.setContainer(n)},u.getRegionPageFloatLayoutContext=function(e,t,n,u){var i=t.getProp(this,"writing-mode")||null,r=t.getProp(this,"direction")||null;return new La(e,xa.REGION,n,u,null,i,r)},u.layoutFlowColumnsWithBalancing=function(e,t,n,u,i,r,o,a,s){var l=this,c=this.currentLayoutPosition.clone(),D=this.getRegionPageFloatLayoutContext(r,t,o,a),h=!0,f=function(){return l.currentLayoutPosition=c.clone(),l.layoutFlowColumns(e,t,n,u,i,r,D,o,a,s,h).thenAsync((function(e){return Iu(e?{columns:e,position:l.currentLayoutPosition}:null)}))};return f().thenAsync((function(e){if(!e)return Iu(null);if(s<=1)return Iu(e.columns);var n=t.getProp(l,"column-fill")||Jt.balance,u=function(e,t,n,u,i,r,o){if(t===Jt.auto)return null;var a=r[r.length-1];return 0===o.positions.length||a&&a.pageBreakType?new jl(n,u,i,e):t===Jt.balance_all?new Yl(n,u,i):null}(s,n,f,D,o,e.columns,l.currentLayoutPosition.flowPositions[a]);return u?(h=!1,r.lock(),D.lock(),u.balanceColumns(e).thenAsync((function(e){return r.unlock(),r.validate(),D.unlock(),l.currentLayoutPosition=e.position,Iu(e.columns)}))):Iu(e.columns)}))},u.layoutFlowColumns=function(e,t,n,u,i,r,o,a,s,l,c){var D=this,h=ku("layoutFlowColumns"),f=this.currentLayoutPosition.clone(),d=t.getPropAsNumber(this,"column-gap"),p=l>1?t.getPropAsNumber(this,"column-width"):a.width,E=t.getActiveRegions(this),C=Ln(t.getProp(this,"shape-inside"),0,0,a.width,a.height,this),g=new ZD(s,this,this.viewport,this.styler,E,this.xmldoc,this.faces,this.style.footnoteProps,this,e,this.customRenderer,this.fallbackMap,this.documentURLTransformer),F=0,v=null,m=[];return h.loopWithFrame((function(e){D.createAndLayoutColumn(t,n,u,i,a,F++,s,o,l,d,p,C,g,c).then((function(t){return r.isInvalidated()?(m=null,void e.breakLoop()):(!(t.pageBreakType&&"column"!==t.pageBreakType)&&F!==l||o.isInvalidated()||o.finish(),o.isInvalidated()?(F=0,D.currentLayoutPosition=f.clone(),o.validate(),void(o.isLocked()?(m=null,e.breakLoop()):e.continueLoop())):(m[F-1]=v=t,v.pageBreakType&&"column"!=v.pageBreakType&&(F=l,"region"!=v.pageBreakType&&(D.pageBreaks[s]=!0)),void(F<l?e.continueLoop():e.breakLoop())))}))})).then((function(){h.finish(m)})),h.result()},u.layoutContainer=function(e,t,n,u,i,r,o){var a=this;t.reset();var s=t.getProp(this,"enabled");if(s&&s!==Jt._true)return Iu(!0);var l=ku("layoutContainer"),c=t.getProp(this,"wrap-flow")===Jt.auto,D=t.getProp(this,"flow-from"),h=this.viewport.document.createElement("div"),d=t.getProp(this,"position");te(h,"position",d?d.name:"absolute");var p=t instanceof wD;t instanceof tD?n.appendChild(h):n.insertBefore(h,n.firstChild);var E,C=new Cr(h);C.vertical=t.vertical,C.rtl=t.rtl,C.exclusions=r,t.prepareContainer(this,C,e,this.faces,this.clientLayout),t instanceof wD&&(C.width<=0||C.height<=0)&&f.warn("Negative or zero page area size"),C.originX=u,C.originY=i,u+=C.left+C.marginLeft+C.borderLeft,i+=C.top+C.marginTop+C.borderTop,this.setPagePageFloatLayoutContextContainer(o,t,C);var g,F,v,m=!1;if(D&&D.isIdent())if(this.pageBreaks[D.toString()])o.isInvalidated()||t.finishContainer(this,C,e,null,1,this.clientLayout,this.faces),E=Iu(!0);else{var A=ku("layoutContainer.inner"),y=D.toString(),B=t.getPropAsNumber(this,"column-count");this.layoutFlowColumnsWithBalancing(e,t,u,i,r,o,C,y,B).then((function(n){if(!o.isInvalidated()){var u=n[0];u.element===h&&(C=u),C.computedBlockSize=Math.max.apply(null,n.map((function(e){return e.computedBlockSize}))),t.finishContainer(a,C,e,u,B,a.clientLayout,a.faces);var i=a.currentLayoutPosition.flowPositions[y];i&&"region"===i.breakAfter&&(i.breakAfter=null)}A.finish(!0)})),E=A.result()}else{var b=t.getProp(this,"content");if(b&&Fr(b)){var w="span";b.url&&(w="img");var S=this.viewport.document.createElement(w);b.visit(new gr(S,this,b,this.counterStore.getExprContentListener())),h.appendChild(S),"img"==w&&t.transferSinglUriContentProps(this,S,this.faces),t.transferContentProps(this,C,e,this.faces),"span"==w&&(g=S,F=t.getProp(this,"text-spacing"),v=t.getProp(this,"hanging-punctuation"),Ms.processGeneratedContent(g,F,v,this.lang,t.vertical))}else t.suppressEmptyBoxGeneration&&(n.removeChild(h),m=!0);m||t.finishContainer(this,C,e,null,1,this.clientLayout,this.faces),E=Iu(!0)}return E.then((function(){if(o.isInvalidated())l.finish(!0);else{if(!t.isAutoHeight||Math.floor(C.computedBlockSize)>0){if(!m&&!c){var s=t.getProp(a,"shape-outside"),D=C.getOuterShape(s,a);r.push(D)}}else if(0==t.children.length)return n.removeChild(h),void l.finish(!0);var f=p?0:t.children.length-1;l.loop((function(){for(;f>=0&&f<t.children.length;){var n=t.children[p?f++:f--],s=a.layoutContainer(e,n,h,u,i,r,o);if(s.isPending())return s.thenAsync((function(){return Iu(!o.isInvalidated())}));if(o.isInvalidated())break}return Iu(!1)})).then((function(){l.finish(!0)}))}})),l.result()},u.processLinger=function(){var e=this.currentLayoutPosition.page;for(var t in this.currentLayoutPosition.flowPositions)for(var n=this.currentLayoutPosition.flowPositions[t],u=n.positions.length-1;u>=0;u--){var i=n.positions[u];i.flowChunk.startPage>=0&&i.flowChunk.startPage+i.flowChunk.linger-1<=e&&n.positions.splice(u,1)}},u.initLingering=function(){var e=this.currentLayoutPosition.page;for(var t in this.currentLayoutPosition.flowPositions)for(var n=this.currentLayoutPosition.flowPositions[t],u=n.positions.length-1;u>=0;u--){var i=n.positions[u];i.flowChunk.startPage<0&&i.flowChunk.startOffset<this.lookupOffset&&(i.flowChunk.startPage=e)}},u.noMorePrimaryFlows=function(e){for(var t in this.primaryFlows){var n=e.flowPositions[t];if(n&&n.positions.length>0)return!1}return!0},u.layoutNextPage=function(e,n){var u,i,r=this,o=e.container===e.bleedBox;if(this.pageBreaks={},n?(this.currentLayoutPosition=n.clone(),this.styler.replayFlowElementsFromOffset(n.highestSeenOffset)):(this.currentLayoutPosition=new Er,this.styler.replayFlowElementsFromOffset(-1)),this.lang&&e.bleedBox.setAttribute("lang",this.lang),(n=this.currentLayoutPosition).page>1e4)throw new Error("Too many pages generated (over 10000 pages)");n.page++;var a=null==(u=n.flowPositions.body)?void 0:u.startSide;n.isBlankPage=a&&"any"!==a&&this.matchPageSide(a),e.isBlankPage=n.isBlankPage,this.clearScope(this.style.pageScope),this.layoutPositionAtPageStart=n.clone();var s=o?{}:this.pageManager.getCascadedPageStyle(null!=(i=e.isBlankPage?this.styler.cascade.previousPageType:this.styler.cascade.currentPageType)?i:"");this.styler.cascade.applyVarFilter([s],this.styler,null),this.styler.cascade.applyCalcFilter(s,this.styler.context);var l=this.selectPageMaster(s);if(!l)return Iu(null);var c=0;if(!o){e.setAutoPageWidth(l.pageBox.specified.width.value===tn),e.setAutoPageHeight(l.pageBox.specified.height.value===nn),this.counterStore.setCurrentPage(e),this.counterStore.updatePageCounters(s,this);var D=dD(fD(s),this);this.setPageSizeAndBleed(D,e),function(e,t,n,u){var i=!1,r=!1,o=e.marks;if(o){var a=o.value;a instanceof jt?a.values.forEach((function(e){e===Jt.crop?i=!0:e===Jt.cross&&(r=!0)})):a===Jt.crop?i=!0:a===Jt.cross&&(r=!0)}var s=t.bleed;if(s){var l=e["background-color"];l&&l.value&&(n.bleedBox.style.backgroundColor=l.value.stringValue())}if(i||r){var c=n.container,D=c.ownerDocument,h=Qt(sD,u),f=Math.max(0,t.bleedOffset-Qt(DD,u)),d=t.bleedOffset-f;i&&Object.keys(lD).forEach((function(e){var t=function(e,t,n,u,i,r){var o=u;o<=i+2*Me.mm&&(o=i+u/2);var a=Math.max(u,o),s=i+a+n/2,l=pD(e,s,s),c=[[0,i+u],[u,i+u],[u,i+u-o]],D=c.map((function(e){return[e[1],e[0]]}));t!==lD.TOP_RIGHT&&t!==lD.BOTTOM_RIGHT||(c=c.map((function(e){return[i+a-e[0],e[1]]})),D=D.map((function(e){return[i+a-e[0],e[1]]}))),t!==lD.BOTTOM_LEFT&&t!==lD.BOTTOM_RIGHT||(c=c.map((function(e){return[e[0],i+a-e[1]]})),D=D.map((function(e){return[e[0],i+a-e[1]]})));var h=ED(e,n);h.setAttribute("points",c.map((function(e){return e.join(",")})).join(" ")),l.appendChild(h);var f=ED(e,n);return f.setAttribute("points",D.map((function(e){return e.join(",")})).join(" ")),l.appendChild(f),t.split(" ").forEach((function(e){l.style[e]=r+"px"})),l}(D,lD[e],h,d,s,f);c.appendChild(t)})),r&&Object.keys(cD).forEach((function(e){var t=function(e,t,n,u,i){var r,o,a=2*u;t===cD.TOP||t===cD.BOTTOM?(r=a,o=u):(r=u,o=a);var s=pD(e,r,o),l=ED(e,n);l.setAttribute("points","0,"+o/2+" "+r+","+o/2),s.appendChild(l);var c=ED(e,n);c.setAttribute("points",r/2+",0 "+r/2+","+o),s.appendChild(c);var D,h=ED(e,n,"circle");switch(h.setAttribute("cx",r/2),h.setAttribute("cy",o/2),h.setAttribute("r",u/4),s.appendChild(h),t){case cD.TOP:D=cD.BOTTOM;break;case cD.BOTTOM:D=cD.TOP;break;case cD.LEFT:D=cD.RIGHT;break;case cD.RIGHT:D=cD.LEFT}return Object.keys(cD).forEach((function(e){var n=cD[e];n===t?s.style[n]=i+"px":n!==D&&(s.style[n]="0",s.style["margin-"+n]="auto")})),s}(D,cD[e],h,d,f);c.appendChild(t)}))}}(s,D,e,this),c=D.bleedOffset+D.bleed}var h=!o&&l.getProp(this,"writing-mode")||Jt.horizontal_tb;this.pageVertical=h!=Jt.horizontal_tb;var f=l.getProp(this,"direction")||Jt.ltr,d=new La(this.rootPageFloatLayoutContext,xa.PAGE,null,null,null,h,f),p=ku("layoutNextPage");return p.loopWithFrame((function(t){r.layoutContainer(e,l,e.bleedBox,c,c,[],d).then((function(){d.isInvalidated()||d.finish(),d.isInvalidated()?(r.currentLayoutPosition=r.layoutPositionAtPageStart.clone(),d.validate(),t.continueLoop()):t.breakLoop()}))})).then((function(){if(l.adjustPageLayout(r,e,r.clientLayout),!o){var u=new dt(l.pageBox.scope,"left-page");e.side=u.evaluate(r)?t.Bf.LEFT:t.Bf.RIGHT,r.processLinger(),n=r.currentLayoutPosition,Object.keys(n.flowPositions).forEach((function(e){var t=n.flowPositions[e],u=t.breakAfter;!u||"page"!==u&&r.matchPageSide(u)||(t.breakAfter=null)}))}r.currentLayoutPosition=r.layoutPositionAtPageStart=null,n.highestSeenOffset=r.styler.getReachedOffset();var i=r.style.store.getTriggersForDoc(r.xmldoc);e.finish(i,r.clientLayout),r.noMorePrimaryFlows(n)&&(n=null),p.finish(n)})),p.result()},u.setPageSizeAndBleed=function(e,t){this.actualPageWidth=e.pageWidth,this.actualPageHeight=e.pageHeight,this.pageSheetWidth=e.pageWidth+2*e.cropOffset,this.pageSheetHeight=e.pageHeight+2*e.cropOffset,t.container.style.width=this.pageSheetWidth+"px",t.container.style.height=this.pageSheetHeight+"px",t.bleedBox.style.left=e.bleedOffset+"px",t.bleedBox.style.right=e.bleedOffset+"px",t.bleedBox.style.top=e.bleedOffset+"px",t.bleedBox.style.bottom=e.bleedOffset+"px",t.bleedBox.style.padding=e.bleed+"px"},n}(ze),Dh=function(e){function t(t,n,u,i){var r;return(r=e.call(this,t.rootScope,t,n,u,i,t.validatorSet,!u)||this).masterHandler=void 0,r.insideRegion=!1,r.masterHandler=t,r}x(t,e);var n=t.prototype;return n.startPageTemplateRule=function(){},n.startPageMasterRule=function(e,t,n){var u=new _c(this.masterHandler.pageScope,e,t,n,this.masterHandler.rootBox,this.condition,this.owner.getBaseSpecificity());this.masterHandler.pushHandler(new rD(u.scope,this.masterHandler,u,this.validatorSet))},n.startWhenRule=function(e){var n=e.expr;null!=this.condition&&(n=yt(this.scope,this.condition,n)),this.masterHandler.pushHandler(new t(this.masterHandler,n,this,this.regionId))},n.startDefineRule=function(){this.masterHandler.pushHandler(new ra(this.scope,this.owner))},n.startFontFaceRule=function(){var e={};this.masterHandler.fontFaces.push({properties:e,condition:this.condition}),this.masterHandler.pushHandler(new oa(this.scope,this.owner,null,e,this.masterHandler.validatorSet))},n.startFlowRule=function(e){var t=this.masterHandler.flowProps[e];t||(this.masterHandler.flowProps[e]=t={}),this.masterHandler.pushHandler(new oa(this.scope,this.owner,null,t,this.masterHandler.validatorSet))},n.startViewportRule=function(){var e={};this.masterHandler.viewportProps.push(e),this.masterHandler.pushHandler(new oa(this.scope,this.owner,this.condition,e,this.masterHandler.validatorSet))},n.startFootnoteRule=function(e){var t=this.masterHandler.footnoteProps;if(e){var n=Hr(t,"_pseudos");(t=n[e])||(n[e]=t={})}this.masterHandler.pushHandler(new oa(this.scope,this.owner,null,t,this.masterHandler.validatorSet))},n.startRegionRule=function(){this.insideRegion=!0,this.startSelectorRule()},n.startPageRule=function(){var e=new HD(this.masterHandler.pageScope,this.masterHandler,this,this.validatorSet,this.masterHandler.pageProps);this.masterHandler.pushHandler(e),e.startPageRule()},n.startRuleBody=function(){if(Zo.prototype.startRuleBody.call(this),this.insideRegion){this.insideRegion=!1;var e="R"+this.masterHandler.regionCount++;this.special("region-id",Mt(e)),this.endRule();var n=new t(this.masterHandler,this.condition,this,e);this.masterHandler.pushHandler(n),n.startRuleBody()}},t}(Zo),hh=function(e){function t(t){var n;return(n=e.call(this)||this).validatorSet=void 0,n.rootScope=void 0,n.pageScope=void 0,n.rootBox=void 0,n.cascadeParserHandler=void 0,n.regionCount=0,n.fontFaces=[],n.footnoteProps={},n.flowProps={},n.viewportProps=[],n.pageProps={},n.validatorSet=t,n.rootScope=new Oe(null),n.pageScope=new Oe(n.rootScope),n.rootBox=new Lc(n.rootScope),n.cascadeParserHandler=new Dh(L(n),null,null,null),n.slave=n.cascadeParserHandler,n}return x(t,e),t}(oi);function fh(e,t){return t.parseOPSResource(e)}var dh=function(e){function n(t){var n;return(n=e.call(this,fh,Xu.DOCUMENT)||this).fontDeobfuscator=void 0,n.styleByKey={},n.styleFetcherByKey={},n.styleByDocURL={},n.triggersByDocURL={},n.validatorSet=null,n.styleSheets=[],n.triggerSingleDocumentPreprocessing=!1,n.fontDeobfuscator=t,n}x(n,e);var u=n.prototype;return u.init=function(e,t){var n=this;this.setStyleSheets(e,t);var u=ku("OPSDocStore.init");return this.validatorSet=wc(),sh.get().then((function(){n.triggerSingleDocumentPreprocessing=!0,u.finish(!0)})),u.result()},u.getStyleForDoc=function(e){return this.styleByDocURL[e.url]},u.getTriggersForDoc=function(e){return this.triggersByDocURL[e.url]},u.setStyleSheets=function(e,t){this.clearStyleSheets(),e&&e.forEach(this.addAuthorStyleSheet,this),t&&t.forEach(this.addUserStyleSheet,this)},u.clearStyleSheets=function(){this.styleSheets.splice(0)},u.addAuthorStyleSheet=function(e){var t=e.url;t&&(t=$(q(t),H)),this.styleSheets.push({url:t,text:e.text,flavor:ti.AUTHOR,classes:null,media:null})},u.addUserStyleSheet=function(e){var t=e.url;t&&(t=$(q(t),H)),this.styleSheets.push({url:t,text:e.text,flavor:ti.USER,classes:null,media:null})},u.parseOPSResource=function(e){var n=this,u=ku("OPSDocStore.load"),i=e.url,r=i.endsWith("?viv-toc-box");return rh(e,this).then((function(e){if(e){if(n.triggerSingleDocumentPreprocessing)for(var o=C(t.cF.PREPROCESS_SINGLE_DOCUMENT),a=0;a<o.length;a++)try{o[a](e.document)}catch(e){f.warn("Error during single document preprocessing:",e)}for(var s=[],l=e.document.getElementsByTagNameNS(W.epub,"trigger"),c=0;c<l.length;c++){var D=l[c],h=D.getAttributeNS(W.EV,"observer"),d=D.getAttributeNS(W.EV,"event"),p=D.getAttribute("action"),E=D.getAttribute("ref");h&&d&&p&&E&&s.push({observer:h,event:d,action:p,ref:E})}n.triggersByDocURL[i]=s;var g=[],F=$("user-agent-page.css",X);if(g.push({url:F,text:Ku,flavor:ti.USER_AGENT,classes:null,media:null}),!r){for(var v,m=_(e.document.querySelectorAll("style, link, meta"));!(v=m()).done;){var A=v.value,y=A.localName;if(A.namespaceURI==W.XHTML)if("style"==y){var B=A.getAttribute("class"),b=A.getAttribute("media"),w=A.getAttribute("title");g.push({url:i,text:A.textContent,flavor:ti.AUTHOR,classes:w?B:null,media:b})}else if("link"==y){var S,N=null==(S=A.getAttribute("rel"))?void 0:S.split(/\s+/),x=A.getAttribute("class"),T=A.getAttribute("media");if(null!=N&&N.includes("stylesheet")&&(!N.includes("alternate")||x)){var k=A.getAttribute("href");k=$(k,i);var I=A.getAttribute("title");g.push({url:k,text:null,classes:I?x:null,media:T,flavor:ti.AUTHOR})}}else"meta"==y&&"viewport"==A.getAttribute("name")&&g.push({url:i,text:n.processViewportMeta(A),flavor:ti.AUTHOR,classes:null,media:null})}for(var P=0;P<n.styleSheets.length;P++)g.push(n.styleSheets[P])}for(var R="",L=0;L<g.length;L++)R+=g[L].url,R+="^",g[L].text&&(R+=g[L].text),R+="^";var O=n.styleByKey[R];if(O)return n.styleByDocURL[i]=O,void u.finish(e);var M=n.styleFetcherByKey[R];M||(M=new Hu((function(){var e=ku("fetchStylesheet"),t=0,u=new hh(n.validatorSet);return e.loop((function(){if(t<g.length){var e=g[t++];return u.startStylesheet(e.flavor),null!==e.text?Ni(e.text,u,e.url,e.classes,e.media).thenReturn(!0):xi(e.url,u,e.classes,e.media)}return Iu(!1)})).then((function(){var t=u.cascadeParserHandler.finish();O=new lh(n,u.rootScope,u.pageScope,t,u.rootBox,u.fontFaces,u.footnoteProps,u.flowProps,u.viewportProps,u.pageProps),n.styleByKey[R]=O,delete n.styleFetcherByKey[R],e.finish(O)})),e.result()}),"FetchStylesheet "+i),n.styleFetcherByKey[R]=M,M.start()),M.get().then((function(t){n.styleByDocURL[i]=t,u.finish(e)}))}else u.finish(null)})),u.result()},u.processViewportMeta=function(e){return""},n}(ni);function ph(e){return String.fromCharCode(e>>>24&255,e>>>16&255,e>>>8&255,255&e)}function Eh(e){return(255&e.charCodeAt(0))<<24|(255&e.charCodeAt(1))<<16|(255&e.charCodeAt(2))<<8|255&e.charCodeAt(3)}function Ch(e){var t=new ie;t.append(e);var n=55-e.length&63;for(t.append("\x80");n>0;)n--,t.append("\0");t.append("\0\0\0\0"),t.append(ph(8*e.length)),e=t.toString();for(var u,i=[1732584193,4023233417,2562383102,271733878,3285377520],r=[],o=0;o<e.length;o+=64){for(u=0;u<16;u++)r[u]=Eh(e.substr(o+4*u,4));for(;u<80;u++){var a=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=a<<1|a>>>31}var s=i[0],l=i[1],c=i[2],D=i[3],h=i[4],f=void 0;for(u=0;u<80;u++)f=u<20?1518500249+(l&c|~l&D):u<40?1859775393+(l^c^D):u<60?2400959708+(l&c|l&D|c&D):3395469782+(l^c^D),f+=(s<<5|s>>>27)+h+r[u],h=D,D=c,c=l<<30|l>>>2,l=s,s=f;i[0]=i[0]+s|0,i[1]=i[1]+l|0,i[2]=i[2]+c|0,i[3]=i[3]+D|0,i[4]=i[4]+h|0}return i}var gh=function(){function e(e,t,n,u,i,r,o,a,s,l){this.store=void 0,this.url=void 0,this.lang=void 0,this.clientLayout=void 0,this.fontMapper=void 0,this.rendererFactory=void 0,this.fallbackMap=void 0,this.documentURLTransformer=void 0,this.counterStore=void 0,this.pref=void 0,this.page=null,this.instance=null,this.store=e,this.url=t,this.lang=n,this.clientLayout=u,this.fontMapper=i,this.rendererFactory=o,this.fallbackMap=a,this.documentURLTransformer=s,this.counterStore=l,this.pref=Ne(r),this.pref.spreadView=!1}var t=e.prototype;return t.setAutoHeight=function(e,t){if(0!=t--)for(var n=e.firstChild;n;n=n.nextSibling)if(1==n.nodeType){var u=n;"auto"!=ne(u,"height","auto")&&(te(u,"height","auto"),this.setAutoHeight(u,t)),"absolute"==ne(u,"position","static")&&(te(u,"position","relative"),this.setAutoHeight(u,t))}},t.makeCustomRenderer=function(e){var t=this.rendererFactory.makeCustomRenderer(e);return function(e,n,u){var i=u.behavior;if(i)switch(i.toString()){case"body-child":e.querySelector("[role=doc-toc], [role=directory], nav li a, .toc, #toc")||(u.display=Jt.none);break;case"toc-node-anchor":u.color=Jt.inherit,u["text-decoration"]=Jt.none;break;case"toc-node":u.display=Jt.block,u.margin=un,u.padding=un,u["padding-inline-start"]=new Ut(1.25,"em");break;case"toc-node-first-child":u.display=Jt.inline_block,u.margin=new Ut(.2,"em"),u["vertical-align"]=Jt.top,u.color=Jt.inherit,u["text-decoration"]=Jt.none}if(!i||"toc-node"!=i.toString()&&"toc-container"!=i.toString())return t(e,n,u);var r=e.firstChild;r&&1!==r.nodeType&&Ji(r)&&e.replaceChild(e.ownerDocument.createComment(r.textContent),r);var o=n.getAttribute("data-adapt-class");if("toc-node"==o){var a=n.firstChild;"\u25b8"!=a.textContent&&(a.textContent="\u25b8",te(a,"cursor","pointer"),a.addEventListener("click",Fh,!1),a.setAttribute("role","button"),a.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false"),"0px"!==n.style.height&&(a.tabIndex=0))}var s=n.ownerDocument.createElement("div");if(s.setAttribute("data-adapt-process-children","true"),"toc-node"==i.toString()){var l=n.ownerDocument.createElement("div");if(l.textContent="\u25b9",te(l,"margin","0.2em 0 0 -1em"),te(l,"margin-inline-start","-1em"),te(l,"margin-inline-end","0"),te(l,"display","inline-block"),te(l,"width","1em"),te(l,"text-align","center"),te(l,"vertical-align","top"),te(l,"cursor","default"),te(l,"font-family","Menlo,sans-serif"),s.appendChild(l),te(s,"overflow","hidden"),s.setAttribute("data-adapt-class","toc-node"),s.setAttribute("role","treeitem"),"toc-node"==o||"toc-container"==o){te(s,"height","0px");var c=e.firstElementChild;c&&"a"===c.localName&&(c.tabIndex=-1)}else n.setAttribute("role","tree")}else"toc-node"==o&&(s.setAttribute("data-adapt-class","toc-container"),s.setAttribute("role","group"),s.setAttribute("aria-hidden","true"));return Iu(s)}},t.showTOC=function(e,t,n,u,i){var r=this;if(this.page)return Iu(this.page);var o=ku("showTOC"),a=new Ki(e,e);this.page=a;var s=V(this.url)+"?viv-toc-box";return this.store.load(s).then((function(u){for(var s,l=_(u.document.querySelectorAll("[role=doc-toc], [role=directory], nav, .toc, #toc"));!(s=l()).done;){var c=s.value;c.hasAttribute("hidden")&&c.removeAttribute("hidden")}var D=r.store.getStyleForDoc(u),h=D.sizeViewport(n,1e5,i);t=new nh(t.window,h.fontSize,0,t.root,h.width,h.height);var f=r.makeCustomRenderer(u),d=new ch(D,u,r.lang,t,r.clientLayout,r.fontMapper,f,r.fallbackMap,0,r.documentURLTransformer,r.counterStore);r.instance=d,d.pref=r.pref,d.init().then((function(){d.layoutNextPage(a,null).then((function(){Array.from(a.container.querySelectorAll("[data-vivliostyle-toc-box]>*>*>*>*>*[style*='display: none']")).forEach((function(e){e.setAttribute("aria-hidden","true"),e.setAttribute("hidden","hidden")})),r.setAutoHeight(e,2),o.finish(a)}))}))})),o.result()},t.hideTOC=function(){this.page&&(this.page.container.style.visibility="hidden",this.page.container.setAttribute("aria-hidden","true"))},t.isTOCVisible=function(){return!!this.page&&"visible"===this.page.container.style.visibility},t.getTOC=function(){if(!this.page)return[];function e(e){if(!e)return[];var n=e.querySelectorAll(":scope > [role=treeitem] > a[href]");return Array.from(n).map(t)}function t(t){return{id:new URL(t.href).hash.match(/^#?(.*)$/)[1],title:t.innerText,children:e(t.parentElement.querySelector("[role=group]"))}}return e(this.page.container.querySelector("[role=tree]"))},e}();function Fh(e){var t=e.target,n="\u25b8"==t.textContent;t.textContent=n?"\u25be":"\u25b8";var u=t.parentNode;t.setAttribute("aria-expanded",n?"true":"false"),u.setAttribute("aria-expanded",n?"true":"false");for(var i=u.firstChild;i;){if(1===i.nodeType){var r=i,o=r.getAttribute("data-adapt-class");if("toc-container"===o){if(r.setAttribute("aria-hidden",n?"false":"true"),r.firstChild){i=r.firstChild;continue}}else if("toc-node"===o&&(r.style.height=n?"auto":"0px",r.children.length>=2&&(r.children[1].tabIndex=n?0:-1),r.children.length>=3&&(r.children[0].tabIndex=n?0:-1,!n))){var a=r.children[0];if("\u25be"==a.textContent){a.textContent="\u25b8",a.setAttribute("aria-expanded","false"),r.setAttribute("aria-expanded","false"),i=r.children[2];continue}}}for(;!i.nextSibling&&i.parentNode!==u;)i=i.parentNode;i=i.nextSibling}e.stopPropagation()}var vh=function(e){function t(){var t;return(t=e.call(this,null)||this).plainXMLStore=void 0,t.jsonStore=void 0,t.opfByURL={},t.primaryOPFByEPubURL={},t.deobfuscators={},t.documents={},t.fontDeobfuscator=t.makeDeobfuscatorFactory(),t.plainXMLStore=new ni(rh,Xu.DOCUMENT),t.jsonStore=new ni(ui,Xu.TEXT),t}x(t,e);var n=t.prototype;return n.makeDeobfuscatorFactory=function(){var e=this;return function(t){return e.deobfuscators[t]}},n.loadAsPlainXML=function(e,t,n){return this.plainXMLStore.load(e,t,n)},n.startLoadingAsPlainXML=function(e){this.plainXMLStore.fetch(e)},n.loadAsJSON=function(e,t,n){return this.jsonStore.load(e,t,n)},n.startLoadingAsJSON=function(e){this.jsonStore.fetch(e)},n.loadPubDoc=function(e,t){var n=this,u=ku("loadPubDoc");return Ju(e,null,"HEAD").then((function(i){if(i.status>=400)n.loadEPUBDoc(e,t).then((function(t){t?u.finish(t):(f.error("Failed to fetch a source document from "+e+" ("+i.status+(i.statusText?" "+i.statusText:"")+")"),u.finish(null))}));else if(i.status||i.responseXML||i.responseText||i.responseBlob||i.contentType||/\/[^/.]+(?:[#?]|$)/.test(e)&&(e=e.replace(/([#?]|$)/,"/$1")),"application/oebps-package+xml"==i.contentType||/\.opf(?:[#?]|$)/.test(e)){var r=e.match(/^((?:.*\/)?)([^/]*)$/);n.loadOPF(r[1],r[2],t).thenFinish(u)}else"application/ld+json"==i.contentType||"application/webpub+json"==i.contentType||"application/audiobook+json"==i.contentType||"application/json"==i.contentType||/\.json(?:ld)?(?:[#?]|$)/.test(e)?n.loadAsJSON(e,!0).then((function(t){if(!t)return n.reportLoadError(e),void u.finish(null);var i=new Th(n,e);i.initWithWebPubManifest(t,void 0,e).then((function(){u.finish(i)}))})):n.loadWebPub(e).then((function(i){i?u.finish(i):n.loadEPUBDoc(e,t).then((function(t){t?u.finish(t):(f.error("Failed to load "+e+"."),u.finish(null))}))}))})),u.result()},n.loadEPUBDoc=function(e,t){var n=this,u=ku("loadEPUBDoc");return e.endsWith("/")||(e+="/"),t&&this.startLoadingAsJSON(e+"?r=list"),this.startLoadingAsPlainXML(e+"META-INF/encryption.xml"),this.loadAsPlainXML(e+"META-INF/container.xml").then((function(i){if(i)for(var r,o=_(i.doc().child("container").child("rootfiles").child("rootfile").attribute("full-path"));!(r=o()).done;){var a=r.value;if(a)return void n.loadOPF(e,a,t).thenFinish(u)}u.finish(null)})),u.result()},n.loadOPF=function(e,t,n){var u=this,i=e+t,r=this.opfByURL[i];if(r)return Iu(r);var o=ku("loadOPF");return this.loadAsPlainXML(i,!0,"Failed to fetch EPUB OPF "+i).then((function(t){t?u.loadAsPlainXML(e+"META-INF/encryption.xml").then((function(a){(n?u.loadAsJSON(e+"?r=list"):Iu(null)).then((function(n){(r=new Th(u,e)).initWithXMLDoc(t,a,n,e+"?r=manifest").then((function(){u.opfByURL[i]=r,u.primaryOPFByEPubURL[e]=r,o.finish(r)}))}))})):u.reportLoadError(i)})),o.result()},n.loadWebPub=function(e){var t=this,n=ku("loadWebPub");return this.load(e).then((function(u){if(u)if(u.document.querySelector("a[href='META-INF/'],a[href$='/META-INF/']"))n.finish(null);else{var i=u.document,r=new Th(t,e);i.body&&i.body.setAttribute("data-vivliostyle-primary-entry",!0);var o=i.querySelector("link[rel='publication'],link[rel='manifest'][type='application/webpub+json']");if(o){var a=o.getAttribute("href");if(/^#/.test(a)){var s=z(i.getElementById(a.substr(1)).textContent);r.initWithWebPubManifest(s,i).then((function(){n.finish(r)}))}else{var l=$(o.getAttribute("href"),e);t.loadAsJSON(l,!0,"Failed to fetch Publication Manifest "+l).then((function(e){r.initWithWebPubManifest(e,i,l).then((function(){n.finish(r)}))}))}}else r.initWithWebPubManifest({},i).then((function(){r.xhtmlToc&&r.xhtmlToc.src===u.url&&(i.querySelector("[role=doc-toc], [role=directory], nav, .toc, #toc")||(r.xhtmlToc=null)),n.finish(r)}))}else t.reportLoadError(e)})),n.result()},n.addDocument=function(e,t){var n=ku("EPUBDocStore.load"),u=V(e);return(this.documents[u]=this.parseOPSResource({status:200,statusText:"",url:u,contentType:t.contentType,responseText:null,responseXML:t,responseBlob:null})).thenFinish(n),n.result()},n.reportLoadError=function(e){var t,n=this,u=function(e){return e.replace(/([^:/?#]|^)[/?#].*/,"$1")};e.startsWith("data:")?f.error("Failed to load "+e+". Invalid data."):e.startsWith("http:")&&H.startsWith("https:")?f.error("Failed to load "+e+'. Mixed Content ("http:" content on "https:" context) is not allowed.'):(t=u(e))===u(H)||Object.keys(n.resources).find((function(e){return n.resources[e]&&u(e)===t}))||/\.(xhtml|xht|xml|opf)$/i.test(e)?f.error("Failed to load "+e+". The target resource is invalid."):f.error("Failed to load "+e+". This may be caused by the server not allowing cross-origin resource sharing (CORS).")},n.load=function(t){var n=this,u=V(t),i=this.documents[u];if(i)return i.isPending()?i:Iu(i.get());var r=ku("EPUBDocStore.load");return(i=e.prototype.load.call(this,u,!0,"Failed to fetch a source document from "+u)).then((function(e){e?r.finish(e):n.reportLoadError(u)})),r.result()},n.processViewportMeta=function(e){var t=e.getAttribute("content");if(!t)return"";for(var n,u={};null!=(n=t.match(/^,?\s*([-A-Za-z_.][-A-Za-z_0-9.]*)\s*=\s*([-+A-Za-z_0-9.]*)\s*/));)t=t.substr(n[0].length),u[n[1]]=n[2];var i=u.width-0,r=u.height-0;return i&&r?"@-epubx-viewport{width:"+i+"px;height:"+r+"px;}"+(Object.values(this.primaryOPFByEPubURL).find((function(e){return e.prePaginated}))?"@page{size:"+i+"px "+r+"px;margin:0;}":"@page{margin:0;}"):""},t}(dh),mh=function(){function e(){this.id=null,this.src="",this.mediaType=null,this.title=null,this.itemRefElement=null,this.spineIndex=-1,this.compressedSize=0,this.compressed=null,this.epage=0,this.epageCount=0,this.startPage=null,this.skipPagesBefore=null,this.itemProperties=void 0,this.itemProperties=U}var t=e.prototype;return t.initWithElement=function(e,t){this.id=e.getAttribute("id"),this.src=$(e.getAttribute("href"),t),this.mediaType=e.getAttribute("media-type");var n=e.getAttribute("properties");n&&(this.itemProperties=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}(n.split(/\s+/)))},t.initWithParam=function(e){this.spineIndex=e.index,this.id="item"+(e.index+1),this.src=e.url,this.startPage=e.startPage,this.skipPagesBefore=e.skipPagesBefore},e}();function Ah(e){return e.id}var yh={dcterms:"http://purl.org/dc/terms/",marc:"http://id.loc.gov/vocabulary/",media:"http://www.idpf.org/epub/vocab/overlays/#",rendition:"http://www.idpf.org/vocab/rendition/#",onix:"http://www.editeur.org/ONIX/book/codelists/current.html#",xsd:"http://www.w3.org/2001/XMLSchema#",opf:"http://www.idpf.org/2007/opf"},Bh="http://idpf.org/epub/vocab/package/meta/#",bh={language:yh.dcterms+"language",title:yh.dcterms+"title",creator:yh.dcterms+"creator",layout:yh.rendition+"layout",titleType:Bh+"title-type",displaySeq:Bh+"display-seq",alternateScript:Bh+"alternate-script",role:Bh+"role"};function wh(e,t){var n={};return function(u,i){var r,o,a,s,l,c=u.r||n,D=i.r||n;if(e==bh.title&&(a="main"==(null==(s=c[bh.titleType])?void 0:s[0].v))!=("main"==(null==(l=D[bh.titleType])?void 0:l[0].v)))return a?-1:1;var h=parseInt(null==(r=c[bh.displaySeq])?void 0:r[0].v,10);isNaN(h)&&(h=Number.MAX_VALUE);var f,d,p=parseInt(null==(o=D[bh.displaySeq])?void 0:o[0].v,10);return isNaN(p)&&(p=Number.MAX_VALUE),h!=p?h-p:e!=bh.language&&t&&(a=(null==(f=c[bh.language]||c[bh.alternateScript])?void 0:f[0].v)==t)!=((null==(d=D[bh.language]||D[bh.alternateScript])?void 0:d[0].v)==t)?a?-1:1:u.o-i.o}}function Sh(){var e=window.MathJax;return e?e.Hub:null}var Nh,xh={"application/xhtml+xml":!0,"image/jpeg":!0,"image/png":!0,"image/svg+xml":!0,"image/gif":!0,"audio/mp3":!0},Th=function(){function e(e,t){this.store=void 0,this.pubURL=void 0,this.opfXML=null,this.encXML=null,this.items=null,this.spine=null,this.itemMap=null,this.itemMapByPath=null,this.uid=null,this.bindings={},this.lang=null,this.epageCount=0,this.prePaginated=!1,this.epageIsRenderedPage=!0,this.epageCountCallback=null,this.metadata={},this.ncxToc=null,this.xhtmlToc=null,this.cover=null,this.fallbackMap={},this.pageProgression=null,this.documentURLTransformer=void 0,this.store=e,this.pubURL=t,this.documentURLTransformer=this.createDocumentURLTransformer(),Sh()&&(Ar[W.MATHML]=!0)}var t=e.prototype;return t.createDocumentURLTransformer=function(){var e=this,t=function(){function t(){}var n=t.prototype;return n.transformFragment=function(e,t){return"viv-id-"+ce(t+(e?"#"+e:""),":")},n.transformURL=function(t,n){var u=t.match(/^([^#]*)#?(.*)$/);if(u){var i=u[1]||n,r=decodeURIComponent(u[2]);if(i&&e.items.some((function(e){return e.src===i})))return"#"+this.transformFragment(r,i)}return t},n.restoreURL=function(e){"#"===e.charAt(0)&&(e=e.substring(1)),0===e.indexOf("viv-id-")&&(e=e.substring("viv-id-".length));var t=function(e,t){t="string"==typeof t?t:"\\u";var n=new RegExp(De(t)+"[0-9a-fA-F]{4}","g");return e.replace(n,(function(e){return function(e,t){return 0===e.indexOf(t="string"==typeof t?t:"\\u")?String.fromCharCode(parseInt(e.substring(t.length),16)):e}(e,t)}))}(e,":").match(/^([^#]*)#?(.*)$/);return t?[t[1],t[2]]:[]},t}();return new t},t.getMetadata=function(){return this.metadata},t.getPathFromURL=function(e){if(e.startsWith("data:"))return e===this.pubURL?"":e;if(this.pubURL){var t=$("",this.pubURL);return e===t||e+"/"===t?"":("/"!=t.charAt(t.length-1)&&(t+="/"),e.substr(0,t.length)==t?decodeURIComponent(e.substr(t.length)):null)}return e},t.initWithXMLDoc=function(e,t,n,u){var i=this;this.opfXML=e,this.encXML=t;var r=e.doc().child("package"),o=r.attribute("unique-identifier")[0];if(o){var a=e.getElement(e.url+"#"+o);a&&(this.uid=a.textContent.replace(/[ \n\r\t]/g,""))}var s={};for(var c in this.items=r.child("manifest").child("item").asArray().map((function(t){var n=new mh,u=t;n.initWithElement(u,e.url);var r=u.getAttribute("fallback");return r&&!xh[n.mediaType]&&(s[n.src]=r),!i.xhtmlToc&&n.itemProperties.nav&&(i.xhtmlToc=n),!i.cover&&n.itemProperties["cover-image"]&&(i.cover=n),n})),this.itemMap=de(this.items,Ah),this.itemMapByPath=de(this.items,(function(e){return i.getPathFromURL(e.src)})),s)for(var D=c;;){var h=this.itemMap[s[D]];if(!h)break;if(xh[h.mediaType]){this.fallbackMap[c]=h.src;break}D=h.src}this.spine=r.child("spine").child("itemref").asArray().map((function(e,t){var n=e,u=n.getAttribute("idref"),r=i.itemMap[u];return r&&(r.itemRefElement=n,r.spineIndex=t),r}));var f=r.child("spine").attribute("toc")[0];f&&(this.ncxToc=this.itemMap[f]);var d=r.child("spine").attribute("page-progression-direction")[0];d&&(this.pageProgression=l(d));for(var p=t?t.doc().child("encryption").child("EncryptedData").predicate(oh.withChild("EncryptionMethod",oh.withAttribute("Algorithm","http://www.idpf.org/2008/embedding"))).child("CipherData").child("CipherReference").attribute("URI"):[],E=r.child("bindings").child("mediaType").asArray(),C=0;C<E.length;C++){var g=E[C].getAttribute("handler"),F=E[C].getAttribute("media-type");F&&g&&this.itemMap[g]&&(this.bindings[F]=this.itemMap[g].src)}if(this.metadata=function(e,t){var n;if(t){for(var u in n={},yh)n[u]=yh[u];for(var i;null!=(i=t.match(/^\s*([A-Z_a-z\u007F-\uFFFF][-.A-Z_a-z0-9\u007F-\uFFFF]*):\s*(\S+)/));)t=t.substr(i[0].length),n[i[1]]=i[2]}else n=yh;var r=function(e){if(e){var t=e.match(/^\s*(([^:]*):)?(\S+)\s*$/);if(t){var u=t[2]?n[t[2]]:Bh;if(u)return u+t[3]}}return null},o=1,a=e.childElements().forEachNonNull((function(e){if("meta"==e.localName){var t=r(e.getAttribute("property"));if(t)return{name:t,value:e.textContent,id:e.getAttribute("id"),order:o++,refines:e.getAttribute("refines"),lang:null,scheme:r(e.getAttribute("scheme")),role:null}}else if(e.namespaceURI==W.DC)return{name:yh.dcterms+e.localName,order:o++,lang:e.getAttribute("xml:lang"),value:e.textContent,id:e.getAttribute("id"),refines:null,scheme:null,role:e.getAttribute("role")||e.getAttribute("opf:role")};return null})),s=pe(a,(function(e){return e.refines})),l=function e(t){return function(t,n){var u={};for(var i in t)u[i]=t[i].map((function(t){var n={v:t.value,o:t.order};t.scheme&&(n.s=t.scheme);var u=s["#"+t.id]||[];if(u.length||t.lang||t.role){t.lang&&u.push({name:bh.language,value:t.lang,lang:null,id:null,refines:t.id,scheme:null,order:t.order,role:null}),t.role&&u.push({name:bh.role,value:t.role,lang:null,id:null,refines:t.id,scheme:null,order:t.order,role:null});var i=pe(u,(function(e){return e.name}));n.r=e(i)}return n}));return u}(t)}(pe(a,(function(e){return e.refines?null:e.name}))),c=null;return l[bh.language]&&(c=l[bh.language][0].v),function e(t){for(var n in t){var u=t[n];u.sort(wh(n,c));for(var i=0;i<u.length;i++){var r=u[i].r;r&&e(r)}}}(l),l}(r.child("metadata"),r.attribute("prefix")[0]),this.metadata[bh.language]&&(this.lang=this.metadata[bh.language][0].v),this.metadata[bh.layout]&&(this.prePaginated="pre-paginated"===this.metadata[bh.layout][0].v),!n){if(p.length>0&&this.uid)for(var v=function(e){var t=function(e){for(var t,n=[],u=_(Ch(e));!(t=u()).done;){var i=t.value;n.push(i>>>24&255,i>>>16&255,i>>>8&255,255&i)}return n}(e);return function(e){var n,u,i=ku("deobfuscator");return e.slice?(n=e.slice(0,1040),u=e.slice(1040,e.size)):(n=e.webkitSlice(0,1040),u=e.webkitSlice(1040,e.size-1040)),function(e){var t=ku("readBlob"),n=new FileReader,u=t.suspend(n);return n.addEventListener("load",(function(){u.schedule(n.result)}),!1),n.readAsArrayBuffer(e),t.result()}(n).then((function(e){for(var n=new DataView(e),r=0;r<n.byteLength;r++){var o=n.getUint8(r);n.setUint8(r,o^=t[r%20])}i.finish(ei([n,u]))})),i.result()}}(this.uid),m=0;m<p.length;m++)this.store.deobfuscators[this.pubURL+p[m]]=v;return this.prePaginated&&this.assignAutoPages(),Iu(!0)}var A=new ie,y={};if(p.length>0&&this.uid)for(var B="1040:"+function(e){for(var t=function(e){for(var t=Ch(e),n=new ie,u=0;u<t.length;u++)n.append(ph(t[u]));return n.toString()}(e),n=new ie,u=0;u<t.length;u++)n.append((256|t.charCodeAt(u)).toString(16).substr(1));return n.toString()}(this.uid),b=0;b<p.length;b++)y[p[b]]=B;for(var w=0;w<n.length;w++){var S=n[w],N=S.n;if(N){var x=decodeURIComponent(N),T=this.itemMapByPath[x],k=null;T&&(T.compressed=0!=S.m,T.compressedSize=S.c,T.mediaType&&(k=T.mediaType.replace(/\s+/g,"")));var I=y[x];(k||I)&&(A.append(N),A.append(" "),A.append(k||"application/octet-stream"),I&&(A.append(" "),A.append(I)),A.append("\n"))}}return this.assignAutoPages(),Ju(u,Xu.DEFAULT,"POST",A.toString(),"text/plain")},t.assignAutoPages=function(){for(var e,t=0,n=_(this.spine);!(e=n()).done;){var u=e.value,i=this.prePaginated?1:Math.ceil(u.compressedSize/1024);u.epage=t,u.epageCount=i,t+=i}this.epageCount=t,this.epageCountCallback&&this.epageCountCallback(this.epageCount)},t.setEPageCountMode=function(e){this.epageIsRenderedPage=e||this.prePaginated},t.countEPages=function(e){var t=this;if(this.epageCountCallback=e,this.epageIsRenderedPage)return this.prePaginated&&0==this.epageCount&&this.assignAutoPages(),Iu(!0);var n=0,u=0,i=ku("countEPages");return i.loopWithFrame((function(e){if(u!==t.spine.length){var i=t.spine[u++];i.epage=n,t.store.load(i.src).then((function(u){var r=1800,o=u.lang||t.lang;o&&o.match(/^(ja|ko|zh)/)&&(r/=3),i.epageCount=Math.ceil(u.getTotalOffset()/r),t.epageCount=n+=i.epageCount,t.epageCountCallback&&t.epageCountCallback(t.epageCount),e.continueLoop()}))}else e.breakLoop()})).thenFinish(i),i.result()},t.initWithChapters=function(e,t){var n=this;this.itemMap={},this.itemMapByPath={},this.items=[],this.spine=this.items;var u=this.opfXML=new uh(null,"",(new DOMParser).parseFromString("<spine></spine>","text/xml"));return e.forEach((function(e){var t=new mh;t.initWithParam(e);var i=u.document.createElement("itemref");i.setAttribute("idref",t.id),u.root.appendChild(i),t.itemRefElement=i,n.itemMap[t.id]=t;var r=n.getPathFromURL(e.url);null==r&&(r=e.url),n.itemMapByPath[r]=t,n.items.push(t)})),t?this.store.addDocument(e[0].url,t):Iu(null)},t.initWithWebPubManifest=function(e,t,n){var u,i,r,o,a=this;e.readingProgression&&(this.pageProgression=e.readingProgression),void 0===this.metadata&&(this.metadata={});var s=e.name||(null==(u=e.metadata)?void 0:u.title)||(null==t?void 0:t.title);s&&(this.metadata[bh.title]=(Array.isArray(s)?s:[s]).map((function(e){var t;return{v:null!=(t=e.value)?t:e}})));var l=e.author||e.creator||(null==(i=e.metadata)?void 0:i.author)||Array.from(null!=(r=null==t?void 0:t.querySelectorAll("meta[name='author'], meta[name='DC.Creator']"))?r:[]).map((function(e){return e.content}));l&&0!==l.length&&(this.metadata[bh.creator]=(Array.isArray(l)?l:[l]).map((function(e){var t;return{v:null!=(t=e.name)?t:e}})));var c=e.inLanguage||(null==(o=e.metadata)?void 0:o.language)||(null==t?void 0:t.documentElement.lang)||(null==t?void 0:t.documentElement.getAttribute("xml:lang"));c&&(this.metadata[bh.language]=(Array.isArray(c)?c:[c]).map((function(e){return{v:e}})));var D=this.getPathFromURL(this.pubURL);if(!e.readingOrder&&t&&null!==D){e.readingOrder=[encodeURI(D)];for(var h,f=_(t.querySelectorAll("[role=doc-toc] a[href],[role=directory] a[href],nav li a[href],.toc a[href],#toc a[href]"));!(h=f()).done;){var d=h.value.getAttribute("href");if(!/^(https?:)?\/\//.test(d)&&!/\.(jpe?g|png|gif|pdf|svg|mml)([#?]|$)/.test(d)){var p=V($(d,this.pubURL)),E=this.getPathFromURL(p),C=null!==E?encodeURI(E):p;-1==e.readingOrder.indexOf(C)&&e.readingOrder.push(C)}}}var g=[],F=0,v=-1;[e.readingOrder,e.resources].forEach((function(t){t instanceof Array&&t.forEach((function(t){var u=e.readingOrder.includes(t),i="string"==typeof t?t:t.url||t.href,r="string"==typeof t?"":t.encodingFormat||t.href&&t.type||"";if(u||"text/html"===r||"application/xhtml+xml"===r||/(^|\/)([^/]+\.(x?html|htm|xht)|[^/.]*)([#?]|$)/.test(i)){var o=n?n.replace(/\/[^/]+$/,"/"):a.pubURL,s={url:$(q(i),o),index:F++,startPage:null,skipPagesBefore:null};"contents"===t.rel&&-1===v&&(v=s.index),g.push(s)}}))}));var m=ku("initWithWebPubManifest");return this.initWithChapters(g).then((function(){var e;-1!==v&&(a.xhtmlToc=a.items[v]),a.xhtmlToc||(a.xhtmlToc=n?null==(e=a.items)?void 0:e[0]:a.itemMapByPath[D]),m.finish(!0)})),m.result()},t.getCFI=function(e,t){var n=this.spine[e],u=ku("getCFI");return this.store.load(n.src).then((function(e){var i=e.getNodeByOffset(t),r=null;if(i){var o=e.getNodeOffset(i,0,!1),a=t-o,s=new Se;s.prependPathFromNode(i,a,!1,null),n.itemRefElement&&s.prependPathFromNode(n.itemRefElement,0,!1,null),r=s.toString()}u.finish(r)})),u.result()},t.resolveFragment=function(e){var t=this;return Pu("resolveFragment",(function(n){if(e){var u,i=new Se;if(i.fromString(e),t.opfXML){var r=i.navigate(t.opfXML.document);if(1!=r.node.nodeType||r.after||!r.ref)return void n.finish(null);var o=r.node,a=o.getAttribute("idref");if("itemref"!=o.localName||!a||!t.itemMap[a])return void n.finish(null);u=t.itemMap[a],i=r.ref}else u=t.spine[0];t.store.load(u.src).then((function(e){var t=i.navigate(e.document),r=e.getNodeOffset(t.node,t.offset,t.after);n.finish({spineIndex:u.spineIndex,offsetInItem:r,pageIndex:-1})}))}else n.finish(null)}),(function(t,n){f.warn(n,"Cannot resolve fragment:",e),t.finish(null)}))},t.resolveEPage=function(e){var t=this;return Pu("resolveEPage",(function(n){if(e<=0)n.finish({spineIndex:0,offsetInItem:0,pageIndex:-1});else if(t.epageIsRenderedPage){var u=t.spine.findIndex((function(t){return 0==t.epage&&0==t.epageCount||t.epage<=e&&t.epage+t.epageCount>e}));-1==u&&(u=t.spine.length-1);var i=t.spine[u];i&&0!=i.epageCount||(i=t.spine[--u]);var r=Math.floor(e-i.epage);n.finish({spineIndex:u,offsetInItem:-1,pageIndex:r})}else{var o=he(t.spine.length,(function(n){var u=t.spine[n];return u.epage+u.epageCount>e}));o==t.spine.length&&o--;var a=t.spine[o];t.store.load(a.src).then((function(t){(e-=a.epage)>a.epageCount&&(e=a.epageCount);var u=0;if(e>0){var i=t.getTotalOffset();(u=Math.round(i*e/a.epageCount))==i&&u--}n.finish({spineIndex:o,offsetInItem:u,pageIndex:-1})}))}}),(function(t,n){f.warn(n,"Cannot resolve epage:",e),t.finish(null)}))},t.getEPageFromPosition=function(e){var t=this.spine[e.spineIndex];if(this.epageIsRenderedPage)return Iu(t.epage+e.pageIndex);if(e.offsetInItem<=0)return Iu(t.epage);var n=ku("getEPage");return this.store.load(t.src).then((function(u){var i=u.getTotalOffset(),r=Math.min(i,e.offsetInItem);n.finish(t.epage+r*t.epageCount/i)})),n.result()},e}(),kh=function(e,t){return{page:e,position:{spineIndex:e.spineIndex,pageIndex:t,offsetInItem:e.offset}}},Ih=function(){function e(e,t,n,u,i){this.opf=void 0,this.viewport=void 0,this.fontMapper=void 0,this.pageSheetSizeReporter=void 0,this.spineItems=[],this.spineItemLoadingContinuations=[],this.pref=void 0,this.clientLayout=void 0,this.counterStore=void 0,this.tocAutohide=!1,this.tocView=void 0,this.opf=e,this.viewport=t,this.fontMapper=n,this.pageSheetSizeReporter=i,this.pref=Ne(u),this.clientLayout=new th(t),this.counterStore=new Wn(e.documentURLTransformer)}var n=e.prototype;return n.getPage=function(e){var t=this.spineItems[e.spineIndex];return t?t.pages[e.pageIndex]:null},n.getCurrentPageProgression=function(e){if(this.opf.pageProgression)return this.opf.pageProgression;var t=this.spineItems[e?e.spineIndex:0];return t?t.instance.pageProgression:null},n.finishPageContainer=function(e,t,n){t.container.style.display="none",t.container.style.visibility="visible",t.container.style.position="",t.container.style.top="",t.container.style.left="",t.container.setAttribute("data-vivliostyle-page-side",t.side);var u=e.pages[n];if(t.isFirstPage=0==e.item.spineIndex&&0==n,e.pages[n]=t,this.opf.epageIsRenderedPage){if(0==n&&e.item.spineIndex>0){var i=this.opf.spine[e.item.spineIndex-1];e.item.epage=i.epage+i.epageCount}e.item.epageCount=e.pages.length,this.opf.epageCount=this.opf.spine.reduce((function(e,t){return e+t.epageCount}),0),this.opf.epageCountCallback&&this.opf.epageCountCallback(this.opf.epageCount)}if(u)e.instance.viewport.contentContainer.replaceChild(t.container,u.container),u.dispatchEvent({type:"replaced",target:null,currentTarget:null,preventDefault:null,newPage:t});else{var r=null;if(n>0)r=e.pages[n-1].container.nextElementSibling;else for(var o=e.item.spineIndex+1;o<this.spineItems.length;o++){var a=this.spineItems[o];if(a&&a.pages[0]){r=a.pages[0].container;break}}e.instance.viewport.contentContainer.insertBefore(t.container,r)}this.pageSheetSizeReporter({width:e.instance.pageSheetWidth,height:e.instance.pageSheetHeight},e.instance.pageSheetSize,e.item.spineIndex,e.instance.pageNumberOffset+n)},n.renderSinglePage=function(e,t){var n=this,u=ku("renderSinglePage"),i=this.makePage(e,t);return e.instance.layoutNextPage(i,t).then((function(r){var o=(t=r)?t.page-1:e.layoutPositions.length-1;n.finishPageContainer(e,i,o),n.counterStore.finishPage(i.spineIndex,o);var a=null;if(t){var s=e.layoutPositions[t.page];e.layoutPositions[t.page]=t,s&&e.pages[t.page]&&(t.isSamePosition(s)||(a=n.renderSinglePage(e,t)))}a||(a=Iu(!0)),a.then((function(){var r=n.counterStore.getUnresolvedRefsToPage(i),a=0;u.loopWithFrame((function(e){if(++a>r.length)e.breakLoop();else{var t=r[a-1];t.refs=t.refs.filter((function(e){return!e.isResolved()})),0!==t.refs.length?n.getPageViewItem(t.spineIndex).then((function(u){u?(n.counterStore.pushPageCounters(t.pageCounters),n.counterStore.pushReferencesToSolve(t.refs),n.renderSinglePage(u,u.layoutPositions[t.pageIndex]).then((function(t){n.counterStore.popPageCounters(),n.counterStore.popReferencesToSolve();var u=t.pageAndPosition.position;u.spineIndex===i.spineIndex&&u.pageIndex===o&&(i=t.pageAndPosition.page),e.continueLoop()}))):e.continueLoop()})):e.continueLoop()}})).then((function(){i.container.parentElement||(i=e.pages[o]),i.isLastPage=!t&&e.item.spineIndex===n.opf.spine.length-1,i.isLastPage&&n.counterStore.finishLastPage(n.viewport),u.finish({pageAndPosition:kh(i,o),nextLayoutPosition:t})}))}))})),u.result()},n.normalizeSeekPosition=function(e,t){var n=e.pageIndex,u=-1;if(n<0){u=e.offsetInItem;var i=he(t.layoutPositions.length,(function(e){return t.instance.getPosition(t.layoutPositions[e],!0)>u}));n=i===t.layoutPositions.length?t.complete?t.layoutPositions.length-1:Number.POSITIVE_INFINITY:i-1}else n===Number.POSITIVE_INFINITY&&-1!==e.offsetInItem&&(u=e.offsetInItem);return{spineIndex:e.spineIndex,pageIndex:n,offsetInItem:u}},n.findPage=function(e,t){var n=this,u=ku("findPage");return this.getPageViewItem(e.spineIndex).then((function(i){if(i){var r,o=null;u.loopWithFrame((function(a){var s=n.normalizeSeekPosition(e,i);(o=i.pages[r=s.pageIndex])?a.breakLoop():i.complete?(o=i.pages[r=i.layoutPositions.length-1],a.breakLoop()):t?n.renderPage(s).then((function(e){e&&(o=e.page,r=e.position.pageIndex),a.breakLoop()})):u.sleep(100).then((function(){a.continueLoop()}))})).then((function(){u.finish(kh(o,r))}))}else u.finish(null)})),u.result()},n.renderPage=function(e){var t=this,n=ku("renderPage");return this.getPageViewItem(e.spineIndex).then((function(u){if(u){var i=t.normalizeSeekPosition(e,u),r=i.pageIndex,o=i.offsetInItem,a=u.pages[r];a?n.finish(kh(a,r)):n.loopWithFrame((function(e){if(r<u.layoutPositions.length)e.breakLoop();else{if(u.complete)return r=u.layoutPositions.length-1,void e.breakLoop();var n=u.layoutPositions[u.layoutPositions.length-1];t.renderSinglePage(u,n).then((function(t){var i=t.pageAndPosition.page;if(n=t.nextLayoutPosition){if(o>=0&&u.instance.getPosition(n)>o)return a=i,r=u.layoutPositions.length-2,void e.breakLoop();e.continueLoop()}else a=i,r=t.pageAndPosition.position.pageIndex,u.complete=!0,e.breakLoop()}))}})).then((function(){var e=u.layoutPositions[r];(a=a||u.pages[r])?n.finish(kh(a,r)):t.renderSinglePage(u,e).then((function(e){e.nextLayoutPosition||(u.complete=!0),n.finish(e.pageAndPosition)}))}))}else n.finish(null)})),n.result()},n.renderAllPages=function(){return this.renderPagesUpto({spineIndex:this.opf.spine.length-1,pageIndex:Number.POSITIVE_INFINITY,offsetInItem:-1},!1)},n.renderPagesUpto=function(e,t){var n=this,u=ku("renderPagesUpto");e||(e={spineIndex:0,pageIndex:0,offsetInItem:0});var i,r=e.spineIndex,o=e.pageIndex,a=0;return t&&(a=r),u.loopWithFrame((function(t){n.renderPage({spineIndex:a,pageIndex:a===r?o:Number.POSITIVE_INFINITY,offsetInItem:a===r?e.offsetInItem:-1}).then((function(e){i=e,++a>r?t.breakLoop():t.continueLoop()}))})).then((function(){u.finish(i)})),u.result()},n.firstPage=function(e,t){return this.findPage({spineIndex:0,pageIndex:0,offsetInItem:-1},t)},n.lastPage=function(e,t){return this.findPage({spineIndex:this.opf.spine.length-1,pageIndex:Number.POSITIVE_INFINITY,offsetInItem:-1},t)},n.nextPage=function(e,t){var n=this,u=e.spineIndex,i=e.pageIndex,r=ku("nextPage");return this.getPageViewItem(u).then((function(e){if(e){if(e.complete&&i==e.layoutPositions.length-1){if(u>=n.opf.spine.length-1)return void r.finish(null);u++,i=0;var o=n.spineItems[u],a=o&&o.pages[0],s=e.pages[e.pages.length-1];a&&s&&a.side==s.side&&(o.pages.forEach((function(e){e.container&&e.container.remove()})),n.spineItems[u]=null,n.spineItemLoadingContinuations[u]=null)}else i++;n.findPage({spineIndex:u,pageIndex:i,offsetInItem:-1},t).thenFinish(r)}else r.finish(null)})),r.result()},n.previousPage=function(e,t){var n=e.spineIndex,u=e.pageIndex;if(0==u){if(0==n)return Iu(null);n--,u=Number.POSITIVE_INFINITY}else u--;return this.findPage({spineIndex:n,pageIndex:u,offsetInItem:-1},t)},n.isRectoPage=function(e,n){var u=e.side===t.Bf.LEFT,i=this.getCurrentPageProgression(n)===t.bX.LTR;return!u&&i||u&&!i},n.getSpread=function(e,n){var u=this,i=this.getPage(e);if(!i)return Iu({left:null,right:null});var r=ku("getSpread"),o=i.side===t.Bf.LEFT;return(this.isRectoPage(i,e)?this.previousPage(e,n):this.nextPage(e,n)).then((function(t){var n=u.getPage(e),i=t&&t.page;i&&i.side===n.side&&(i=null),r.finish(o?{left:n,right:i}:{left:i,right:n})})),r.result()},n.nextSpread=function(e,t){var n=this,u=this.getPage(e);if(!u)return Iu(null);var i=this.isRectoPage(u,e),r=this.nextPage(e,t);return i?r:r.thenAsync((function(e){if(e){if(e.page.side===u.side)return r;var i=n.nextPage(e.position,t);return i.thenAsync((function(e){return e?i:r}))}return Iu(null)}))},n.previousSpread=function(e,t){var n=this,u=this.getPage(e);if(!u)return Iu(null);var i=this.isRectoPage(u,e),r=this.previousPage(e,t),o=u.container.previousElementSibling;return i?r.thenAsync((function(e){return e?e.page.side===u.side||e.page.container!==o?r:n.previousPage(e.position,t):Iu(null)})):r},n.navigateToEPage=function(e,t,n){var u=this,i=ku("navigateToEPage");return this.opf.resolveEPage(e).then((function(e){e?u.findPage(e,n).thenFinish(i):i.finish(null)})),i.result()},n.navigateToFragment=function(e,t,n){var u=this,i=ku("navigateToCFI");return this.opf.resolveFragment(e).then((function(e){e?u.findPage(e,n).thenFinish(i):i.finish(null)})),i.result()},n.navigateTo=function(e,t,n){var u=this;f.debug("Navigate to",e);var i=this.opf.getPathFromURL(V(e));if(!i){if(this.opf.opfXML&&e.match(/^#epubcfi\(/))i=this.opf.getPathFromURL(this.opf.opfXML.url);else if("#"===e.charAt(0)){var r=this.opf.documentURLTransformer.restoreURL(e);this.opf.opfXML?null==(i=this.opf.getPathFromURL(r[0]))&&(i=r[0]):i=r[0],e=r[0]+(r[1]?"#"+r[1]:"")}if(null==i)return Iu(null)}var o=this.opf.itemMapByPath[i];if(!o){if(this.opf.opfXML&&i==this.opf.getPathFromURL(this.opf.opfXML.url)){var a=e.indexOf("#");if(a>=0)return this.navigateToFragment(e.substr(a+1),t,n)}return Iu(null)}var s=ku("navigateTo");return this.getPageViewItem(o.spineIndex).then((function(t){if(t){var i=t.xmldoc.getElement(e);u.findPage({spineIndex:o.spineIndex,pageIndex:-1,offsetInItem:i?t.xmldoc.getElementOffset(i):0},n).thenFinish(s)}else s.finish(null)})),s.result()},n.makePage=function(e,n){var u=e.instance.viewport,i=u.document.createElement("div");i.setAttribute("data-vivliostyle-page-container","true"),i.setAttribute("role","region"),i.style.position="absolute",i.style.top="0",i.style.left="0",t.L1||(i.style.visibility="hidden"),u.layoutBox.appendChild(i);var r=u.document.createElement("div");r.setAttribute("data-vivliostyle-bleed-box","true"),i.appendChild(r);var o=new Ki(i,r);if(o.spineIndex=e.item.spineIndex,o.position=n,o.offset=e.instance.getPosition(n),0===o.offset&&(!e.instance.blankPageAtStart||0!==e.pages.length)){var a=this.opf.documentURLTransformer.transformFragment("",e.item.src);r.setAttribute("id",a),o.registerElementWithId(r,a)}if(u!==this.viewport){var s=ke(this.viewport.width,this.viewport.height,u.width,u.height),l=Ti(null,new Su(s,null),"");o.delayedItems.push(new $i(i,"transform",l))}return o},n.makeObjectView=function(e,t,n,u){var i=t.getAttribute("data"),r=null;if(i){i=$(i,e.url);var o=t.getAttribute("media-type");if(!o){var a=this.opf.getPathFromURL(i);if(a){var s=this.opf.itemMapByPath[a];s&&(o=s.mediaType)}}if(o){var l=this.opf.bindings[o];if(l){(r=this.viewport.document.createElement("iframe")).style.border="none";var c=se(i),D=se(o),h=new ie;h.append(l),h.append("?src="),h.append(c),h.append("&type="),h.append(D);for(var f=t.firstChild;f;f=f.nextSibling)if(1==f.nodeType){var d=f;if("param"==d.localName&&d.namespaceURI==W.XHTML){var p=d.getAttribute("name"),E=d.getAttribute("value");p&&E&&(h.append("&"),h.append(encodeURIComponent(p)),h.append("="),h.append(encodeURIComponent(E)))}}r.setAttribute("src",h.toString());var C=t.getAttribute("width");C&&r.setAttribute("width",C);var g=t.getAttribute("height");g&&r.setAttribute("height",g)}}}return r||(r=this.viewport.document.createElement("object"),i&&r.setAttribute("data",i),r.setAttribute("data-adapt-process-children","true")),Iu(r)},n.makeMathJaxView=function(e,t,n,u){var i=Sh();if(i){var r=n.ownerDocument,o=r.createElement("span");n.appendChild(o);var a=r.importNode(t,!0);this.resolveURLsInMathML(a,e),o.appendChild(a);var s=i.queue;s.Push(["Typeset",i,o]);var l=ku("makeMathJaxView"),c=l.suspend();return s.Push((function(){c.schedule(o)})),l.result()}return Iu(null)},n.resolveURLsInMathML=function(e,t){if(null!=e){if(1===e.nodeType&&"mglyph"===e.tagName)for(var n=0,u=Array.from(e.attributes);n<u.length;n++){var i=u[n];if("src"===i.name){var r=$(i.nodeValue,t.url);i.namespaceURI?e.setAttributeNS(i.namespaceURI,i.name,r):e.setAttribute(i.name,r)}}e.firstChild&&this.resolveURLsInMathML(e.firstChild,t),e.nextSibling&&this.resolveURLsInMathML(e.nextSibling,t)}},n.makeCustomRenderer=function(e){var t=this;return function(n,u,i){return"object"==n.localName&&n.namespaceURI==W.XHTML?t.makeObjectView(e,n,u,i):n.namespaceURI==W.MATHML||n.dataset&&"true"==n.dataset.mathTypeset?t.makeMathJaxView(e,n,u,i):Iu(null)}},n.getPageViewItem=function(e){var t=this;if(-1===e||e>=this.opf.spine.length)return Iu(null);var n=this.spineItems[e];if(n)return Iu(n);var u=ku("getPageViewItem"),i=this.spineItemLoadingContinuations[e];if(i){var r=u.suspend();return i.push(r),u.result()}i=this.spineItemLoadingContinuations[e]=[];var o=this.opf.spine[e],a=this.opf.store;return a.load(o.src).then((function(r){var s,l=o.itemRefElement.getAttribute("properties");l&&r.root.setAttribute("data-vivliostyle-epub-spine-properties",l),o.title=r.document.title;var c=a.getStyleForDoc(r),D=t.makeCustomRenderer(r),h=t.viewport,f=c.sizeViewport(h.width,h.height,h.fontSize,t.pref);f.width==h.width&&f.height==h.height&&f.fontSize==h.fontSize||(h=new nh(h.window,f.fontSize,h.pixelRatio,h.root,f.width,f.height));var d,p,E=null==(s=t.spineItems[0])?void 0:s.instance.isVersoFirstPage,C=t.spineItems[e-1];if(null!==o.startPage)p=d=o.startPage-1;else{if(!(e>0)||C&&C.complete){d=C?C.instance.pageNumberOffset+C.pages.length:0;var g=t.counterStore.currentPageCounters.page;p=g&&g.length?g[g.length-1]:d}else d=o.epage||e,t.opf.prePaginated||d%2!=(E?1:0)||d++,p=d;null!==o.skipPagesBefore&&(d+=o.skipPagesBefore,p+=o.skipPagesBefore)}t.counterStore.forceSetPageCounter(p);var F=new ch(c,r,t.opf.lang,h,t.clientLayout,t.fontMapper,D,t.opf.fallbackMap,d,t.opf.documentURLTransformer,t.counterStore,t.opf.pageProgression,E);F.pref=t.pref;var v=t.opf.metadata&&t.opf.metadata[bh.title];F.pubTitle=v&&v[0]&&v[0].v||"",F.docTitle=o.title||"",F.init().then((function(){t.spineItems[e]=n={item:o,xmldoc:r,instance:F,layoutPositions:[null],pages:[],complete:!1},u.finish(n),i.forEach((function(e){e.schedule(n)}))}))})),u.result()},n.removeRenderedPages=function(){for(var e,t=_(this.spineItems);!(e=t()).done;){var n=e.value;n&&n.pages.splice(0)}this.viewport.clear()},n.hasAutoSizedPages=function(){for(var e,t=_(this.spineItems);!(e=t()).done;){var n=e.value;if(n)for(var u,i=_(n.pages);!(u=i()).done;){var r=u.value;if(r.isAutoPageWidth&&r.isAutoPageHeight)return!0}}return!1},n.hasPages=function(){return this.spineItems.some((function(e){return e&&e.pages.length>0}))},n.showTOC=function(e){var t=this.opf,n=t.xhtmlToc||t.ncxToc;if(this.tocAutohide=e,!n)return Iu(null);if(this.tocView&&this.tocView.page)return this.tocView.page.container.style.visibility="visible",this.tocView.page.container.setAttribute("aria-hidden","false"),Iu(this.tocView.page);var u=ku("showTOC");this.tocView||(this.tocView=new gh(t.store,n.src,t.lang,this.clientLayout,this.fontMapper,this.pref,this,t.fallbackMap,t.documentURLTransformer,this.counterStore));var i=this.viewport,r=Math.min(350,Math.round(.67*i.width)-16),o=i.height-6,a=i.document.createElement("div");return i.root.appendChild(a),a.style.visibility="hidden",a.style.width=r+10+"px",a.style.maxHeight=o+"px",a.setAttribute("data-vivliostyle-toc-box","true"),a.setAttribute("role","navigation"),this.tocView.showTOC(a,i,r,o,this.viewport.fontSize).then((function(e){a.style.visibility="visible",a.setAttribute("aria-hidden","false"),u.finish(e)})),u.result()},n.hideTOC=function(){this.tocView&&this.tocView.hideTOC()},n.isTOCVisible=function(){return!!this.tocView&&this.tocView.isTOCVisible()},e}();!function(e){e.SINGLE_PAGE="singlePage",e.SPREAD="spread",e.AUTO_SPREAD="autoSpread"}(Nh||(Nh={}));var Ph,Rh=function(){function e(e,n,u,i){var r=this;this.window=void 0,this.viewportElement=void 0,this.instanceId=void 0,this.callbackFn=void 0,this.fontMapper=void 0,this.kick=void 0,this.sendCommand=void 0,this.resizeListener=void 0,this.hyperlinkListener=void 0,this.pageRuleStyleElement=void 0,this.pageSheetSizeAlreadySet=!1,this.renderTask=null,this.actions=void 0,this.readyState=void 0,this.packageURL=void 0,this.opf=void 0,this.haveZipMetadata=void 0,this.touchActive=void 0,this.touchX=void 0,this.touchY=void 0,this.needResize=void 0,this.resized=void 0,this.needRefresh=void 0,this.viewportSize=void 0,this.currentPage=void 0,this.currentSpread=void 0,this.pagePosition=void 0,this.fontSize=void 0,this.zoom=void 0,this.fitToScreen=void 0,this.pageViewMode=void 0,this.waitForLoading=void 0,this.renderAllPages=void 0,this.pref=void 0,this.pageSizes=void 0,this.pixelRatio=void 0,this.pixelRatioLimit=void 0,this.viewport=void 0,this.opfView=void 0,this.window=e,this.viewportElement=n,this.instanceId=u,this.callbackFn=i;var o=n.ownerDocument,a=function(e,t){var n=o.getElementById(e);return n||((n=o.createElement("style")).id=e,t&&(n.textContent=t),o.head.appendChild(n)),n};a("vivliostyle-viewport-screen-css",ju),a("vivliostyle-viewport-css",$u),a("vivliostyle-polyfill-css",Zu),n.setAttribute("data-vivliostyle-viewer-viewport",!0),t.L1&&n.setAttribute("data-vivliostyle-debug",!0),n.setAttribute("data-vivliostyle-viewer-status","loading"),this.fontMapper=new Ic(o.head,n),this.init(),this.kick=function(){},this.sendCommand=function(){},this.resizeListener=function(){r.needResize=!0,r.resized=!0,r.kick()},this.pageReplacedListener=this.pageReplacedListener.bind(this),this.hyperlinkListener=function(e){},this.pageRuleStyleElement=a("vivliostyle-page-rules"),this.actions={loadPublication:this.loadPublication,loadXML:this.loadXML,configure:this.configure,moveTo:this.moveTo,toc:this.showTOC},this.addLogListeners()}var n=e.prototype;return n.init=function(){this.readyState=t.kQ.LOADING,this.packageURL=[],this.opf=null,this.haveZipMetadata=!1,this.touchActive=!1,this.touchX=0,this.touchY=0,this.needResize=!1,this.resized=!1,this.needRefresh=!1,this.viewportSize=null,this.currentPage=null,this.currentSpread=null,this.pagePosition=null,this.fontSize=16,this.zoom=1,this.fitToScreen=!1,this.pageViewMode=Nh.SINGLE_PAGE,this.waitForLoading=!1,this.renderAllPages=!0,this.pref={fontFamily:"serif",lineHeight:1.25,margin:8,hyphenate:!1,columnWidth:25,horizontal:!1,nightMode:!1,spreadView:!1,pageBorder:1,enabledMediaTypes:{vivliostyle:!0,print:!0},defaultPaperSize:void 0},this.pageSizes=[],this.pixelRatioLimit=/Chrome\/(?!.*Edg\/)/.test(navigator.userAgent)?16:0,this.pixelRatio=Math.min(8,this.pixelRatioLimit)},n.addLogListeners=function(){var e=this,t=o;f.addListener(t.DEBUG,(function(t){e.callback({t:"debug",content:t})})),f.addListener(t.INFO,(function(t){e.callback({t:"info",content:t})})),f.addListener(t.WARN,(function(t){e.callback({t:"warn",content:t})})),f.addListener(t.ERROR,(function(t){e.callback({t:"error",content:t})}))},n.callback=function(e){e.i=this.instanceId,this.callbackFn(e)},n.setReadyState=function(e){this.readyState!==e&&(this.readyState=e,this.viewportElement.setAttribute("data-vivliostyle-viewer-status",e),this.callback({t:"readystatechange"}))},n.loadPublication=function(e){var n=this;b.registerStartTiming("beforeRender"),this.setReadyState(t.kQ.LOADING);var u=e.url,i=e.fragment,r=!!e.zipmeta,o=e.authorStyleSheet,a=e.userStyleSheet;this.viewport=null;var s=ku("loadPublication");return this.configure(e).then((function(){var e=new vh;e.init(o,a).then((function(){var t=$(q(u),n.window.location.href);n.packageURL=[t],e.loadPubDoc(t,r).then((function(e){e?(n.opf=e,n.render(i).then((function(){s.finish(!0)}))):s.finish(!1)}))}))})),s.result()},n.loadXML=function(e){var n=this;b.registerStartTiming("beforeRender"),this.setReadyState(t.kQ.LOADING);var u=e.url,i=e.document,r=e.fragment,o=e.authorStyleSheet,a=e.userStyleSheet;this.viewport=null;var s=ku("loadXML");return this.configure(e).then((function(){var e=new vh;e.init(o,a).then((function(){var t=u.map((function(e,t){return{url:$(q(e.url),n.window.location.href),index:t,startPage:e.startPage,skipPagesBefore:e.skipPagesBefore}}));n.packageURL=t.map((function(e){return e.url})),n.opf=new Th(e,""),n.opf.initWithChapters(t,i).then((function(){n.render(r).then((function(){s.finish(!0)}))}))}))})),s.result()},n.render=function(e){var t=this;return this.cancelRenderingTask(),(e?this.opf.resolveFragment(e).thenAsync((function(e){return t.pagePosition=e,Iu(!0)})):Iu(!0)).thenAsync((function(){return b.registerEndTiming("beforeRender"),t.resize()}))},n.resolveLength=function(e){var t,n=parseFloat(e);if("string"==typeof e&&(t=e.match(/[a-z]+$/))){var u=t[0];if("em"===u||"rem"===u)return n*this.fontSize;if("ex"===u)return n*Me.ex*this.fontSize/Me.em;var i=Me[u];if(i)return n*i}return n},n.configure=function(e){if("boolean"==typeof e.autoresize&&(e.autoresize?(this.viewportSize=null,this.window.addEventListener("resize",this.resizeListener,!1),this.needResize=!0):this.window.removeEventListener("resize",this.resizeListener,!1)),"number"==typeof e.fontSize){var t=e.fontSize;t>=5&&t<=72&&this.fontSize!=t&&(this.fontSize=t,this.needResize=!0)}if("object"==typeof e.viewport&&e.viewport){var n=e.viewport,u={marginLeft:this.resolveLength(n["margin-left"])||0,marginRight:this.resolveLength(n["margin-right"])||0,marginTop:this.resolveLength(n["margin-top"])||0,marginBottom:this.resolveLength(n["margin-bottom"])||0,width:this.resolveLength(n.width)||0,height:this.resolveLength(n.height)||0};(u.width>=200||u.height>=200)&&(this.window.removeEventListener("resize",this.resizeListener,!1),this.viewportSize=u,this.needResize=!0)}if("boolean"==typeof e.hyphenate&&(this.pref.hyphenate=e.hyphenate,this.needResize=!0),"boolean"==typeof e.horizontal&&(this.pref.horizontal=e.horizontal,this.needResize=!0),"boolean"==typeof e.nightMode&&(this.pref.nightMode=e.nightMode,this.needResize=!0),"number"==typeof e.lineHeight&&(this.pref.lineHeight=e.lineHeight,this.needResize=!0),"number"==typeof e.columnWidth&&(this.pref.columnWidth=e.columnWidth,this.needResize=!0),"string"==typeof e.fontFamily&&(this.pref.fontFamily=e.fontFamily,this.needResize=!0),"boolean"==typeof e.load&&(this.waitForLoading=e.load),"boolean"==typeof e.renderAllPages&&(this.renderAllPages=e.renderAllPages),"string"==typeof e.userAgentRootURL&&(G(e.userAgentRootURL.replace(/resources\/?$/,"")),j(e.userAgentRootURL)),"string"==typeof e.rootURL&&(G(e.rootURL),j(H+"resources/")),"string"==typeof e.pageViewMode&&e.pageViewMode!==this.pageViewMode&&(this.pageViewMode=e.pageViewMode,this.needResize=!0),"number"==typeof e.pageBorder&&e.pageBorder!==this.pref.pageBorder&&(this.viewport=null,this.pref.pageBorder=e.pageBorder,this.needResize=!0),"number"==typeof e.zoom&&e.zoom!==this.zoom&&(this.zoom=e.zoom,this.needRefresh=!0),"boolean"==typeof e.fitToScreen&&e.fitToScreen!==this.fitToScreen&&(this.fitToScreen=e.fitToScreen,this.needRefresh=!0),"object"==typeof e.defaultPaperSize&&"number"==typeof e.defaultPaperSize.width&&"number"==typeof e.defaultPaperSize.height&&(this.viewport=null,this.pref.defaultPaperSize=e.defaultPaperSize,this.needResize=!0),"boolean"==typeof e.allowScripts&&e.allowScripts!==WD&&(WD=e.allowScripts,this.needResize=!0),"number"==typeof e.pixelRatio){var i=Math.min(e.pixelRatio,this.pixelRatioLimit);i!==this.pixelRatio&&(this.pixelRatio=i,this.needResize=!0)}return this.configurePlugins(e),Iu(!0)},n.configurePlugins=function(e){var n=this;C(t.cF.CONFIGURATION).forEach((function(t){var u=t(e);n.needResize=u.needResize||n.needResize,n.needRefresh=u.needRefresh||n.needRefresh}))},n.pageReplacedListener=function(e){var t=this.currentPage,n=this.currentSpread,u=e.target;n?n.left!==u&&n.right!==u||this.showCurrent(e.newPage):t===e.target&&this.showCurrent(e.newPage)},n.forCurrentPages=function(e){var t=[];this.currentPage&&t.push(this.currentPage),this.currentSpread&&(t.push(this.currentSpread.left),t.push(this.currentSpread.right)),t.forEach((function(t){t&&e(t)}))},n.removePageListeners=function(){var e=this;this.forCurrentPages((function(t){t.removeEventListener("hyperlink",e.hyperlinkListener,!1),t.removeEventListener("replaced",e.pageReplacedListener,!1)}))},n.hidePages=function(){this.removePageListeners(),this.forCurrentPages((function(e){te(e.container,"display","none")})),this.currentPage=null,this.currentSpread=null},n.showSinglePage=function(e){e.addEventListener("hyperlink",this.hyperlinkListener,!1),e.addEventListener("replaced",this.pageReplacedListener,!1),te(e.container,"visibility","visible"),te(e.container,"display","block")},n.showPage=function(e){this.hidePages(),this.currentPage=e,e.container.style.marginLeft="",e.container.style.marginRight="",this.showSinglePage(e)},n.showSpread=function(e){if(this.hidePages(),this.currentSpread=e,e.left&&e.right){var t=parseFloat(e.left.container.style.width),n=parseFloat(e.right.container.style.width);t&&n&&t!==n&&(t<n?e.left.container.style.marginLeft=n-t+"px":e.right.container.style.marginRight=t-n+"px")}e.left&&(this.showSinglePage(e.left),e.right?e.left.container.removeAttribute("data-vivliostyle-unpaired-page"):e.left.container.setAttribute("data-vivliostyle-unpaired-page",!0)),e.right&&(this.showSinglePage(e.right),e.left?e.right.container.removeAttribute("data-vivliostyle-unpaired-page"):e.right.container.setAttribute("data-vivliostyle-unpaired-page",!0))},n.reportPosition=function(){var e=this,t=ku("reportPosition");return this.opf.getCFI(this.pagePosition.spineIndex,this.pagePosition.offsetInItem).then((function(n){var u=e.currentPage;(e.waitForLoading&&u.fetchers.length>0?Gu(u.fetchers):Iu(!0)).then((function(){e.sendLocationNotification(u,n).thenFinish(t)}))})),t.result()},n.createViewport=function(){var e=this.viewportElement;if(this.viewportSize){var t=this.viewportSize;return e.style.marginLeft=t.marginLeft+"px",e.style.marginRight=t.marginRight+"px",e.style.marginTop=t.marginTop+"px",e.style.marginBottom=t.marginBottom+"px",new nh(this.window,this.fontSize,this.pixelRatio,e,t.width,t.height)}return new nh(this.window,this.fontSize,this.pixelRatio,e)},n.resolveSpreadView=function(e,t){switch(this.pageViewMode){case Nh.SINGLE_PAGE:return!1;case Nh.SPREAD:return!0;default:return(e.width-this.pref.pageBorder)/e.height>=(t?2*t.width/t.height:1.45)&&(!!t||e.width>800)}},n.updateSpreadView=function(e){this.pref.spreadView=e,this.viewportElement.setAttribute("data-vivliostyle-spread-view",e.toString())},n.sizeIsGood=function(){var e,t=this.createViewport(),n=(null==(e=this.opfView)?void 0:e.hasPages())&&!this.opfView.hasAutoSizedPages(),u=this.resolveSpreadView(t,this.resized&&n?this.pageSizes[0]:null);this.resized=!1;var i=this.pref.spreadView!==u;return this.updateSpreadView(u),!(this.viewportSize||!this.viewport||this.viewport.fontSize!=this.fontSize||(i||t.width!=this.viewport.width||t.height!=this.viewport.height)&&(i||t.width!=this.viewport.width||t.height==this.viewport.height||!/Android|iPhone|iPad|iPod/.test(navigator.userAgent))&&(!n||(this.viewport.width=t.width,this.viewport.height=t.height,this.needRefresh=!0,0)))},n.setPageSize=function(e,t,n,u){this.pageSizes[u]=e,this.setPageSizePageRules(t,n,u),0!==u||this.pageViewMode!==Nh.AUTO_SPREAD||this.opfView.hasAutoSizedPages()||this.updateSpreadView(this.resolveSpreadView(this.viewport,e))},n.setPageSizePageRules=function(e,t,n){var u,i;if(this.pageRuleStyleElement&&(!this.pageSheetSizeAlreadySet||this.pageSizes[n].width!==(null==(u=this.pageSizes[n-1])?void 0:u.width)||this.pageSizes[n].height!==(null==(i=this.pageSizes[n-1])?void 0:i.height))){var r=function(e){return Math.ceil(.75*e)},o=Math.max.apply(Math,this.pageSizes.map((function(e){return e.width}))),a=Math.max.apply(Math,this.pageSizes.map((function(e){return e.height}))),s=r(o),l=r(a);this.pageRuleStyleElement.textContent="@page {size: "+s+"pt "+l+"pt; margin: 0 "+-(s*((this.pixelRatio||1)-1)+2)+"pt "+-(l*((this.pixelRatio||1)-1)+2)+"pt 0;}",this.pageSheetSizeAlreadySet=!0}},n.removePageSizePageRules=function(){this.pageRuleStyleElement&&(this.pageRuleStyleElement.textContent="",this.pageSheetSizeAlreadySet=!1)},n.reset=function(){var e=!1,t=!1;this.opfView&&(e=this.opfView.isTOCVisible(),t=this.opfView.tocAutohide,this.opfView.hideTOC(),this.opfView.removeRenderedPages()),this.pageSizes=[],this.removePageSizePageRules(),this.viewport=this.createViewport(),this.viewport.resetZoom(),this.opfView=new Ih(this.opf,this.viewport,this.fontMapper,this.pref,this.setPageSize.bind(this)),e&&this.sendCommand({a:"toc",v:"show",autohide:t})},n.showCurrent=function(e,n){var u=this;return this.needRefresh=!1,this.removePageListeners(),this.pref.spreadView?this.opfView.getSpread(this.pagePosition,n).thenAsync((function(n){return n.left||n.right?(u.showSpread(n),u.setSpreadZoom(n),u.currentPage=e.side===t.Bf.LEFT?n.left:n.right,Iu(null)):Iu(null)})):(this.showPage(e),this.setPageZoom(e),this.currentPage=e,Iu(null))},n.setPageZoom=function(e){var t=this.getAdjustedZoomFactor(e.dimensions);this.viewport.zoom(e.dimensions.width,e.dimensions.height,t)},n.setSpreadZoom=function(e){var t=this.getSpreadDimensions(e);this.viewport.zoom(t.width,t.height,this.getAdjustedZoomFactor(t))},n.getAdjustedZoomFactor=function(e){return this.fitToScreen?this.calculateZoomFactorToFitInsideViewPort(e):this.zoom},n.getSpreadDimensions=function(e){var t=0,n=0;return e.left&&(t+=e.left.dimensions.width,n=e.left.dimensions.height),e.right&&(t+=e.right.dimensions.width,n=Math.max(n,e.right.dimensions.height)),e.left&&e.right&&(t+=2*this.pref.pageBorder,t+=Math.abs(e.left.dimensions.width-e.right.dimensions.width)),{width:t,height:n}},n.queryZoomFactor=function(e){if(!this.currentPage)throw new Error("no page exists.");var t;if(e===Ph.FIT_INSIDE_VIEWPORT)return t=this.pref.spreadView?this.getSpreadDimensions(this.currentSpread):this.currentPage.dimensions,this.calculateZoomFactorToFitInsideViewPort(t);throw new Error("unknown zoom type: "+e)},n.calculateZoomFactorToFitInsideViewPort=function(e){return Math.min(this.viewport.width/e.width,this.viewport.height/e.height)},n.cancelRenderingTask=function(){this.renderTask&&this.renderTask.interrupt(new Lh),this.renderTask=null},n.resize=function(){var e=this;if(this.needResize=!1,this.needRefresh=!1,this.sizeIsGood())return Iu(!0);this.setReadyState(t.kQ.LOADING),this.cancelRenderingTask();var n=Tu().getScheduler().run((function(){return Pu("resize",(function(u){e.opf?(e.renderTask=n,b.registerStartTiming("render (resize)"),e.reset(),e.pagePosition&&(0==e.pagePosition.pageIndex&&0==e.pagePosition.offsetInItem||(e.pagePosition.pageIndex=-1)),e.opf.setEPageCountMode(e.renderAllPages),e.opfView.renderPagesUpto(e.pagePosition,!e.renderAllPages).then((function(i){i?(e.pagePosition=i.position,e.showCurrent(i.page,!0).then((function(){e.setReadyState(t.kQ.INTERACTIVE),e.opf.countEPages((function(t){var n={t:"nav",epageCount:t,first:e.currentPage.isFirstPage,last:e.currentPage.isLastPage,metadata:e.opf.metadata,docTitle:e.opf.spine[e.pagePosition.spineIndex].title};(e.currentPage.isFirstPage||0==e.pagePosition.pageIndex&&e.opf.spine[e.pagePosition.spineIndex].epage)&&(n.epage=e.opf.spine[e.pagePosition.spineIndex].epage),e.callback(n)})).then((function(){e.reportPosition().then((function(i){(e.renderAllPages?e.opfView.renderAllPages():Iu(null)).then((function(){e.renderTask===n&&(e.renderTask=null),b.registerEndTiming("render (resize)"),WD&&YD(e.window)?function(e){if(!WD)return Iu(!1);var t=ku("loadScripts");return t.loop((function(){return 0===XD.length?Iu(!1):qD(XD.shift(),e,{atEnd:!0}).thenReturn(XD.length>0)})).then((function(){f.debug("dispatchEvent: DOMContentLoaded (window)"),e.dispatchEvent(new Event("DOMContentLoaded")),f.debug("dispatchEvent: load (window)"),e.dispatchEvent(new Event("load")),t.finish(!0)})),t.result()}(e.window).then((function(){e.renderAllPages&&e.setReadyState(t.kQ.COMPLETE),e.callback({t:"loaded"}),u.finish(i)})):(e.renderAllPages&&e.setReadyState(t.kQ.COMPLETE),e.callback({t:"loaded"}),u.finish(i))}))}))}))}))):u.finish(!1)}))):u.finish(!1)}),(function(e,t){if(!(t instanceof Lh))throw t;b.registerEndTiming("render (resize)"),f.debug(t.message)}))}));return Iu(!0)},n.sendLocationNotification=function(e,t){var n=this,u=ku("sendLocationNotification"),i={t:"nav",first:e.isFirstPage,last:e.isLastPage,metadata:this.opf.metadata,docTitle:this.opf.spine[e.spineIndex].title};return this.opf.getEPageFromPosition(this.pagePosition).then((function(e){i.epage=e,i.epageCount=n.opf.epageCount,t&&(i.cfi=t),n.callback(i),u.finish(!0)})),u.result()},n.getCurrentPageProgression=function(){return this.opfView?this.opfView.getCurrentPageProgression(this.pagePosition):null},n.moveTo=function(e){var n,u=this;if(this.readyState!==t.kQ.COMPLETE&&"next"!==e.where&&this.setReadyState(t.kQ.LOADING),"string"==typeof e.where){var i;switch(e.where){case"next":i=this.pref.spreadView?this.opfView.nextSpread:this.opfView.nextPage;break;case"previous":i=this.pref.spreadView?this.opfView.previousSpread:this.opfView.previousPage;break;case"last":i=this.opfView.lastPage;break;case"first":i=this.opfView.firstPage;break;default:return Iu(!0)}i&&(n=function(){return i.call(u.opfView,u.pagePosition,!u.renderAllPages)})}else if("number"==typeof e.epage){var r=e.epage;n=function(){return u.opfView.navigateToEPage(r,u.pagePosition,!u.renderAllPages)}}else{if("string"!=typeof e.url)return Iu(!0);var o=e.url;n=function(){return u.opfView.navigateTo(o,u.pagePosition,!u.renderAllPages)}}var a=ku("moveTo");return n.call(this.opfView).then((function(e){var n;if(e){u.pagePosition=e.position;var i=ku("moveTo.showCurrent");n=i.result(),u.showCurrent(e.page,!u.renderAllPages).then((function(){u.reportPosition().thenFinish(i)}))}else n=Iu(!0);n.then((function(e){u.readyState===t.kQ.LOADING&&u.setReadyState(t.kQ.INTERACTIVE),a.finish(e)}))})),a.result()},n.showTOC=function(e){var t=this,n=!!e.autohide,u=e.v,i=this.opfView.isTOCVisible(),r=n!=this.opfView.tocAutohide&&"hide"!=u;if(i){if("show"==u&&!r)return Iu(!0)}else if("hide"==u)return Iu(!0);if(i&&"show"!=u)return this.opfView.hideTOC(),Iu(!0);var o=ku("showTOC");return this.opfView.showTOC(n).then((function(e){e&&(r&&(e.listeners={}),n&&e.addEventListener("hyperlink",(function(){t.opfView.hideTOC()}),!1),e.addEventListener("hyperlink",t.hyperlinkListener,!1)),o.finish(!0)})),o.result()},n.runCommand=function(e){var t=this,n=e.a||"";return Pu("runCommand",(function(u){var i=t.actions[n];i?i.call(t,e).then((function(){t.callback({t:"done",a:n}),u.finish(!0)})):(f.error("No such action:",n),u.finish(!0))}),(function(e,t){f.error(t,"Error during action:",n),e.finish(!0)}))},n.initEmbed=function(e){var t,n=this,u=Oh(e),i=null,r=this;t=function(){var e=ku("commandLoop"),t=Tu().getScheduler();return r.hyperlinkListener=function(e){var n=e,u="#"===n.href.charAt(0)||r.packageURL.some((function(e){return n.href.substr(0,e.length)==e}));if(u){e.preventDefault();var i={t:"hyperlink",href:n.href,internal:u};t.run((function(){return r.callback(i),Iu(!0)}))}},e.loopWithFrame((function(e){if(r.needResize)r.resize().then((function(){e.continueLoop()}));else if(r.needRefresh)r.currentPage&&r.showCurrent(r.currentPage,!n.renderAllPages).then((function(){e.continueLoop()}));else if(u){var t=u;u=null,r.runCommand(t).then((function(){e.continueLoop()}))}else{var o=ku("waitForCommand");i=o.suspend(n),o.result().then((function(){e.continueLoop()}))}})).thenFinish(e),e.result()},(Nu?Nu.getScheduler():xu||new Lu(new Ru)).run(t,void 0),r.kick=function(){var e=i;e&&(i=null,e.schedule(!0))},r.sendCommand=function(e){return!u&&(u=Oh(e),r.kick(),!0)},this.window.adapt_command=r.sendCommand},e}();(Ph||(Ph={})).FIT_INSIDE_VIEWPORT="fit inside viewport";var Lh=function(e){function t(){var n;return(n=e.call(this)||this).name="RenderingCanceledError",n.message="Page rendering has been canceled",n.stack=void 0,Object.setPrototypeOf(L(n),t.prototype),n.stack=(new Error).stack,n}return x(t,e),t}(R(Error));function Oh(e){return"string"==typeof e?z(e):e}var _h=t.bX;function Mh(e){var t={};return Object.keys(e).forEach((function(n){var u=e[n];switch(n){case"autoResize":t.autoresize=u;break;case"pageBorderWidth":t.pageBorder=u;break;default:t[n]=u}})),t}var Uh,zh=function(){function e(e,t){this.settings=void 0,this.initialized=!1,this.adaptViewer_=void 0,this.options=void 0,this.eventTarget=void 0,this.readyState=void 0,this.settings=e,s(e.debug),this.adaptViewer_=new Rh(e.window||window,e.viewportElement,"main",this.dispatcher.bind(this)),this.options={autoResize:!0,fontSize:16,pageBorderWidth:1,renderAllPages:!0,pageViewMode:Nh.AUTO_SPREAD,zoom:1,fitToScreen:!1,defaultPaperSize:void 0,allowScripts:!0,pixelRatio:8},t&&this.setOptions(t),this.eventTarget=new Ee,Object.defineProperty(this,"readyState",{get:function(){return this.adaptViewer_.readyState}})}var n=e.prototype;return n.setOptions=function(e){var t=Object.assign({a:"configure"},Mh(e));this.adaptViewer_.sendCommand(t),Object.assign(this.options,e)},n.dispatcher=function(e){var t={type:e.t},n=e;Object.keys(n).forEach((function(e){"t"!==e&&(t[e]=n[e])})),this.eventTarget.dispatchEvent(t)},n.addListener=function(e,t){this.eventTarget.addEventListener(e,t,!1)},n.removeListener=function(e,t){this.eventTarget.removeEventListener(e,t,!1)},n.loadDocument=function(e,t,n){e||this.eventTarget.dispatchEvent({type:"error",content:"No URL specified"}),this.loadDocumentOrPublication(e,null,t,n)},n.loadPublication=function(e,t,n){e||this.eventTarget.dispatchEvent({type:"error",content:"No URL specified"}),this.loadDocumentOrPublication(null,e,t,n)},n.loadDocumentOrPublication=function(e,t,n,u){var i=n||{};function r(e){return e?e.map((function(e){return{url:e.url||null,text:e.text||null}})):void 0}var o=r(i.authorStyleSheet),a=r(i.userStyleSheet);u&&Object.assign(this.options,u);var s=Object.assign({a:e?"loadXML":"loadPublication",userAgentRootURL:this.settings.userAgentRootURL,url:Vh(e)||t,document:i.documentObject,fragment:i.fragment,authorStyleSheet:o,userStyleSheet:a},Mh(this.options));this.initialized?this.adaptViewer_.sendCommand(s):(this.initialized=!0,this.adaptViewer_.initEmbed(s))},n.getCurrentPageProgression=function(){return this.adaptViewer_.getCurrentPageProgression()},n.resolveNavigation=function(e){switch(e){case t.W_.LEFT:return this.getCurrentPageProgression()===_h.LTR?t.W_.PREVIOUS:t.W_.NEXT;case t.W_.RIGHT:return this.getCurrentPageProgression()===_h.LTR?t.W_.NEXT:t.W_.PREVIOUS;default:return e}},n.navigateToPage=function(e,n){e===t.W_.EPAGE?this.adaptViewer_.sendCommand({a:"moveTo",epage:n}):this.adaptViewer_.sendCommand({a:"moveTo",where:this.resolveNavigation(e)})},n.navigateToInternalUrl=function(e){this.adaptViewer_.sendCommand({a:"moveTo",url:e})},n.isTOCVisible=function(){return this.adaptViewer_.opfView&&this.adaptViewer_.opfView.opf&&(this.adaptViewer_.opfView.opf.xhtmlToc||this.adaptViewer_.opfView.opf.ncxToc)?!!this.adaptViewer_.opfView.isTOCVisible():null},n.showTOC=function(e,t){this.adaptViewer_.sendCommand({a:"toc",v:null==e?"toggle":e?"show":"hide",autohide:t})},n.queryZoomFactor=function(e){return this.adaptViewer_.queryZoomFactor(e)},n.getPageSizes=function(){return this.adaptViewer_.pageSizes},n.getTOC=function(){var e,t;return null==(e=this.adaptViewer_.opfView)||null==(t=e.tocView)?void 0:t.getTOC()},n.getMetadata=function(){return this.adaptViewer_.opf.getMetadata()},n.getCover=function(){return this.adaptViewer_.opf.cover},e}();function Vh(e){function t(e){return"number"==typeof e?e:null}function n(e){return"string"==typeof e?{url:e,startPage:null,skipPagesBefore:null}:{url:e.url,startPage:t(e.startPage),skipPagesBefore:t(e.skipPagesBefore)}}return Array.isArray(e)?e.map(n):e?[n(e)]:null}t.W_=void 0,(Uh=t.W_||(t.W_={})).PREVIOUS="previous",Uh.NEXT="next",Uh.LEFT="left",Uh.RIGHT="right",Uh.FIRST="first",Uh.LAST="last",Uh.EPAGE="epage";var Hh=Ph,Gh=Nh;b.forceRegisterEndTiming("load_vivliostyle");var Wh=function(){function e(e,t){var n=t.title,u=void 0===n?"":n,i=t.printCallback,r=void 0===i?function(e){return e.print()}:i,o=t.hideIframe,a=void 0===o||o,s=t.removeIframe,l=void 0===s||s;this.htmlDoc=void 0,this.title=void 0,this.printCallback=void 0,this.hideIframe=void 0,this.removeIframe=void 0,this.iframe=void 0,this.iframeWin=void 0,this.window=void 0,this.htmlDoc=e,this.title=u,this.printCallback=r,this.hideIframe=a,this.removeIframe=l}var t=e.prototype;return t.init=function(){this.iframe=document.createElement("iframe"),this.hideIframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this.iframe.style.borderWidth="0"),this.window=window,this.window.printInstance=this,this.iframe.srcdoc="\n      <!DOCTYPE html>\n      <html data-vivliostyle-paginated=\"true\">\n        <head>\n          <meta charset='utf-8'/>\n          <meta name='viewport' content='width=device-width, initial-scale=1.0'/>\n          <title>"+this.title+"</title>\n          <style>\n            html[data-vivliostyle-paginated] {\n              width: 100%;\n              height: 100%;\n            }\n            html[data-vivliostyle-paginated] body,\n            html[data-vivliostyle-paginated] [data-vivliostyle-viewer-viewport] {\n              width: 100% !important;\n              height: 100% !important;\n            }\n            html[data-vivliostyle-paginated],\n            html[data-vivliostyle-paginated] body {\n              margin: 0;\n              padding: 0;\n            }\n          </style>\n          <style id='vivliostyle-page-rules'></style>\n        </head>\n        <body onload='parent.printInstance.runInIframe(window)'>\n          <div id=\"vivliostyle-viewer-viewport\"></div>\n        </body>\n      </html>",document.body.appendChild(this.iframe)},t.runInIframe=function(e){var t=this;return this.iframeWin=e,this.preparePrint().then((function(){return t.browserPrint()})).then((function(){return t.cleanUp()}))},t.preparePrint=function(){this.iframeWin.document.title=this.title;var e=new Blob([this.htmlDoc],{type:"text/html"}),t=URL.createObjectURL(e),n=new zh({viewportElement:this.iframeWin.document.body.firstElementChild,window:this.iframeWin,debug:!0});return new Promise((function(e){n.addListener("readystatechange",(function(){"complete"===n.readyState&&e()})),n.loadDocument({url:t})}))},t.browserPrint=function(){this.printCallback(this.iframeWin)},t.cleanUp=function(){delete this.window.printInstance,this.removeIframe&&this.iframe.parentElement.removeChild(this.iframe)},e}();t.Nl=zh,t.LU=Gh},788:function(e){var t=-1;function n(e,a,s,l){if(e===a)return e?[[0,e]]:[];if(null!=s){var c=function(e,t,n){var u="number"===typeof n?{index:n,length:0}:n.oldRange,i="number"===typeof n?null:n.newRange,r=e.length,o=t.length;if(0===u.length&&(null===i||0===i.length)){var a=u.index,s=e.slice(0,a),l=e.slice(a),c=i?i.index:null,h=a+o-r;if((null===c||c===h)&&!(h<0||h>o)){var f=t.slice(0,h);if((E=t.slice(h))===l){var d=Math.min(a,h);if((g=s.slice(0,d))===(v=f.slice(0,d)))return D(g,s.slice(d),f.slice(d),l)}}if(null===c||c===a){var p=a,E=(f=t.slice(0,p),t.slice(p));if(f===s){var C=Math.min(r-p,o-p);if((F=l.slice(l.length-C))===(m=E.slice(E.length-C)))return D(s,l.slice(0,l.length-C),E.slice(0,E.length-C),F)}}}if(u.length>0&&i&&0===i.length){var g=e.slice(0,u.index),F=e.slice(u.index+u.length);if(!(o<(d=g.length)+(C=F.length))){var v=t.slice(0,d),m=t.slice(o-C);if(g===v&&F===m)return D(g,e.slice(d,r-C),t.slice(d,o-C),F)}}return null}(e,a,s);if(c)return c}var h=i(e,a),f=e.substring(0,h);h=r(e=e.substring(h),a=a.substring(h));var d=e.substring(e.length-h),p=function(e,o){var a;if(!e)return[[1,o]];if(!o)return[[t,e]];var s=e.length>o.length?e:o,l=e.length>o.length?o:e,c=s.indexOf(l);if(-1!==c)return a=[[1,s.substring(0,c)],[0,l],[1,s.substring(c+l.length)]],e.length>o.length&&(a[0][0]=a[2][0]=t),a;if(1===l.length)return[[t,e],[1,o]];var D=function(e,t){var n=e.length>t.length?e:t,u=e.length>t.length?t:e;if(n.length<4||2*u.length<n.length)return null;function o(e,t,n){for(var u,o,a,s,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,D="";-1!==(c=t.indexOf(l,c+1));){var h=i(e.substring(n),t.substring(c)),f=r(e.substring(0,n),t.substring(0,c));D.length<f+h&&(D=t.substring(c-f,c)+t.substring(c,c+h),u=e.substring(0,n-f),o=e.substring(n+h),a=t.substring(0,c-f),s=t.substring(c+h))}return 2*D.length>=e.length?[u,o,a,s,D]:null}var a,s,l,c,D,h=o(n,u,Math.ceil(n.length/4)),f=o(n,u,Math.ceil(n.length/2));if(!h&&!f)return null;a=f?h&&h[4].length>f[4].length?h:f:h;e.length>t.length?(s=a[0],l=a[1],c=a[2],D=a[3]):(c=a[0],D=a[1],s=a[2],l=a[3]);var d=a[4];return[s,l,c,D,d]}(e,o);if(D){var h=D[0],f=D[1],d=D[2],p=D[3],E=D[4],C=n(h,d),g=n(f,p);return C.concat([[0,E]],g)}return function(e,n){for(var i=e.length,r=n.length,o=Math.ceil((i+r)/2),a=o,s=2*o,l=new Array(s),c=new Array(s),D=0;D<s;D++)l[D]=-1,c[D]=-1;l[a+1]=0,c[a+1]=0;for(var h=i-r,f=h%2!==0,d=0,p=0,E=0,C=0,g=0;g<o;g++){for(var F=-g+d;F<=g-p;F+=2){for(var v=a+F,m=(w=F===-g||F!==g&&l[v-1]<l[v+1]?l[v+1]:l[v-1]+1)-F;w<i&&m<r&&e.charAt(w)===n.charAt(m);)w++,m++;if(l[v]=w,w>i)p+=2;else if(m>r)d+=2;else if(f){if((B=a+h-F)>=0&&B<s&&-1!==c[B])if(w>=(y=i-c[B]))return u(e,n,w,m)}}for(var A=-g+E;A<=g-C;A+=2){for(var y,B=a+A,b=(y=A===-g||A!==g&&c[B-1]<c[B+1]?c[B+1]:c[B-1]+1)-A;y<i&&b<r&&e.charAt(i-y-1)===n.charAt(r-b-1);)y++,b++;if(c[B]=y,y>i)C+=2;else if(b>r)E+=2;else if(!f){if((v=a+h-A)>=0&&v<s&&-1!==l[v]){var w;m=a+(w=l[v])-v;if(w>=(y=i-y))return u(e,n,w,m)}}}}return[[t,e],[1,n]]}(e,o)}(e=e.substring(0,e.length-h),a=a.substring(0,a.length-h));return f&&p.unshift([0,f]),d&&p.push([0,d]),o(p,l),p}function u(e,t,u,i){var r=e.substring(0,u),o=t.substring(0,i),a=e.substring(u),s=t.substring(i),l=n(r,o),c=n(a,s);return l.concat(c)}function i(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,u=Math.min(e.length,t.length),i=u,r=0;n<i;)e.substring(r,i)==t.substring(r,i)?r=n=i:u=i,i=Math.floor((u-n)/2+n);return a(e.charCodeAt(i-1))&&i--,i}function r(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,u=Math.min(e.length,t.length),i=u,r=0;n<i;)e.substring(e.length-i,e.length-r)==t.substring(t.length-i,t.length-r)?r=n=i:u=i,i=Math.floor((u-n)/2+n);return s(e.charCodeAt(e.length-i))&&i--,i}function o(e,n){e.push([0,""]);for(var u,a=0,s=0,D=0,h="",f="";a<e.length;)if(a<e.length-1&&!e[a][1])e.splice(a,1);else switch(e[a][0]){case 1:D++,f+=e[a][1],a++;break;case t:s++,h+=e[a][1],a++;break;case 0:var d=a-D-s-1;if(n){if(d>=0&&c(e[d][1])){var p=e[d][1].slice(-1);if(e[d][1]=e[d][1].slice(0,-1),h=p+h,f=p+f,!e[d][1]){e.splice(d,1),a--;var E=d-1;e[E]&&1===e[E][0]&&(D++,f=e[E][1]+f,E--),e[E]&&e[E][0]===t&&(s++,h=e[E][1]+h,E--),d=E}}if(l(e[a][1])){p=e[a][1].charAt(0);e[a][1]=e[a][1].slice(1),h+=p,f+=p}}if(a<e.length-1&&!e[a][1]){e.splice(a,1);break}if(h.length>0||f.length>0){h.length>0&&f.length>0&&(0!==(u=i(f,h))&&(d>=0?e[d][1]+=f.substring(0,u):(e.splice(0,0,[0,f.substring(0,u)]),a++),f=f.substring(u),h=h.substring(u)),0!==(u=r(f,h))&&(e[a][1]=f.substring(f.length-u)+e[a][1],f=f.substring(0,f.length-u),h=h.substring(0,h.length-u)));var C=D+s;0===h.length&&0===f.length?(e.splice(a-C,C),a-=C):0===h.length?(e.splice(a-C,C,[1,f]),a=a-C+1):0===f.length?(e.splice(a-C,C,[t,h]),a=a-C+1):(e.splice(a-C,C,[t,h],[1,f]),a=a-C+2)}0!==a&&0===e[a-1][0]?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,D=0,s=0,h="",f=""}""===e[e.length-1][1]&&e.pop();var g=!1;for(a=1;a<e.length-1;)0===e[a-1][0]&&0===e[a+1][0]&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)===e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),g=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),g=!0)),a++;g&&o(e,n)}function a(e){return e>=55296&&e<=56319}function s(e){return e>=56320&&e<=57343}function l(e){return s(e.charCodeAt(0))}function c(e){return a(e.charCodeAt(e.length-1))}function D(e,n,u,i){return c(e)||l(i)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[t,n],[1,u],[0,i]])}function h(e,t,u){return n(e,t,u,!0)}h.INSERT=1,h.DELETE=t,h.EQUAL=0,e.exports=h},463:function(e,t,n){"use strict";var u=n(791),i=n(296);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),D=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},d={};function p(e,t,n,u,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=u,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){E[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];E[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){E[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){E[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){E[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){E[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){E[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){E[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){E[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var C=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function F(e,t,n,u){var i=E.hasOwnProperty(t)?E[t]:null;(null!==i?0!==i.type:u||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,u){if(null===t||"undefined"===typeof t||function(e,t,n,u){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!u&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,u))return!0;if(u)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,u)&&(n=null),u||null===i?function(e){return!!D.call(d,e)||!D.call(f,e)&&(h.test(e)?d[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,u=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,u?e.setAttributeNS(u,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(C,g);E[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(C,g);E[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(C,g);E[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){E[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),E.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){E[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m=Symbol.for("react.element"),A=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),S=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var O,_=Object.assign;function M(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var u=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){u=l}e.call(t.prototype)}else{try{throw Error()}catch(l){u=l}e()}}catch(l){if(l&&u&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),r=u.stack.split("\n"),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==r[a]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function V(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case A:return"Portal";case b:return"Profiler";case B:return"StrictMode";case x:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case w:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function j(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),u=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){u=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return u},setValue:function(e){u=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),u="";return e&&(u=X(e)?e.checked?"true":"false":e.value),(e=u)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return _({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,u=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:u,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&F(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=W(t.value),u=t.type;if(null!=n)"number"===u?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===u||"reset"===u)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var u=t.type;if(!("submit"!==u&&"reset"!==u||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,u){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&u&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(u&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return _({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(te(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function re(e,t){var n=W(t.value),u=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=u&&(e.defaultValue=""+u)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,De=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,u){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var u=0===n.indexOf("--"),i=pe(n,t[n],u);"float"===n&&(n="cssFloat"),u?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){de.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var Ce=_({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function Fe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function me(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,ye=null,Be=null;function be(e){if(e=Fi(e)){if("function"!==typeof Ae)throw Error(r(280));var t=e.stateNode;t&&(t=mi(t),Ae(e.stateNode,e.type,t))}}function we(e){ye?Be?Be.push(e):Be=[e]:ye=e}function Se(){if(ye){var e=ye,t=Be;if(Be=ye=null,be(e),t)for(e=0;e<t.length;e++)be(t[e])}}function Ne(e,t){return e(t)}function xe(){}var Te=!1;function ke(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ne(e,t,n)}finally{Te=!1,(null!==ye||null!==Be)&&(xe(),Se())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var u=mi(n);if(null===u)return null;n=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(u=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!u;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}var Pe=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Pe=!1}function Le(e,t,n,u,i,r,o,a,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Oe=!1,_e=null,Me=!1,Ue=null,ze={onError:function(e){Oe=!0,_e=e}};function Ve(e,t,n,u,i,r,o,a,s){Oe=!1,_e=null,Le.apply(ze,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(r(188))}function Xe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,u=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(u=i.return)){n=u;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===u)return We(i),t;o=o.sibling}throw Error(r(188))}if(n.return!==u.return)n=i,u=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,u=o;break}if(s===u){a=!0,u=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,u=i;break}if(s===u){a=!0,u=o,n=i;break}s=s.sibling}if(!a)throw Error(r(189))}}if(n.alternate!==u)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?je(e):null}function je(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=je(e);if(null!==t)return t;e=e.sibling}return null}var $e=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Qe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,ut=i.unstable_IdlePriority,it=null,rt=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/st|0)|0},at=Math.log,st=Math.LN2;var lt=64,ct=4194304;function Dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var u=0,i=e.suspendedLanes,r=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?u=Dt(a):0!==(r&=o)&&(u=Dt(r))}else 0!==(o=n&~i)?u=Dt(o):0!==r&&(u=Dt(r));if(0===u)return 0;if(0!==t&&t!==u&&0===(t&i)&&((i=u&-u)>=(r=t&-t)||16===i&&0!==(4194240&r)))return t;if(0!==(4&u)&&(u|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=u;0<t;)i=1<<(n=31-ot(t)),u|=e[n],t&=~i;return u}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function dt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function Et(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ct(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var u=31-ot(n),i=1<<u;i&t|e[u]&t&&(e[u]|=t),n&=~i}}var Ft=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var mt,At,yt,Bt,bt,wt=!1,St=[],Nt=null,xt=null,Tt=null,kt=new Map,It=new Map,Pt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Ot(e,t,n,u,i,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:u,nativeEvent:r,targetContainers:[i]},null!==t&&(null!==(t=Fi(t))&&At(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function _t(e){var t=gi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void bt(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Fi(n))&&At(t),e.blockedOn=n,!1;var u=new(n=e.nativeEvent).constructor(n.type,n);ve=u,n.target.dispatchEvent(u),ve=null,t.shift()}return!0}function Ut(e,t,n){Mt(e)&&n.delete(t)}function zt(){wt=!1,null!==Nt&&Mt(Nt)&&(Nt=null),null!==xt&&Mt(xt)&&(xt=null),null!==Tt&&Mt(Tt)&&(Tt=null),kt.forEach(Ut),It.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,wt||(wt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Ht(e){function t(t){return Vt(t,e)}if(0<St.length){Vt(St[0],e);for(var n=1;n<St.length;n++){var u=St[n];u.blockedOn===e&&(u.blockedOn=null)}}for(null!==Nt&&Vt(Nt,e),null!==xt&&Vt(xt,e),null!==Tt&&Vt(Tt,e),kt.forEach(t),It.forEach(t),n=0;n<Pt.length;n++)(u=Pt[n]).blockedOn===e&&(u.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)_t(n),null===n.blockedOn&&Pt.shift()}var Gt=v.ReactCurrentBatchConfig,Wt=!0;function Xt(e,t,n,u){var i=Ft,r=Gt.transition;Gt.transition=null;try{Ft=1,$t(e,t,n,u)}finally{Ft=i,Gt.transition=r}}function jt(e,t,n,u){var i=Ft,r=Gt.transition;Gt.transition=null;try{Ft=4,$t(e,t,n,u)}finally{Ft=i,Gt.transition=r}}function $t(e,t,n,u){if(Wt){var i=Yt(e,t,n,u);if(null===i)Wu(e,t,u,qt,n),Lt(e,u);else if(function(e,t,n,u,i){switch(t){case"focusin":return Nt=Ot(Nt,e,t,n,u,i),!0;case"dragenter":return xt=Ot(xt,e,t,n,u,i),!0;case"mouseover":return Tt=Ot(Tt,e,t,n,u,i),!0;case"pointerover":var r=i.pointerId;return kt.set(r,Ot(kt.get(r)||null,e,t,n,u,i)),!0;case"gotpointercapture":return r=i.pointerId,It.set(r,Ot(It.get(r)||null,e,t,n,u,i)),!0}return!1}(i,e,t,n,u))u.stopPropagation();else if(Lt(e,u),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var r=Fi(i);if(null!==r&&mt(r),null===(r=Yt(e,t,n,u))&&Wu(e,t,u,qt,n),r===i)break;i=r}null!==i&&u.stopPropagation()}else Wu(e,t,u,null,n)}}var qt=null;function Yt(e,t,n,u){if(qt=null,null!==(e=gi(e=me(u))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case ut:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,u=n.length,i="value"in Qt?Qt.value:Qt.textContent,r=i.length;for(e=0;e<u&&n[e]===i[e];e++);var o=u-e;for(t=1;t<=o&&n[u-t]===i[r-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function un(){return!1}function rn(e){function t(t,n,u,i,r){for(var o in this._reactName=t,this._targetInst=u,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:un,this.isPropagationStopped=un,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=rn(ln),Dn=_({},ln,{view:0,detail:0}),hn=rn(Dn),fn=_({},Dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,an=e.screenY-sn.screenY):an=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),dn=rn(fn),pn=rn(_({},fn,{dataTransfer:0})),En=rn(_({},Dn,{relatedTarget:0})),Cn=rn(_({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=_({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fn=rn(gn),vn=rn(_({},ln,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yn[e])&&!!t[e]}function bn(){return Bn}var wn=_({},Dn,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=rn(wn),Nn=rn(_({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=rn(_({},Dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),Tn=rn(_({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=_({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=rn(kn),Pn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var On=c&&"TextEvent"in window&&!Ln,_n=c&&(!Rn||Ln&&8<Ln&&11>=Ln),Mn=String.fromCharCode(32),Un=!1;function zn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Xn(e,t,n,u){we(u),0<(t=ju(t,"onChange")).length&&(n=new cn("onChange","change",null,n,u),e.push({event:n,listeners:t}))}var jn=null,$n=null;function qn(e){Mu(e,0)}function Yn(e){if($(vi(e)))return e}function Kn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Zn;if(c){var Jn="oninput"in document;if(!Jn){var eu=document.createElement("div");eu.setAttribute("oninput","return;"),Jn="function"===typeof eu.oninput}Zn=Jn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function tu(){jn&&(jn.detachEvent("onpropertychange",nu),$n=jn=null)}function nu(e){if("value"===e.propertyName&&Yn($n)){var t=[];Xn(t,$n,e,me(e)),ke(qn,t)}}function uu(e,t,n){"focusin"===e?(tu(),$n=n,(jn=t).attachEvent("onpropertychange",nu)):"focusout"===e&&tu()}function iu(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn($n)}function ru(e,t){if("click"===e)return Yn(t)}function ou(e,t){if("input"===e||"change"===e)return Yn(t)}var au="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function su(e,t){if(au(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),u=Object.keys(t);if(n.length!==u.length)return!1;for(u=0;u<n.length;u++){var i=n[u];if(!D.call(t,i)||!au(e[i],t[i]))return!1}return!0}function lu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cu(e,t){var n,u=lu(e);for(e=0;u;){if(3===u.nodeType){if(n=e+u.textContent.length,e<=t&&n>=t)return{node:u,offset:t-e};e=n}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=lu(u)}}function Du(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Du(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hu(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(u){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function du(e){var t=hu(),n=e.focusedElem,u=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Du(n.ownerDocument.documentElement,n)){if(null!==u&&fu(n))if(t=u.start,void 0===(e=u.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,r=Math.min(u.start,i);u=void 0===u.end?r:Math.min(u.end,i),!e.extend&&r>u&&(i=u,u=r,r=i),i=cu(n,r);var o=cu(n,u);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),r>u?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pu=c&&"documentMode"in document&&11>=document.documentMode,Eu=null,Cu=null,gu=null,Fu=!1;function vu(e,t,n){var u=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Fu||null==Eu||Eu!==q(u)||("selectionStart"in(u=Eu)&&fu(u)?u={start:u.selectionStart,end:u.selectionEnd}:u={anchorNode:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset},gu&&su(gu,u)||(gu=u,0<(u=ju(Cu,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:u}),t.target=Eu)))}function mu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Au={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},yu={},Bu={};function bu(e){if(yu[e])return yu[e];if(!Au[e])return e;var t,n=Au[e];for(t in n)if(n.hasOwnProperty(t)&&t in Bu)return yu[e]=n[t];return e}c&&(Bu=document.createElement("div").style,"AnimationEvent"in window||(delete Au.animationend.animation,delete Au.animationiteration.animation,delete Au.animationstart.animation),"TransitionEvent"in window||delete Au.transitionend.transition);var wu=bu("animationend"),Su=bu("animationiteration"),Nu=bu("animationstart"),xu=bu("transitionend"),Tu=new Map,ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Iu(e,t){Tu.set(e,t),s(t,[e])}for(var Pu=0;Pu<ku.length;Pu++){var Ru=ku[Pu];Iu(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}Iu(wu,"onAnimationEnd"),Iu(Su,"onAnimationIteration"),Iu(Nu,"onAnimationStart"),Iu("dblclick","onDoubleClick"),Iu("focusin","onFocus"),Iu("focusout","onBlur"),Iu(xu,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ou=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lu));function _u(e,t,n){var u=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,u,i,o,a,s,l){if(Ve.apply(this,arguments),Oe){if(!Oe)throw Error(r(198));var c=_e;Oe=!1,_e=null,Me||(Me=!0,Ue=c)}}(u,t,void 0,e),e.currentTarget=null}function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var u=e[n],i=u.event;u=u.listeners;e:{var r=void 0;if(t)for(var o=u.length-1;0<=o;o--){var a=u[o],s=a.instance,l=a.currentTarget;if(a=a.listener,s!==r&&i.isPropagationStopped())break e;_u(i,a,l),r=s}else for(o=0;o<u.length;o++){if(s=(a=u[o]).instance,l=a.currentTarget,a=a.listener,s!==r&&i.isPropagationStopped())break e;_u(i,a,l),r=s}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Uu(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var u=e+"__bubble";n.has(u)||(Gu(t,e,2,!1),n.add(u))}function zu(e,t,n){var u=0;t&&(u|=4),Gu(n,e,u,t)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[Vu]){e[Vu]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ou.has(t)||zu(t,!1,e),zu(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vu]||(t[Vu]=!0,zu("selectionchange",!1,t))}}function Gu(e,t,n,u){switch(Kt(t)){case 1:var i=Xt;break;case 4:i=jt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),u?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wu(e,t,n,u,i){var r=u;if(0===(1&t)&&0===(2&t)&&null!==u)e:for(;;){if(null===u)return;var o=u.tag;if(3===o||4===o){var a=u.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=u.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=gi(a)))return;if(5===(s=o.tag)||6===s){u=r=o;continue e}a=a.parentNode}}u=u.return}ke((function(){var u=r,i=me(n),o=[];e:{var a=Tu.get(e);if(void 0!==a){var s=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Sn;break;case"focusin":l="focus",s=En;break;case"focusout":l="blur",s=En;break;case"beforeblur":case"afterblur":s=En;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=xn;break;case wu:case Su:case Nu:s=Cn;break;case xu:s=Tn;break;case"scroll":s=hn;break;case"wheel":s=In;break;case"copy":case"cut":case"paste":s=Fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Nn}var c=0!==(4&t),D=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var f,d=u;null!==d;){var p=(f=d).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Ie(d,h))&&c.push(Xu(d,p,f)))),D)break;d=d.return}0<c.length&&(a=new s(a,l,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===ve||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[di])&&(s||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,s?(s=u,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(D=He(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=u),s!==l)){if(c=dn,p="onMouseLeave",h="onMouseEnter",d="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,p="onPointerLeave",h="onPointerEnter",d="pointer"),D=null==s?a:vi(s),f=null==l?a:vi(l),(a=new c(p,d+"leave",s,n,i)).target=D,a.relatedTarget=f,p=null,gi(i)===u&&((c=new c(h,d+"enter",l,n,i)).target=f,c.relatedTarget=D,p=c),D=p,s&&l)e:{for(h=l,d=0,f=c=s;f;f=$u(f))d++;for(f=0,p=h;p;p=$u(p))f++;for(;0<d-f;)c=$u(c),d--;for(;0<f-d;)h=$u(h),f--;for(;d--;){if(c===h||null!==h&&c===h.alternate)break e;c=$u(c),h=$u(h)}c=null}else c=null;null!==s&&qu(o,a,s,c,!1),null!==l&&null!==D&&qu(o,D,l,c,!0)}if("select"===(s=(a=u?vi(u):window).nodeName&&a.nodeName.toLowerCase())||"input"===s&&"file"===a.type)var E=Kn;else if(Wn(a))if(Qn)E=ou;else{E=iu;var C=uu}else(s=a.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(E=ru);switch(E&&(E=E(e,u))?Xn(o,E,n,i):(C&&C(e,a,u),"focusout"===e&&(C=a._wrapperState)&&C.controlled&&"number"===a.type&&ee(a,"number",a.value)),C=u?vi(u):window,e){case"focusin":(Wn(C)||"true"===C.contentEditable)&&(Eu=C,Cu=u,gu=null);break;case"focusout":gu=Cu=Eu=null;break;case"mousedown":Fu=!0;break;case"contextmenu":case"mouseup":case"dragend":Fu=!1,vu(o,n,i);break;case"selectionchange":if(pu)break;case"keydown":case"keyup":vu(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Hn?zn(e,n)&&(F="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(F="onCompositionStart");F&&(_n&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==F?"onCompositionEnd"===F&&Hn&&(g=en()):(Zt="value"in(Qt=i)?Qt.value:Qt.textContent,Hn=!0)),0<(C=ju(u,F)).length&&(F=new vn(F,e,null,n,i),o.push({event:F,listeners:C}),g?F.data=g:null!==(g=Vn(n))&&(F.data=g))),(g=On?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Rn&&zn(e,t)?(e=en(),Jt=Zt=Qt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(u=ju(u,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:u}),i.data=g))}Mu(o,t)}))}function Xu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ju(e,t){for(var n=t+"Capture",u=[];null!==e;){var i=e,r=i.stateNode;5===i.tag&&null!==r&&(i=r,null!=(r=Ie(e,n))&&u.unshift(Xu(e,r,i)),null!=(r=Ie(e,t))&&u.push(Xu(e,r,i))),e=e.return}return u}function $u(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qu(e,t,n,u,i){for(var r=t._reactName,o=[];null!==n&&n!==u;){var a=n,s=a.alternate,l=a.stateNode;if(null!==s&&s===u)break;5===a.tag&&null!==l&&(a=l,i?null!=(s=Ie(n,r))&&o.unshift(Xu(n,s,a)):i||null!=(s=Ie(n,r))&&o.push(Xu(n,s,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yu=/\r\n?/g,Ku=/\u0000|\uFFFD/g;function Qu(e){return("string"===typeof e?e:""+e).replace(Yu,"\n").replace(Ku,"")}function Zu(e,t,n){if(t=Qu(t),Qu(e)!==t&&n)throw Error(r(425))}function Ju(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ui="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ri="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ri?function(e){return ri.resolve(null).then(e).catch(ai)}:ui;function ai(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,u=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===u)return e.removeChild(i),void Ht(t);u--}else"$"!==n&&"$?"!==n&&"$!"!==n||u++;n=i}while(n);Ht(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Di=Math.random().toString(36).slice(2),hi="__reactFiber$"+Di,fi="__reactProps$"+Di,di="__reactContainer$"+Di,pi="__reactEvents$"+Di,Ei="__reactListeners$"+Di,Ci="__reactHandles$"+Di;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[di]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function Fi(e){return!(e=e[hi]||e[di])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function mi(e){return e[fi]||null}var Ai=[],yi=-1;function Bi(e){return{current:e}}function bi(e){0>yi||(e.current=Ai[yi],Ai[yi]=null,yi--)}function wi(e,t){yi++,Ai[yi]=e.current,e.current=t}var Si={},Ni=Bi(Si),xi=Bi(!1),Ti=Si;function ki(e,t){var n=e.type.contextTypes;if(!n)return Si;var u=e.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===t)return u.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in n)r[i]=t[i];return u&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){bi(xi),bi(Ni)}function Ri(e,t,n){if(Ni.current!==Si)throw Error(r(168));wi(Ni,t),wi(xi,n)}function Li(e,t,n){var u=e.stateNode;if(t=t.childContextTypes,"function"!==typeof u.getChildContext)return n;for(var i in u=u.getChildContext())if(!(i in t))throw Error(r(108,G(e)||"Unknown",i));return _({},n,u)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ti=Ni.current,wi(Ni,e),wi(xi,xi.current),!0}function _i(e,t,n){var u=e.stateNode;if(!u)throw Error(r(169));n?(e=Li(e,t,Ti),u.__reactInternalMemoizedMergedChildContext=e,bi(xi),bi(Ni),wi(Ni,e)):bi(xi),wi(xi,n)}var Mi=null,Ui=!1,zi=!1;function Vi(e){null===Mi?Mi=[e]:Mi.push(e)}function Hi(){if(!zi&&null!==Mi){zi=!0;var e=0,t=Ft;try{var n=Mi;for(Ft=1;e<n.length;e++){var u=n[e];do{u=u(!0)}while(null!==u)}Mi=null,Ui=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),$e(Je,Hi),i}finally{Ft=t,zi=!1}}return null}var Gi=[],Wi=0,Xi=null,ji=0,$i=[],qi=0,Yi=null,Ki=1,Qi="";function Zi(e,t){Gi[Wi++]=ji,Gi[Wi++]=Xi,Xi=e,ji=t}function Ji(e,t,n){$i[qi++]=Ki,$i[qi++]=Qi,$i[qi++]=Yi,Yi=e;var u=Ki;e=Qi;var i=32-ot(u)-1;u&=~(1<<i),n+=1;var r=32-ot(t)+i;if(30<r){var o=i-i%5;r=(u&(1<<o)-1).toString(32),u>>=o,i-=o,Ki=1<<32-ot(t)+i|n<<i|u,Qi=r+e}else Ki=1<<r|n<<i|u,Qi=e}function er(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function tr(e){for(;e===Xi;)Xi=Gi[--Wi],Gi[Wi]=null,ji=Gi[--Wi],Gi[Wi]=null;for(;e===Yi;)Yi=$i[--qi],$i[qi]=null,Qi=$i[--qi],$i[qi]=null,Ki=$i[--qi],$i[qi]=null}var nr=null,ur=null,ir=!1,rr=null;function or(e,t){var n=kl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ar(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,nr=e,ur=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,nr=e,ur=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ki,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=kl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,nr=e,ur=null,!0);default:return!1}}function sr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lr(e){if(ir){var t=ur;if(t){var n=t;if(!ar(e,t)){if(sr(e))throw Error(r(418));t=li(n.nextSibling);var u=nr;t&&ar(e,t)?or(u,n):(e.flags=-4097&e.flags|2,ir=!1,nr=e)}}else{if(sr(e))throw Error(r(418));e.flags=-4097&e.flags|2,ir=!1,nr=e}}}function cr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nr=e}function Dr(e){if(e!==nr)return!1;if(!ir)return cr(e),ir=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ur)){if(sr(e))throw hr(),Error(r(418));for(;t;)or(e,t),t=li(t.nextSibling)}if(cr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ur=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ur=null}}else ur=nr?li(e.stateNode.nextSibling):null;return!0}function hr(){for(var e=ur;e;)e=li(e.nextSibling)}function fr(){ur=nr=null,ir=!1}function dr(e){null===rr?rr=[e]:rr.push(e)}var pr=v.ReactCurrentBatchConfig;function Er(e,t){if(e&&e.defaultProps){for(var n in t=_({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Cr=Bi(null),gr=null,Fr=null,vr=null;function mr(){vr=Fr=gr=null}function Ar(e){var t=Cr.current;bi(Cr),e._currentValue=t}function yr(e,t,n){for(;null!==e;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==u&&(u.childLanes|=t)):null!==u&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===n)break;e=e.return}}function Br(e,t){gr=e,vr=Fr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(va=!0),e.firstContext=null)}function br(e){var t=e._currentValue;if(vr!==e)if(e={context:e,memoizedValue:t,next:null},null===Fr){if(null===gr)throw Error(r(308));Fr=e,gr.dependencies={lanes:0,firstContext:e}}else Fr=Fr.next=e;return t}var wr=null;function Sr(e){null===wr?wr=[e]:wr.push(e)}function Nr(e,t,n,u){var i=t.interleaved;return null===i?(n.next=n,Sr(t)):(n.next=i.next,i.next=n),t.interleaved=n,xr(e,u)}function xr(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Tr=!1;function kr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ir(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(e,t,n){var u=e.updateQueue;if(null===u)return null;if(u=u.shared,0!==(2&Ns)){var i=u.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),u.pending=t,xr(e,n)}return null===(i=u.interleaved)?(t.next=t,Sr(u)):(t.next=i.next,i.next=t),u.interleaved=t,xr(e,n)}function Lr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var u=t.lanes;n|=u&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Or(e,t){var n=e.updateQueue,u=e.alternate;if(null!==u&&n===(u=u.updateQueue)){var i=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?i=r=o:r=r.next=o,n=n.next}while(null!==n);null===r?i=r=t:r=r.next=t}else i=r=t;return n={baseState:u.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:u.shared,effects:u.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _r(e,t,n,u){var i=e.updateQueue;Tr=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var s=a,l=s.next;s.next=null,null===o?r=l:o.next=l,o=s;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=s))}if(null!==r){var D=i.baseState;for(o=0,c=l=s=null,a=r;;){var h=a.lane,f=a.eventTime;if((u&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var d=e,p=a;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(d=p.payload)){D=d.call(f,D,h);break e}D=d;break e;case 3:d.flags=-65537&d.flags|128;case 0:if(null===(h="function"===typeof(d=p.payload)?d.call(f,D,h):d)||void 0===h)break e;D=_({},D,h);break e;case 2:Tr=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(l=c=f,s=D):c=c.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(s=D),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===r&&(i.shared.lanes=0);Os|=o,e.lanes=o,e.memoizedState=D}}function Mr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var u=e[t],i=u.callback;if(null!==i){if(u.callback=null,u=n,"function"!==typeof i)throw Error(r(191,i));i.call(u)}}}var Ur=(new u.Component).refs;function zr(e,t,n,u){n=null===(n=n(u,t=e.memoizedState))||void 0===n?t:_({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vr={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var u=el(),i=tl(e),r=Pr(u,i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=Rr(e,r,i))&&(nl(t,e,i,u),Lr(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var u=el(),i=tl(e),r=Pr(u,i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=Rr(e,r,i))&&(nl(t,e,i,u),Lr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),u=tl(e),i=Pr(n,u);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Rr(e,i,u))&&(nl(t,e,u,n),Lr(t,e,u))}};function Hr(e,t,n,u,i,r,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(u,r,o):!t.prototype||!t.prototype.isPureReactComponent||(!su(n,u)||!su(i,r))}function Gr(e,t,n){var u=!1,i=Si,r=t.contextType;return"object"===typeof r&&null!==r?r=br(r):(i=Ii(t)?Ti:Ni.current,r=(u=null!==(u=t.contextTypes)&&void 0!==u)?ki(e,i):Si),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vr,e.stateNode=t,t._reactInternals=e,u&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function Wr(e,t,n,u){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,u),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,u),t.state!==e&&Vr.enqueueReplaceState(t,t.state,null)}function Xr(e,t,n,u){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ur,kr(e);var r=t.contextType;"object"===typeof r&&null!==r?i.context=br(r):(r=Ii(t)?Ti:Ni.current,i.context=ki(e,r)),i.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(zr(e,t,r,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vr.enqueueReplaceState(i,i.state,null),_r(e,n,i,u),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function jr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var u=n.stateNode}if(!u)throw Error(r(147,e));var i=u,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ur&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function $r(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qr(e){return(0,e._init)(e._payload)}function Yr(e){function t(t,n){if(e){var u=t.deletions;null===u?(t.deletions=[n],t.flags|=16):u.push(n)}}function n(n,u){if(!e)return null;for(;null!==u;)t(n,u),u=u.sibling;return null}function u(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pl(e,t)).index=0,e.sibling=null,e}function o(t,n,u){return t.index=u,e?null!==(u=t.alternate)?(u=u.index)<n?(t.flags|=2,n):u:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,u){return null===t||6!==t.tag?((t=_l(n,e.mode,u)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,u){var r=n.type;return r===y?D(e,t,n.props.children,u,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===I&&qr(r)===t.type)?((u=i(t,n.props)).ref=jr(e,t,n),u.return=e,u):((u=Rl(n.type,n.key,n.props,null,e.mode,u)).ref=jr(e,t,n),u.return=e,u)}function c(e,t,n,u){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ml(n,e.mode,u)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function D(e,t,n,u,r){return null===t||7!==t.tag?((t=Ll(n,e.mode,u,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=_l(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=jr(e,null,t),n.return=e,n;case A:return(t=Ml(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ll(t,e.mode,n,null)).return=e,t;$r(e,t)}return null}function f(e,t,n,u){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,u);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?l(e,t,n,u):null;case A:return n.key===i?c(e,t,n,u):null;case I:return f(e,t,(i=n._init)(n._payload),u)}if(te(n)||L(n))return null!==i?null:D(e,t,n,u,null);$r(e,n)}return null}function d(e,t,n,u,i){if("string"===typeof u&&""!==u||"number"===typeof u)return s(t,e=e.get(n)||null,""+u,i);if("object"===typeof u&&null!==u){switch(u.$$typeof){case m:return l(t,e=e.get(null===u.key?n:u.key)||null,u,i);case A:return c(t,e=e.get(null===u.key?n:u.key)||null,u,i);case I:return d(e,t,n,(0,u._init)(u._payload),i)}if(te(u)||L(u))return D(t,e=e.get(n)||null,u,i,null);$r(t,u)}return null}function p(i,r,a,s){for(var l=null,c=null,D=r,p=r=0,E=null;null!==D&&p<a.length;p++){D.index>p?(E=D,D=null):E=D.sibling;var C=f(i,D,a[p],s);if(null===C){null===D&&(D=E);break}e&&D&&null===C.alternate&&t(i,D),r=o(C,r,p),null===c?l=C:c.sibling=C,c=C,D=E}if(p===a.length)return n(i,D),ir&&Zi(i,p),l;if(null===D){for(;p<a.length;p++)null!==(D=h(i,a[p],s))&&(r=o(D,r,p),null===c?l=D:c.sibling=D,c=D);return ir&&Zi(i,p),l}for(D=u(i,D);p<a.length;p++)null!==(E=d(D,i,p,a[p],s))&&(e&&null!==E.alternate&&D.delete(null===E.key?p:E.key),r=o(E,r,p),null===c?l=E:c.sibling=E,c=E);return e&&D.forEach((function(e){return t(i,e)})),ir&&Zi(i,p),l}function E(i,a,s,l){var c=L(s);if("function"!==typeof c)throw Error(r(150));if(null==(s=c.call(s)))throw Error(r(151));for(var D=c=null,p=a,E=a=0,C=null,g=s.next();null!==p&&!g.done;E++,g=s.next()){p.index>E?(C=p,p=null):C=p.sibling;var F=f(i,p,g.value,l);if(null===F){null===p&&(p=C);break}e&&p&&null===F.alternate&&t(i,p),a=o(F,a,E),null===D?c=F:D.sibling=F,D=F,p=C}if(g.done)return n(i,p),ir&&Zi(i,E),c;if(null===p){for(;!g.done;E++,g=s.next())null!==(g=h(i,g.value,l))&&(a=o(g,a,E),null===D?c=g:D.sibling=g,D=g);return ir&&Zi(i,E),c}for(p=u(i,p);!g.done;E++,g=s.next())null!==(g=d(p,i,E,g.value,l))&&(e&&null!==g.alternate&&p.delete(null===g.key?E:g.key),a=o(g,a,E),null===D?c=g:D.sibling=g,D=g);return e&&p.forEach((function(e){return t(i,e)})),ir&&Zi(i,E),c}return function e(u,r,o,s){if("object"===typeof o&&null!==o&&o.type===y&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case m:e:{for(var l=o.key,c=r;null!==c;){if(c.key===l){if((l=o.type)===y){if(7===c.tag){n(u,c.sibling),(r=i(c,o.props.children)).return=u,u=r;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===I&&qr(l)===c.type){n(u,c.sibling),(r=i(c,o.props)).ref=jr(u,c,o),r.return=u,u=r;break e}n(u,c);break}t(u,c),c=c.sibling}o.type===y?((r=Ll(o.props.children,u.mode,s,o.key)).return=u,u=r):((s=Rl(o.type,o.key,o.props,null,u.mode,s)).ref=jr(u,r,o),s.return=u,u=s)}return a(u);case A:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(u,r.sibling),(r=i(r,o.children||[])).return=u,u=r;break e}n(u,r);break}t(u,r),r=r.sibling}(r=Ml(o,u.mode,s)).return=u,u=r}return a(u);case I:return e(u,r,(c=o._init)(o._payload),s)}if(te(o))return p(u,r,o,s);if(L(o))return E(u,r,o,s);$r(u,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==r&&6===r.tag?(n(u,r.sibling),(r=i(r,o)).return=u,u=r):(n(u,r),(r=_l(o,u.mode,s)).return=u,u=r),a(u)):n(u,r)}}var Kr=Yr(!0),Qr=Yr(!1),Zr={},Jr=Bi(Zr),eo=Bi(Zr),to=Bi(Zr);function no(e){if(e===Zr)throw Error(r(174));return e}function uo(e,t){switch(wi(to,t),wi(eo,e),wi(Jr,Zr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}bi(Jr),wi(Jr,t)}function io(){bi(Jr),bi(eo),bi(to)}function ro(e){no(to.current);var t=no(Jr.current),n=se(t,e.type);t!==n&&(wi(eo,e),wi(Jr,n))}function oo(e){eo.current===e&&(bi(Jr),bi(eo))}var ao=Bi(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var Do=v.ReactCurrentDispatcher,ho=v.ReactCurrentBatchConfig,fo=0,po=null,Eo=null,Co=null,go=!1,Fo=!1,vo=0,mo=0;function Ao(){throw Error(r(321))}function yo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!au(e[n],t[n]))return!1;return!0}function Bo(e,t,n,u,i,o){if(fo=o,po=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Do.current=null===e||null===e.memoizedState?aa:sa,e=n(u,i),Fo){o=0;do{if(Fo=!1,vo=0,25<=o)throw Error(r(301));o+=1,Co=Eo=null,t.updateQueue=null,Do.current=la,e=n(u,i)}while(Fo)}if(Do.current=oa,t=null!==Eo&&null!==Eo.next,fo=0,Co=Eo=po=null,go=!1,t)throw Error(r(300));return e}function bo(){var e=0!==vo;return vo=0,e}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Co?po.memoizedState=Co=e:Co=Co.next=e,Co}function So(){if(null===Eo){var e=po.alternate;e=null!==e?e.memoizedState:null}else e=Eo.next;var t=null===Co?po.memoizedState:Co.next;if(null!==t)Co=t,Eo=e;else{if(null===e)throw Error(r(310));e={memoizedState:(Eo=e).memoizedState,baseState:Eo.baseState,baseQueue:Eo.baseQueue,queue:Eo.queue,next:null},null===Co?po.memoizedState=Co=e:Co=Co.next=e}return Co}function No(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=So(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var u=Eo,i=u.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}u.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,u=u.baseState;var s=a=null,l=null,c=o;do{var D=c.lane;if((fo&D)===D)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),u=c.hasEagerState?c.eagerState:e(u,c.action);else{var h={lane:D,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=h,a=u):l=l.next=h,po.lanes|=D,Os|=D}c=c.next}while(null!==c&&c!==o);null===l?a=u:l.next=s,au(u,t.memoizedState)||(va=!0),t.memoizedState=u,t.baseState=a,t.baseQueue=l,n.lastRenderedState=u}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,po.lanes|=o,Os|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function To(e){var t=So(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var u=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);au(o,t.memoizedState)||(va=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,u]}function ko(){}function Io(e,t){var n=po,u=So(),i=t(),o=!au(u.memoizedState,i);if(o&&(u.memoizedState=i,va=!0),u=u.queue,Wo(Lo.bind(null,n,u,e),[e]),u.getSnapshot!==t||o||null!==Co&&1&Co.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,u,i,t),void 0,null),null===xs)throw Error(r(349));0!==(30&fo)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=po.updateQueue)?(t={lastEffect:null,stores:null},po.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,u){t.value=n,t.getSnapshot=u,Oo(t)&&_o(e)}function Lo(e,t,n){return n((function(){Oo(t)&&_o(e)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!au(e,n)}catch(u){return!0}}function _o(e){var t=xr(e,1);null!==t&&nl(t,e,1,-1)}function Mo(e){var t=wo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,po,e),[t.memoizedState,e]}function Uo(e,t,n,u){return e={tag:e,create:t,destroy:n,deps:u,next:null},null===(t=po.updateQueue)?(t={lastEffect:null,stores:null},po.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(u=n.next,n.next=e,e.next=u,t.lastEffect=e),e}function zo(){return So().memoizedState}function Vo(e,t,n,u){var i=wo();po.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===u?null:u)}function Ho(e,t,n,u){var i=So();u=void 0===u?null:u;var r=void 0;if(null!==Eo){var o=Eo.memoizedState;if(r=o.destroy,null!==u&&yo(u,o.deps))return void(i.memoizedState=Uo(t,n,r,u))}po.flags|=e,i.memoizedState=Uo(1|t,n,r,u)}function Go(e,t){return Vo(8390656,8,e,t)}function Wo(e,t){return Ho(2048,8,e,t)}function Xo(e,t){return Ho(4,2,e,t)}function jo(e,t){return Ho(4,4,e,t)}function $o(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ho(4,4,$o.bind(null,t,e),n)}function Yo(){}function Ko(e,t){var n=So();t=void 0===t?null:t;var u=n.memoizedState;return null!==u&&null!==t&&yo(t,u[1])?u[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=So();t=void 0===t?null:t;var u=n.memoizedState;return null!==u&&null!==t&&yo(t,u[1])?u[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&fo)?(e.baseState&&(e.baseState=!1,va=!0),e.memoizedState=n):(au(n,t)||(n=pt(),po.lanes|=n,Os|=n,e.baseState=!0),t)}function Jo(e,t){var n=Ft;Ft=0!==n&&4>n?n:4,e(!0);var u=ho.transition;ho.transition={};try{e(!1),t()}finally{Ft=n,ho.transition=u}}function ea(){return So().memoizedState}function ta(e,t,n){var u=tl(e);if(n={lane:u,action:n,hasEagerState:!1,eagerState:null,next:null},ua(e))ia(t,n);else if(null!==(n=Nr(e,t,n,u))){nl(n,e,u,el()),ra(n,t,u)}}function na(e,t,n){var u=tl(e),i={lane:u,action:n,hasEagerState:!1,eagerState:null,next:null};if(ua(e))ia(t,i);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,au(a,o)){var s=t.interleaved;return null===s?(i.next=i,Sr(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Nr(e,t,i,u))&&(nl(n,e,u,i=el()),ra(n,t,u))}}function ua(e){var t=e.alternate;return e===po||null!==t&&t===po}function ia(e,t){Fo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ra(e,t,n){if(0!==(4194240&n)){var u=t.lanes;n|=u&=e.pendingLanes,t.lanes=n,gt(e,n)}}var oa={readContext:br,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useInsertionEffect:Ao,useLayoutEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useMutableSource:Ao,useSyncExternalStore:Ao,useId:Ao,unstable_isNewReconciler:!1},aa={readContext:br,useCallback:function(e,t){return wo().memoizedState=[e,void 0===t?null:t],e},useContext:br,useEffect:Go,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,$o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=wo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var u=wo();return t=void 0!==n?n(t):t,u.memoizedState=u.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},u.queue=e,e=e.dispatch=ta.bind(null,po,e),[u.memoizedState,e]},useRef:function(e){return e={current:e},wo().memoizedState=e},useState:Mo,useDebugValue:Yo,useDeferredValue:function(e){return wo().memoizedState=e},useTransition:function(){var e=Mo(!1),t=e[0];return e=Jo.bind(null,e[1]),wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var u=po,i=wo();if(ir){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===xs)throw Error(r(349));0!==(30&fo)||Po(u,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Go(Lo.bind(null,u,o,e),[e]),u.flags|=2048,Uo(9,Ro.bind(null,u,o,n,t),void 0,null),n},useId:function(){var e=wo(),t=xs.identifierPrefix;if(ir){var n=Qi;t=":"+t+"R"+(n=(Ki&~(1<<32-ot(Ki)-1)).toString(32)+n),0<(n=vo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sa={readContext:br,useCallback:Ko,useContext:br,useEffect:Wo,useImperativeHandle:qo,useInsertionEffect:Xo,useLayoutEffect:jo,useMemo:Qo,useReducer:xo,useRef:zo,useState:function(){return xo(No)},useDebugValue:Yo,useDeferredValue:function(e){return Zo(So(),Eo.memoizedState,e)},useTransition:function(){return[xo(No)[0],So().memoizedState]},useMutableSource:ko,useSyncExternalStore:Io,useId:ea,unstable_isNewReconciler:!1},la={readContext:br,useCallback:Ko,useContext:br,useEffect:Wo,useImperativeHandle:qo,useInsertionEffect:Xo,useLayoutEffect:jo,useMemo:Qo,useReducer:To,useRef:zo,useState:function(){return To(No)},useDebugValue:Yo,useDeferredValue:function(e){var t=So();return null===Eo?t.memoizedState=e:Zo(t,Eo.memoizedState,e)},useTransition:function(){return[To(No)[0],So().memoizedState]},useMutableSource:ko,useSyncExternalStore:Io,useId:ea,unstable_isNewReconciler:!1};function ca(e,t){try{var n="",u=t;do{n+=V(u),u=u.return}while(u);var i=n}catch(r){i="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:i,digest:null}}function Da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function da(e,t,n){(n=Pr(-1,n)).tag=3,n.payload={element:null};var u=t.value;return n.callback=function(){Ws||(Ws=!0,Xs=u),ha(0,t)},n}function pa(e,t,n){(n=Pr(-1,n)).tag=3;var u=e.type.getDerivedStateFromError;if("function"===typeof u){var i=t.value;n.payload=function(){return u(i)},n.callback=function(){ha(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof u&&(null===js?js=new Set([this]):js.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ea(e,t,n){var u=e.pingCache;if(null===u){u=e.pingCache=new fa;var i=new Set;u.set(t,i)}else void 0===(i=u.get(t))&&(i=new Set,u.set(t,i));i.has(n)||(i.add(n),e=bl.bind(null,e,t,n),t.then(e,e))}function Ca(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ga(e,t,n,u,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pr(-1,1)).tag=2,Rr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Fa=v.ReactCurrentOwner,va=!1;function ma(e,t,n,u){t.child=null===e?Qr(t,null,n,u):Kr(t,e.child,n,u)}function Aa(e,t,n,u,i){n=n.render;var r=t.ref;return Br(t,i),u=Bo(e,t,n,u,r,i),n=bo(),null===e||va?(ir&&n&&er(t),t.flags|=1,ma(e,t,u,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function ya(e,t,n,u,i){if(null===e){var r=n.type;return"function"!==typeof r||Il(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,u,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ba(e,t,r,u,i))}if(r=e.child,0===(e.lanes&i)){var o=r.memoizedProps;if((n=null!==(n=n.compare)?n:su)(o,u)&&e.ref===t.ref)return Wa(e,t,i)}return t.flags|=1,(e=Pl(r,u)).ref=t.ref,e.return=t,t.child=e}function Ba(e,t,n,u,i){if(null!==e){var r=e.memoizedProps;if(su(r,u)&&e.ref===t.ref){if(va=!1,t.pendingProps=u=r,0===(e.lanes&i))return t.lanes=e.lanes,Wa(e,t,i);0!==(131072&e.flags)&&(va=!0)}}return Sa(e,t,n,u,i)}function ba(e,t,n){var u=t.pendingProps,i=u.children,r=null!==e?e.memoizedState:null;if("hidden"===u.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wi(Ps,Is),Is|=n;else{if(0===(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wi(Ps,Is),Is|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=null!==r?r.baseLanes:n,wi(Ps,Is),Is|=u}else null!==r?(u=r.baseLanes|n,t.memoizedState=null):u=n,wi(Ps,Is),Is|=u;return ma(e,t,i,n),t.child}function wa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,u,i){var r=Ii(n)?Ti:Ni.current;return r=ki(t,r),Br(t,i),n=Bo(e,t,n,u,r,i),u=bo(),null===e||va?(ir&&u&&er(t),t.flags|=1,ma(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wa(e,t,i))}function Na(e,t,n,u,i){if(Ii(n)){var r=!0;Oi(t)}else r=!1;if(Br(t,i),null===t.stateNode)Ga(e,t),Gr(t,n,u),Xr(t,n,u,i),u=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=br(l):l=ki(t,l=Ii(n)?Ti:Ni.current);var c=n.getDerivedStateFromProps,D="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;D||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==u||s!==l)&&Wr(t,o,u,l),Tr=!1;var h=t.memoizedState;o.state=h,_r(t,u,o,i),s=t.memoizedState,a!==u||h!==s||xi.current||Tr?("function"===typeof c&&(zr(t,n,c,u),s=t.memoizedState),(a=Tr||Hr(t,n,a,u,h,s,l))?(D||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=s),o.props=u,o.state=s,o.context=l,u=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),u=!1)}else{o=t.stateNode,Ir(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Er(t.type,a),o.props=l,D=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=br(s):s=ki(t,s=Ii(n)?Ti:Ni.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==D||h!==s)&&Wr(t,o,u,s),Tr=!1,h=t.memoizedState,o.state=h,_r(t,u,o,i);var d=t.memoizedState;a!==D||h!==d||xi.current||Tr?("function"===typeof f&&(zr(t,n,f,u),d=t.memoizedState),(l=Tr||Hr(t,n,l,u,h,d,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(u,d,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(u,d,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=d),o.props=u,o.state=d,o.context=s,u=l):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),u=!1)}return xa(e,t,n,u,r,i)}function xa(e,t,n,u,i,r){wa(e,t);var o=0!==(128&t.flags);if(!u&&!o)return i&&_i(t,n,!1),Wa(e,t,r);u=t.stateNode,Fa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:u.render();return t.flags|=1,null!==e&&o?(t.child=Kr(t,e.child,null,r),t.child=Kr(t,null,a,r)):ma(e,t,a,r),t.memoizedState=u.state,i&&_i(t,n,!0),t.child}function Ta(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),uo(e,t.containerInfo)}function ka(e,t,n,u,i){return fr(),dr(i),t.flags|=256,ma(e,t,n,u),t.child}var Ia,Pa,Ra,La={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function _a(e,t,n){var u,i=t.pendingProps,o=ao.current,a=!1,s=0!==(128&t.flags);if((u=s)||(u=(null===e||null!==e.memoizedState)&&0!==(2&o)),u?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),wi(ao,1&o),null===e)return lr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,a?(i=t.mode,a=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=s):a=Ol(s,i,0,null),e=Ll(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(n),t.memoizedState=La,e):Ma(t,s));if(null!==(o=e.memoizedState)&&null!==(u=o.dehydrated))return function(e,t,n,u,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,u=Da(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=u.fallback,i=t.mode,u=Ol({mode:"visible",children:u.children},i,0,null),(o=Ll(o,i,a,null)).flags|=2,u.return=t,o.return=t,u.sibling=o,t.child=u,0!==(1&t.mode)&&Kr(t,e.child,null,a),t.child.memoizedState=Oa(a),t.memoizedState=La,o);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(u=i.nextSibling&&i.nextSibling.dataset)var s=u.dgst;return u=s,Ua(e,t,a,u=Da(o=Error(r(419)),u,void 0))}if(s=0!==(a&e.childLanes),va||s){if(null!==(u=xs)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(u.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,xr(e,i),nl(u,e,i,-1))}return pl(),Ua(e,t,a,u=Da(Error(r(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ur=li(i.nextSibling),nr=t,ir=!0,rr=null,null!==e&&($i[qi++]=Ki,$i[qi++]=Qi,$i[qi++]=Yi,Ki=e.id,Qi=e.overflow,Yi=t),t=Ma(t,u.children),t.flags|=4096,t)}(e,t,s,i,u,o,n);if(a){a=i.fallback,s=t.mode,u=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Pl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==u?a=Pl(u,a):(a=Ll(a,s,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,s=null===(s=e.child.memoizedState)?Oa(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Pl(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ma(e,t){return(t=Ol({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,u){return null!==u&&dr(u),Kr(t,e.child,null,n),(e=Ma(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var u=e.alternate;null!==u&&(u.lanes|=t),yr(e.return,t,n)}function Va(e,t,n,u,i){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:n,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=u,r.tail=n,r.tailMode=i)}function Ha(e,t,n){var u=t.pendingProps,i=u.revealOrder,r=u.tail;if(ma(e,t,u.children,n),0!==(2&(u=ao.current)))u=1&u|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}if(wi(ao,u),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,r);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,r);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Os|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Pl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){if(!ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var u=null;null!==n;)null!==n.alternate&&(u=n),n=n.sibling;null===u?t||null===e.tail?e.tail=null:e.tail.sibling=null:u.sibling=null}}function ja(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,u=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,u|=14680064&i.subtreeFlags,u|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,u|=i.subtreeFlags,u|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=u,e.childLanes=n,t}function $a(e,t,n){var u=t.pendingProps;switch(tr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ja(t),null;case 1:case 17:return Ii(t.type)&&Pi(),ja(t),null;case 3:return u=t.stateNode,io(),bi(xi),bi(Ni),co(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==e&&null!==e.child||(Dr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==rr&&(ol(rr),rr=null))),ja(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!u){if(null===t.stateNode)throw Error(r(166));return ja(t),null}if(e=no(Jr.current),Dr(t)){u=t.stateNode,n=t.type;var o=t.memoizedProps;switch(u[hi]=t,u[fi]=o,e=0!==(1&t.mode),n){case"dialog":Uu("cancel",u),Uu("close",u);break;case"iframe":case"object":case"embed":Uu("load",u);break;case"video":case"audio":for(i=0;i<Lu.length;i++)Uu(Lu[i],u);break;case"source":Uu("error",u);break;case"img":case"image":case"link":Uu("error",u),Uu("load",u);break;case"details":Uu("toggle",u);break;case"input":K(u,o),Uu("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!o.multiple},Uu("invalid",u);break;case"textarea":ie(u,o),Uu("invalid",u)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?u.textContent!==l&&(!0!==o.suppressHydrationWarning&&Zu(u.textContent,l,e),i=["children",l]):"number"===typeof l&&u.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Zu(u.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Uu("scroll",u)}switch(n){case"input":j(u),J(u,o,!0);break;case"textarea":j(u),oe(u);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(u.onclick=Ju)}u=i,t.updateQueue=u,null!==u&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof u.is?e=s.createElement(n,{is:u.is}):(e=s.createElement(n),"select"===n&&(s=e,u.multiple?s.multiple=!0:u.size&&(s.size=u.size))):e=s.createElementNS(e,n),e[hi]=t,e[fi]=u,Ia(e,t),t.stateNode=e;e:{switch(s=Fe(n,u),n){case"dialog":Uu("cancel",e),Uu("close",e),i=u;break;case"iframe":case"object":case"embed":Uu("load",e),i=u;break;case"video":case"audio":for(i=0;i<Lu.length;i++)Uu(Lu[i],e);i=u;break;case"source":Uu("error",e),i=u;break;case"img":case"image":case"link":Uu("error",e),Uu("load",e),i=u;break;case"details":Uu("toggle",e),i=u;break;case"input":K(e,u),i=Y(e,u),Uu("invalid",e);break;case"option":default:i=u;break;case"select":e._wrapperState={wasMultiple:!!u.multiple},i=_({},u,{value:void 0}),Uu("invalid",e);break;case"textarea":ie(e,u),i=ue(e,u),Uu("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?Ee(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&De(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Uu("scroll",e):null!=c&&F(e,o,c,s))}switch(n){case"input":j(e),J(e,u,!1);break;case"textarea":j(e),oe(e);break;case"option":null!=u.value&&e.setAttribute("value",""+W(u.value));break;case"select":e.multiple=!!u.multiple,null!=(o=u.value)?ne(e,!!u.multiple,o,!1):null!=u.defaultValue&&ne(e,!!u.multiple,u.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Ju)}switch(n){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ja(t),null;case 6:if(e&&null!=t.stateNode)Ra(0,t,e.memoizedProps,u);else{if("string"!==typeof u&&null===t.stateNode)throw Error(r(166));if(n=no(to.current),no(Jr.current),Dr(t)){if(u=t.stateNode,n=t.memoizedProps,u[hi]=t,(o=u.nodeValue!==n)&&null!==(e=nr))switch(e.tag){case 3:Zu(u.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zu(u.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(u=(9===n.nodeType?n:n.ownerDocument).createTextNode(u))[hi]=t,t.stateNode=u}return ja(t),null;case 13:if(bi(ao),u=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ir&&null!==ur&&0!==(1&t.mode)&&0===(128&t.flags))hr(),fr(),t.flags|=98560,o=!1;else if(o=Dr(t),null!==u&&null!==u.dehydrated){if(null===e){if(!o)throw Error(r(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(r(317));o[hi]=t}else fr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ja(t),o=!1}else null!==rr&&(ol(rr),rr=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((u=null!==u)!==(null!==e&&null!==e.memoizedState)&&u&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Rs&&(Rs=3):pl())),null!==t.updateQueue&&(t.flags|=4),ja(t),null);case 4:return io(),null===e&&Hu(t.stateNode.containerInfo),ja(t),null;case 10:return Ar(t.type._context),ja(t),null;case 19:if(bi(ao),null===(o=t.memoizedState))return ja(t),null;if(u=0!==(128&t.flags),null===(s=o.rendering))if(u)Xa(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Xa(o,!1),null!==(u=s.updateQueue)&&(t.updateQueue=u,t.flags|=4),t.subtreeFlags=0,u=n,n=t.child;null!==n;)e=u,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return wi(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Hs&&(t.flags|=128,u=!0,Xa(o,!1),t.lanes=4194304)}else{if(!u)if(null!==(e=so(s))){if(t.flags|=128,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ir)return ja(t),null}else 2*Qe()-o.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=128,u=!0,Xa(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=ao.current,wi(ao,u?1&n|2:1&n),t):(ja(t),null);case 22:case 23:return Dl(),u=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==u&&(t.flags|=8192),u&&0!==(1&t.mode)?0!==(1073741824&Is)&&(ja(t),6&t.subtreeFlags&&(t.flags|=8192)):ja(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function qa(e,t){switch(tr(t),t.tag){case 1:return Ii(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),bi(xi),bi(Ni),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(bi(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));fr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return bi(ao),null;case 4:return io(),null;case 10:return Ar(t.type._context),null;case 22:case 23:return Dl(),null;default:return null}}Ia=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(e,t,n,u){var i=e.memoizedProps;if(i!==u){e=t.stateNode,no(Jr.current);var r,o=null;switch(n){case"input":i=Y(e,i),u=Y(e,u),o=[];break;case"select":i=_({},i,{value:void 0}),u=_({},u,{value:void 0}),o=[];break;case"textarea":i=ue(e,i),u=ue(e,u),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof u.onClick&&(e.onclick=Ju)}for(c in ge(n,u),n=null,i)if(!u.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(r in s)s.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in u){var l=u[c];if(s=null!=i?i[c]:void 0,u.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(r in s)!s.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in l)l.hasOwnProperty(r)&&s[r]!==l[r]&&(n||(n={}),n[r]=l[r])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Uu("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ra=function(e,t,n,u){n!==u&&(t.flags|=4)};var Ya=!1,Ka=!1,Qa="function"===typeof WeakSet?WeakSet:Set,Za=null;function Ja(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(u){Bl(e,t,u)}else n.current=null}function es(e,t,n){try{n()}catch(u){Bl(e,t,u)}}var ts=!1;function ns(e,t,n){var u=t.updateQueue;if(null!==(u=null!==u?u.lastEffect:null)){var i=u=u.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,void 0!==r&&es(t,n,r)}i=i.next}while(i!==u)}}function us(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var u=n.create;n.destroy=u()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function rs(e){var t=e.alternate;null!==t&&(e.alternate=null,rs(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[pi],delete t[Ei],delete t[Ci])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function as(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var u=e.tag;if(5===u||6===u)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==u&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function ls(e,t,n){var u=e.tag;if(5===u||6===u)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==u&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var cs=null,Ds=!1;function hs(e,t,n){for(n=n.child;null!==n;)fs(e,t,n),n=n.sibling}function fs(e,t,n){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ka||Ja(n,t);case 6:var u=cs,i=Ds;cs=null,hs(e,t,n),Ds=i,null!==(cs=u)&&(Ds?(e=cs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cs.removeChild(n.stateNode));break;case 18:null!==cs&&(Ds?(e=cs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Ht(e)):si(cs,n.stateNode));break;case 4:u=cs,i=Ds,cs=n.stateNode.containerInfo,Ds=!0,hs(e,t,n),cs=u,Ds=i;break;case 0:case 11:case 14:case 15:if(!Ka&&(null!==(u=n.updateQueue)&&null!==(u=u.lastEffect))){i=u=u.next;do{var r=i,o=r.destroy;r=r.tag,void 0!==o&&(0!==(2&r)||0!==(4&r))&&es(n,t,o),i=i.next}while(i!==u)}hs(e,t,n);break;case 1:if(!Ka&&(Ja(n,t),"function"===typeof(u=n.stateNode).componentWillUnmount))try{u.props=n.memoizedProps,u.state=n.memoizedState,u.componentWillUnmount()}catch(a){Bl(n,t,a)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Ka=(u=Ka)||null!==n.memoizedState,hs(e,t,n),Ka=u):hs(e,t,n);break;default:hs(e,t,n)}}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qa),t.forEach((function(t){var u=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(u,u))}))}}function ps(e,t){var n=t.deletions;if(null!==n)for(var u=0;u<n.length;u++){var i=n[u];try{var o=e,a=t,s=a;e:for(;null!==s;){switch(s.tag){case 5:cs=s.stateNode,Ds=!1;break e;case 3:case 4:cs=s.stateNode.containerInfo,Ds=!0;break e}s=s.return}if(null===cs)throw Error(r(160));fs(o,a,i),cs=null,Ds=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Bl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Es(t,e),t=t.sibling}function Es(e,t){var n=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ps(t,e),Cs(e),4&u){try{ns(3,e,e.return),us(3,e)}catch(E){Bl(e,e.return,E)}try{ns(5,e,e.return)}catch(E){Bl(e,e.return,E)}}break;case 1:ps(t,e),Cs(e),512&u&&null!==n&&Ja(n,n.return);break;case 5:if(ps(t,e),Cs(e),512&u&&null!==n&&Ja(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(E){Bl(e,e.return,E)}}if(4&u&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&Q(i,o),Fe(s,a);var c=Fe(s,o);for(a=0;a<l.length;a+=2){var D=l[a],h=l[a+1];"style"===D?Ee(i,h):"dangerouslySetInnerHTML"===D?De(i,h):"children"===D?he(i,h):F(i,D,h,c)}switch(s){case"input":Z(i,o);break;case"textarea":re(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;null!=d?ne(i,!!o.multiple,d,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(E){Bl(e,e.return,E)}}break;case 6:if(ps(t,e),Cs(e),4&u){if(null===e.stateNode)throw Error(r(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(E){Bl(e,e.return,E)}}break;case 3:if(ps(t,e),Cs(e),4&u&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(E){Bl(e,e.return,E)}break;case 4:default:ps(t,e),Cs(e);break;case 13:ps(t,e),Cs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=Qe())),4&u&&ds(e);break;case 22:if(D=null!==n&&null!==n.memoizedState,1&e.mode?(Ka=(c=Ka)||D,ps(t,e),Ka=c):ps(t,e),Cs(e),8192&u){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!D&&0!==(1&e.mode))for(Za=e,D=e.child;null!==D;){for(h=Za=D;null!==Za;){switch(d=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:ns(4,f,f.return);break;case 1:Ja(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){u=f,n=f.return;try{t=u,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(E){Bl(u,n,E)}}break;case 5:Ja(f,f.return);break;case 22:if(null!==f.memoizedState){ms(h);continue}}null!==d?(d.return=f,Za=d):ms(h)}D=D.sibling}e:for(D=null,h=e;;){if(5===h.tag){if(null===D){D=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,a=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=pe("display",a))}catch(E){Bl(e,e.return,E)}}}else if(6===h.tag){if(null===D)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(E){Bl(e,e.return,E)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;D===h&&(D=null),h=h.return}D===h&&(D=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ps(t,e),Cs(e),4&u&&ds(e);case 21:}}function Cs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var u=n;break e}n=n.return}throw Error(r(160))}switch(u.tag){case 5:var i=u.stateNode;32&u.flags&&(he(i,""),u.flags&=-33),ls(e,as(e),i);break;case 3:case 4:var o=u.stateNode.containerInfo;ss(e,as(e),o);break;default:throw Error(r(161))}}catch(a){Bl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Za=e,Fs(e,t,n)}function Fs(e,t,n){for(var u=0!==(1&e.mode);null!==Za;){var i=Za,r=i.child;if(22===i.tag&&u){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,s=null!==a&&null!==a.memoizedState||Ka;a=Ya;var l=Ka;if(Ya=o,(Ka=s)&&!l)for(Za=i;null!==Za;)s=(o=Za).child,22===o.tag&&null!==o.memoizedState?As(i):null!==s?(s.return=o,Za=s):As(i);for(;null!==r;)Za=r,Fs(r,t,n),r=r.sibling;Za=i,Ya=a,Ka=l}vs(e)}else 0!==(8772&i.subtreeFlags)&&null!==r?(r.return=i,Za=r):vs(e)}}function vs(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ka||us(5,t);break;case 1:var u=t.stateNode;if(4&t.flags&&!Ka)if(null===n)u.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Er(t.type,n.memoizedProps);u.componentDidUpdate(i,n.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Mr(t,o,u);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Mr(t,a,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var D=c.memoizedState;if(null!==D){var h=D.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(r(163))}Ka||512&t.flags&&is(t)}catch(f){Bl(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function ms(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function As(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{us(4,t)}catch(s){Bl(t,n,s)}break;case 1:var u=t.stateNode;if("function"===typeof u.componentDidMount){var i=t.return;try{u.componentDidMount()}catch(s){Bl(t,i,s)}}var r=t.return;try{is(t)}catch(s){Bl(t,r,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Bl(t,o,s)}}}catch(s){Bl(t,t.return,s)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var ys,Bs=Math.ceil,bs=v.ReactCurrentDispatcher,ws=v.ReactCurrentOwner,Ss=v.ReactCurrentBatchConfig,Ns=0,xs=null,Ts=null,ks=0,Is=0,Ps=Bi(0),Rs=0,Ls=null,Os=0,_s=0,Ms=0,Us=null,zs=null,Vs=0,Hs=1/0,Gs=null,Ws=!1,Xs=null,js=null,$s=!1,qs=null,Ys=0,Ks=0,Qs=null,Zs=-1,Js=0;function el(){return 0!==(6&Ns)?Qe():-1!==Zs?Zs:Zs=Qe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==ks?ks&-ks:null!==pr.transition?(0===Js&&(Js=pt()),Js):0!==(e=Ft)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nl(e,t,n,u){if(50<Ks)throw Ks=0,Qs=null,Error(r(185));Ct(e,n,u),0!==(2&Ns)&&e===xs||(e===xs&&(0===(2&Ns)&&(_s|=n),4===Rs&&al(e,ks)),ul(e,u),1===n&&0===Ns&&0===(1&t.mode)&&(Hs=Qe()+500,Ui&&Hi()))}function ul(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,u=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var o=31-ot(r),a=1<<o,s=i[o];-1===s?0!==(a&n)&&0===(a&u)||(i[o]=ft(a,t)):s<=t&&(e.expiredLanes|=a),r&=~a}}(e,t);var u=ht(e,e===xs?ks:0);if(0===u)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=u&-u,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(sl.bind(null,e)):Vi(sl.bind(null,e)),oi((function(){0===(6&Ns)&&Hi()})),n=null;else{switch(vt(u)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=ut}n=xl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Zs=-1,Js=0,0!==(6&Ns))throw Error(r(327));var n=e.callbackNode;if(Al()&&e.callbackNode!==n)return null;var u=ht(e,e===xs?ks:0);if(0===u)return null;if(0!==(30&u)||0!==(u&e.expiredLanes)||t)t=El(e,u);else{t=u;var i=Ns;Ns|=2;var o=dl();for(xs===e&&ks===t||(Gs=null,Hs=Qe()+500,hl(e,t));;)try{gl();break}catch(s){fl(e,s)}mr(),bs.current=o,Ns=i,null!==Ts?t=0:(xs=null,ks=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=dt(e))&&(u=i,t=rl(e,i))),1===t)throw n=Ls,hl(e,0),al(e,u),ul(e,Qe()),n;if(6===t)al(e,u);else{if(i=e.current.alternate,0===(30&u)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var u=0;u<n.length;u++){var i=n[u],r=i.getSnapshot;i=i.value;try{if(!au(r(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=El(e,u))&&(0!==(o=dt(e))&&(u=o,t=rl(e,o))),1===t))throw n=Ls,hl(e,0),al(e,u),ul(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=u,t){case 0:case 1:throw Error(r(345));case 2:case 5:ml(e,zs,Gs);break;case 3:if(al(e,u),(130023424&u)===u&&10<(t=Vs+500-Qe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&u)!==u){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ui(ml.bind(null,e,zs,Gs),t);break}ml(e,zs,Gs);break;case 4:if(al(e,u),(4194240&u)===u)break;for(t=e.eventTimes,i=-1;0<u;){var a=31-ot(u);o=1<<a,(a=t[a])>i&&(i=a),u&=~o}if(u=i,10<(u=(120>(u=Qe()-u)?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Bs(u/1960))-u)){e.timeoutHandle=ui(ml.bind(null,e,zs,Gs),u);break}ml(e,zs,Gs);break;default:throw Error(r(329))}}}return ul(e,Qe()),e.callbackNode===n?il.bind(null,e):null}function rl(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=El(e,t))&&(t=zs,zs=n,null!==t&&ol(t)),e}function ol(e){null===zs?zs=e:zs.push.apply(zs,e)}function al(e,t){for(t&=~Ms,t&=~_s,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),u=1<<n;e[n]=-1,t&=~u}}function sl(e){if(0!==(6&Ns))throw Error(r(327));Al();var t=ht(e,0);if(0===(1&t))return ul(e,Qe()),null;var n=El(e,t);if(0!==e.tag&&2===n){var u=dt(e);0!==u&&(t=u,n=rl(e,u))}if(1===n)throw n=Ls,hl(e,0),al(e,t),ul(e,Qe()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ml(e,zs,Gs),ul(e,Qe()),null}function ll(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(Hs=Qe()+500,Ui&&Hi())}}function cl(e){null!==qs&&0===qs.tag&&0===(6&Ns)&&Al();var t=Ns;Ns|=1;var n=Ss.transition,u=Ft;try{if(Ss.transition=null,Ft=1,e)return e()}finally{Ft=u,Ss.transition=n,0===(6&(Ns=t))&&Hi()}}function Dl(){Is=Ps.current,bi(Ps)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var u=n;switch(tr(u),u.tag){case 1:null!==(u=u.type.childContextTypes)&&void 0!==u&&Pi();break;case 3:io(),bi(xi),bi(Ni),co();break;case 5:oo(u);break;case 4:io();break;case 13:case 19:bi(ao);break;case 10:Ar(u.type._context);break;case 22:case 23:Dl()}n=n.return}if(xs=e,Ts=e=Pl(e.current,null),ks=Is=t,Rs=0,Ls=null,Ms=_s=Os=0,zs=Us=null,null!==wr){for(t=0;t<wr.length;t++)if(null!==(u=(n=wr[t]).interleaved)){n.interleaved=null;var i=u.next,r=n.pending;if(null!==r){var o=r.next;r.next=i,u.next=o}n.pending=u}wr=null}return e}function fl(e,t){for(;;){var n=Ts;try{if(mr(),Do.current=oa,go){for(var u=po.memoizedState;null!==u;){var i=u.queue;null!==i&&(i.pending=null),u=u.next}go=!1}if(fo=0,Co=Eo=po=null,Fo=!1,vo=0,ws.current=null,null===n||null===n.return){Rs=1,Ls=t,Ts=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=ks,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,D=s,h=D.tag;if(0===(1&D.mode)&&(0===h||11===h||15===h)){var f=D.alternate;f?(D.updateQueue=f.updateQueue,D.memoizedState=f.memoizedState,D.lanes=f.lanes):(D.updateQueue=null,D.memoizedState=null)}var d=Ca(a);if(null!==d){d.flags&=-257,ga(d,a,s,0,t),1&d.mode&&Ea(o,c,t),l=c;var p=(t=d).updateQueue;if(null===p){var E=new Set;E.add(l),t.updateQueue=E}else p.add(l);break e}if(0===(1&t)){Ea(o,c,t),pl();break e}l=Error(r(426))}else if(ir&&1&s.mode){var C=Ca(a);if(null!==C){0===(65536&C.flags)&&(C.flags|=256),ga(C,a,s,0,t),dr(ca(l,s));break e}}o=l=ca(l,s),4!==Rs&&(Rs=2),null===Us?Us=[o]:Us.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Or(o,da(0,l,t));break e;case 1:s=l;var g=o.type,F=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==F&&"function"===typeof F.componentDidCatch&&(null===js||!js.has(F)))){o.flags|=65536,t&=-t,o.lanes|=t,Or(o,pa(o,s,t));break e}}o=o.return}while(null!==o)}vl(n)}catch(v){t=v,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function dl(){var e=bs.current;return bs.current=oa,null===e?oa:e}function pl(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===xs||0===(268435455&Os)&&0===(268435455&_s)||al(xs,ks)}function El(e,t){var n=Ns;Ns|=2;var u=dl();for(xs===e&&ks===t||(Gs=null,hl(e,t));;)try{Cl();break}catch(i){fl(e,i)}if(mr(),Ns=n,bs.current=u,null!==Ts)throw Error(r(261));return xs=null,ks=0,Rs}function Cl(){for(;null!==Ts;)Fl(Ts)}function gl(){for(;null!==Ts&&!Ye();)Fl(Ts)}function Fl(e){var t=ys(e.alternate,e,Is);e.memoizedProps=e.pendingProps,null===t?vl(e):Ts=t,ws.current=null}function vl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$a(n,t,Is)))return void(Ts=n)}else{if(null!==(n=qa(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return Rs=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Rs&&(Rs=5)}function ml(e,t,n){var u=Ft,i=Ss.transition;try{Ss.transition=null,Ft=1,function(e,t,n,u){do{Al()}while(null!==qs);if(0!==(6&Ns))throw Error(r(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var u=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),r=1<<i;t[i]=0,u[i]=-1,e[i]=-1,n&=~r}}(e,o),e===xs&&(Ts=xs=null,ks=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$s||($s=!0,xl(tt,(function(){return Al(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ss.transition,Ss.transition=null;var a=Ft;Ft=1;var s=Ns;Ns|=4,ws.current=null,function(e,t){if(ei=Wt,fu(e=hu())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var u=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(u&&0!==u.rangeCount){n=u.anchorNode;var i=u.anchorOffset,o=u.focusNode;u=u.focusOffset;try{n.nodeType,o.nodeType}catch(m){n=null;break e}var a=0,s=-1,l=-1,c=0,D=0,h=e,f=null;t:for(;;){for(var d;h!==n||0!==i&&3!==h.nodeType||(s=a+i),h!==o||0!==u&&3!==h.nodeType||(l=a+u),3===h.nodeType&&(a+=h.nodeValue.length),null!==(d=h.firstChild);)f=h,h=d;for(;;){if(h===e)break t;if(f===n&&++c===i&&(s=a),f===o&&++D===u&&(l=a),null!==(d=h.nextSibling))break;f=(h=f).parentNode}h=d}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var E=p.memoizedProps,C=p.memoizedState,g=t.stateNode,F=g.getSnapshotBeforeUpdate(t.elementType===t.type?E:Er(t.type,E),C);g.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(r(163))}}catch(m){Bl(t,t.return,m)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}p=ts,ts=!1}(e,n),Es(n,e),du(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ke(),Ns=s,Ft=a,Ss.transition=o}else e.current=n;if($s&&($s=!1,qs=e,Ys=i),o=e.pendingLanes,0===o&&(js=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ul(e,Qe()),null!==t)for(u=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],u(i.value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Xs,Xs=null,e;0!==(1&Ys)&&0!==e.tag&&Al(),o=e.pendingLanes,0!==(1&o)?e===Qs?Ks++:(Ks=0,Qs=e):Ks=0,Hi()}(e,t,n,u)}finally{Ss.transition=i,Ft=u}return null}function Al(){if(null!==qs){var e=vt(Ys),t=Ss.transition,n=Ft;try{if(Ss.transition=null,Ft=16>e?16:e,null===qs)var u=!1;else{if(e=qs,qs=null,Ys=0,0!==(6&Ns))throw Error(r(331));var i=Ns;for(Ns|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Za=c;null!==Za;){var D=Za;switch(D.tag){case 0:case 11:case 15:ns(8,D,o)}var h=D.child;if(null!==h)h.return=D,Za=h;else for(;null!==Za;){var f=(D=Za).sibling,d=D.return;if(rs(D),D===c){Za=null;break}if(null!==f){f.return=d,Za=f;break}Za=d}}}var p=o.alternate;if(null!==p){var E=p.child;if(null!==E){p.child=null;do{var C=E.sibling;E.sibling=null,E=C}while(null!==E)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Za=g;break e}Za=o.return}}var F=e.current;for(Za=F;null!==Za;){var v=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==v)v.return=a,Za=v;else e:for(a=F;null!==Za;){if(0!==(2048&(s=Za).flags))try{switch(s.tag){case 0:case 11:case 15:us(9,s)}}catch(A){Bl(s,s.return,A)}if(s===a){Za=null;break e}var m=s.sibling;if(null!==m){m.return=s.return,Za=m;break e}Za=s.return}}if(Ns=i,Hi(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(it,e)}catch(A){}u=!0}return u}finally{Ft=n,Ss.transition=t}}return!1}function yl(e,t,n){e=Rr(e,t=da(0,t=ca(n,t),1),1),t=el(),null!==e&&(Ct(e,1,t),ul(e,t))}function Bl(e,t,n){if(3===e.tag)yl(e,e,n);else for(;null!==t;){if(3===t.tag){yl(t,e,n);break}if(1===t.tag){var u=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof u.componentDidCatch&&(null===js||!js.has(u))){t=Rr(t,e=pa(t,e=ca(n,e),1),1),e=el(),null!==t&&(Ct(t,1,e),ul(t,e));break}}t=t.return}}function bl(e,t,n){var u=e.pingCache;null!==u&&u.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,xs===e&&(ks&n)===n&&(4===Rs||3===Rs&&(130023424&ks)===ks&&500>Qe()-Vs?hl(e,0):Ms|=n),ul(e,t)}function wl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=xr(e,t))&&(Ct(e,t,n),ul(e,n))}function Sl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),wl(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var u=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:u=e.stateNode;break;default:throw Error(r(314))}null!==u&&u.delete(t),wl(e,n)}function xl(e,t){return $e(e,t)}function Tl(e,t,n,u){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kl(e,t,n,u){return new Tl(e,t,n,u)}function Il(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pl(e,t){var n=e.alternate;return null===n?((n=kl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,u,i,o){var a=2;if(u=e,"function"===typeof e)Il(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case y:return Ll(n.children,i,o,t);case B:a=8,i|=8;break;case b:return(e=kl(12,n,t,2|i)).elementType=b,e.lanes=o,e;case x:return(e=kl(13,n,t,i)).elementType=x,e.lanes=o,e;case T:return(e=kl(19,n,t,i)).elementType=T,e.lanes=o,e;case P:return Ol(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case w:a=10;break e;case S:a=9;break e;case N:a=11;break e;case k:a=14;break e;case I:a=16,u=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=kl(a,n,t,i)).elementType=e,t.type=u,t.lanes=o,t}function Ll(e,t,n,u){return(e=kl(7,e,u,t)).lanes=n,e}function Ol(e,t,n,u){return(e=kl(22,e,u,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function _l(e,t,n){return(e=kl(6,e,null,t)).lanes=n,e}function Ml(e,t,n){return(t=kl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,u,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Et(0),this.expirationTimes=Et(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Et(0),this.identifierPrefix=u,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,u,i,r,o,a,s){return e=new Ul(e,t,n,a,s),1===t?(t=1,!0===r&&(t|=8)):t=0,r=kl(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:u,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kr(r),e}function Vl(e,t,n){var u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==u?null:""+u,children:e,containerInfo:t,implementation:n}}function Hl(e){if(!e)return Si;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Li(e,n,t)}return t}function Gl(e,t,n,u,i,r,o,a,s){return(e=zl(n,u,!0,e,0,r,0,a,s)).context=Hl(null),n=e.current,(r=Pr(u=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Rr(n,r,i),e.current.lanes=i,Ct(e,i,u),ul(e,u),e}function Wl(e,t,n,u){var i=t.current,r=el(),o=tl(i);return n=Hl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pr(r,o)).payload={element:e},null!==(u=void 0===u?null:u)&&(t.callback=u),null!==(e=Rr(i,t,o))&&(nl(e,i,o,r),Lr(e,i,o)),o}function Xl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function jl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $l(e,t){jl(e,t),(e=e.alternate)&&jl(e,t)}ys=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||xi.current)va=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return va=!1,function(e,t,n){switch(t.tag){case 3:Ta(t),fr();break;case 5:ro(t);break;case 1:Ii(t.type)&&Oi(t);break;case 4:uo(t,t.stateNode.containerInfo);break;case 10:var u=t.type._context,i=t.memoizedProps.value;wi(Cr,u._currentValue),u._currentValue=i;break;case 13:if(null!==(u=t.memoizedState))return null!==u.dehydrated?(wi(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?_a(e,t,n):(wi(ao,1&ao.current),null!==(e=Wa(e,t,n))?e.sibling:null);wi(ao,1&ao.current);break;case 19:if(u=0!==(n&t.childLanes),0!==(128&e.flags)){if(u)return Ha(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),wi(ao,ao.current),u)break;return null;case 22:case 23:return t.lanes=0,ba(e,t,n)}return Wa(e,t,n)}(e,t,n);va=0!==(131072&e.flags)}else va=!1,ir&&0!==(1048576&t.flags)&&Ji(t,ji,t.index);switch(t.lanes=0,t.tag){case 2:var u=t.type;Ga(e,t),e=t.pendingProps;var i=ki(t,Ni.current);Br(t,n),i=Bo(null,t,u,e,i,n);var o=bo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(u)?(o=!0,Oi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,kr(t),i.updater=Vr,t.stateNode=i,i._reactInternals=t,Xr(t,u,e,n),t=xa(null,t,u,!0,o,n)):(t.tag=0,ir&&o&&er(t),ma(null,t,i,n),t=t.child),t;case 16:u=t.elementType;e:{switch(Ga(e,t),e=t.pendingProps,u=(i=u._init)(u._payload),t.type=u,i=t.tag=function(e){if("function"===typeof e)return Il(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===k)return 14}return 2}(u),e=Er(u,e),i){case 0:t=Sa(null,t,u,e,n);break e;case 1:t=Na(null,t,u,e,n);break e;case 11:t=Aa(null,t,u,e,n);break e;case 14:t=ya(null,t,u,Er(u.type,e),n);break e}throw Error(r(306,u,""))}return t;case 0:return u=t.type,i=t.pendingProps,Sa(e,t,u,i=t.elementType===u?i:Er(u,i),n);case 1:return u=t.type,i=t.pendingProps,Na(e,t,u,i=t.elementType===u?i:Er(u,i),n);case 3:e:{if(Ta(t),null===e)throw Error(r(387));u=t.pendingProps,i=(o=t.memoizedState).element,Ir(e,t),_r(t,u,null,n);var a=t.memoizedState;if(u=a.element,o.isDehydrated){if(o={element:u,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=ka(e,t,u,n,i=ca(Error(r(423)),t));break e}if(u!==i){t=ka(e,t,u,n,i=ca(Error(r(424)),t));break e}for(ur=li(t.stateNode.containerInfo.firstChild),nr=t,ir=!0,rr=null,n=Qr(t,null,u,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fr(),u===i){t=Wa(e,t,n);break e}ma(e,t,u,n)}t=t.child}return t;case 5:return ro(t),null===e&&lr(t),u=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(u,i)?a=null:null!==o&&ni(u,o)&&(t.flags|=32),wa(e,t),ma(e,t,a,n),t.child;case 6:return null===e&&lr(t),null;case 13:return _a(e,t,n);case 4:return uo(t,t.stateNode.containerInfo),u=t.pendingProps,null===e?t.child=Kr(t,null,u,n):ma(e,t,u,n),t.child;case 11:return u=t.type,i=t.pendingProps,Aa(e,t,u,i=t.elementType===u?i:Er(u,i),n);case 7:return ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return ma(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(u=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,wi(Cr,u._currentValue),u._currentValue=a,null!==o)if(au(o.value,a)){if(o.children===i.children&&!xi.current){t=Wa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){a=o.child;for(var l=s.firstContext;null!==l;){if(l.context===u){if(1===o.tag){(l=Pr(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var D=(c=c.shared).pending;null===D?l.next=l:(l.next=D.next,D.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),yr(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(r(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),yr(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ma(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,u=t.pendingProps.children,Br(t,n),u=u(i=br(i)),t.flags|=1,ma(e,t,u,n),t.child;case 14:return i=Er(u=t.type,t.pendingProps),ya(e,t,u,i=Er(u.type,i),n);case 15:return Ba(e,t,t.type,t.pendingProps,n);case 17:return u=t.type,i=t.pendingProps,i=t.elementType===u?i:Er(u,i),Ga(e,t),t.tag=1,Ii(u)?(e=!0,Oi(t)):e=!1,Br(t,n),Gr(t,u,i),Xr(t,u,i,n),xa(null,t,u,!0,e,n);case 19:return Ha(e,t,n);case 22:return ba(e,t,n)}throw Error(r(156,t.tag))};var ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function Kl(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function ec(e,t,n,u,i){var r=n._reactRootContainer;if(r){var o=r;if("function"===typeof i){var a=i;i=function(){var e=Xl(o);a.call(e)}}Wl(t,o,e,i)}else o=function(e,t,n,u,i){if(i){if("function"===typeof u){var r=u;u=function(){var e=Xl(o);r.call(e)}}var o=Gl(t,u,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[di]=o.current,Hu(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof u){var a=u;u=function(){var e=Xl(s);a.call(e)}}var s=zl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=s,e[di]=s.current,Hu(8===e.nodeType?e.parentNode:e),cl((function(){Wl(t,s,n,u)})),s}(n,t,e,i,u);return Xl(o)}Kl.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Wl(e,t,null,null)},Kl.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Wl(null,e,null,null)})),t[di]=null}},Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Bt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&_t(e)}},mt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Dt(t.pendingLanes);0!==n&&(gt(t,1|n),ul(t,Qe()),0===(6&Ns)&&(Hs=Qe()+500,Hi()))}break;case 13:cl((function(){var t=xr(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),$l(e,1)}},At=function(e){if(13===e.tag){var t=xr(e,134217728);if(null!==t)nl(t,e,134217728,el());$l(e,134217728)}},yt=function(e){if(13===e.tag){var t=tl(e),n=xr(e,t);if(null!==n)nl(n,e,t,el());$l(e,t)}},Bt=function(){return Ft},bt=function(e,t){var n=Ft;try{return Ft=e,t()}finally{Ft=n}},Ae=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var u=n[t];if(u!==e&&u.form===e.form){var i=mi(u);if(!i)throw Error(r(90));$(u),Z(u,i)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=ll,xe=cl;var tc={usingClientEntryPoint:!1,Events:[Fi,vi,mi,we,Se,ll]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},uc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(uc),rt=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(r(200));return Vl(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(r(299));var n=!1,u="",i=ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(u=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,u,i),e[di]=t.current,Hu(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Zl(t))throw Error(r(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(r(405));var u=null!=n&&n.hydratedSources||null,i=!1,o="",a=ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Gl(t,null,e,1,null!=n?n:null,i,0,o,a),e[di]=t.current,Hu(e),u)for(e=0;e<u.length;e++)i=(i=(n=u[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kl(t)},t.render=function(e,t,n){if(!Zl(t))throw Error(r(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(r(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[di]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,u){if(!Zl(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return ec(e,t,n,!1,u)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var u=n(164);t.createRoot=u.createRoot,t.hydrateRoot=u.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var u=n(791),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var u,r={},l=null,c=null;for(u in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,u)&&!s.hasOwnProperty(u)&&(r[u]=t[u]);if(e&&e.defaultProps)for(u in t=e.defaultProps)void 0===r[u]&&(r[u]=t[u]);return{$$typeof:i,type:e,key:l,ref:c,props:r,_owner:a.current}}t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),u=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),D=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,E={};function C(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||d}function g(){}function F(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||d}C.prototype.isReactComponent={},C.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},C.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=C.prototype;var v=F.prototype=new g;v.constructor=F,p(v,C.prototype),v.isPureReactComponent=!0;var m=Array.isArray,A=Object.prototype.hasOwnProperty,y={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function b(e,t,u){var i,r={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,i)&&!B.hasOwnProperty(i)&&(r[i]=t[i]);var s=arguments.length-2;if(1===s)r.children=u;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===r[i]&&(r[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:a,props:r,_owner:y.current}}function w(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,i,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var s=!1;if(null===e)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case u:s=!0}}if(s)return o=o(s=e),e=""===r?"."+N(s,0):r,m(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),x(o,t,i,"",(function(e){return e}))):null!=o&&(w(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",m(e))for(var l=0;l<e.length;l++){var c=r+N(a=e[l],l);s+=x(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(a=e.next()).done;)s+=x(a=a.value,t,i,c=r+N(a,l++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function T(e,t,n){if(null==e)return e;var u=[],i=0;return x(e,u,"","",(function(e){return t.call(n,e,i++)})),u}function k(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},P={transition:null},R={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:P,ReactCurrentOwner:y};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!w(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=C,t.Fragment=i,t.Profiler=o,t.PureComponent=F,t.StrictMode=r,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,u){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),r=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=y.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)A.call(t,l)&&!B.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=u;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:r,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=b,t.createFactory=function(e){var t=b.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=w,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:D,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var u=n-1>>>1,i=e[u];if(!(0<r(i,t)))break e;e[u]=t,e[n]=i,n=u}}function u(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var u=0,i=e.length,o=i>>>1;u<o;){var a=2*(u+1)-1,s=e[a],l=a+1,c=e[l];if(0>r(s,n))l<i&&0>r(c,s)?(e[u]=c,e[l]=n,u=l):(e[u]=s,e[a]=n,u=a);else{if(!(l<i&&0>r(c,n)))break e;e[u]=c,e[l]=n,u=l}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],c=[],D=1,h=null,f=3,d=!1,p=!1,E=!1,C="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,F="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=u(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=u(c)}}function m(e){if(E=!1,v(e),!p)if(null!==u(l))p=!0,P(A);else{var t=u(c);null!==t&&R(m,t.startTime-e)}}function A(e,n){p=!1,E&&(E=!1,g(w),w=-1),d=!0;var r=f;try{for(v(n),h=u(l);null!==h&&(!(h.expirationTime>n)||e&&!x());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===u(l)&&i(l),v(n)}else i(l);h=u(l)}if(null!==h)var s=!0;else{var D=u(c);null!==D&&R(m,D.startTime-n),s=!1}return s}finally{h=null,f=r,d=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var y,B=!1,b=null,w=-1,S=5,N=-1;function x(){return!(t.unstable_now()-N<S)}function T(){if(null!==b){var e=t.unstable_now();N=e;var n=!0;try{n=b(!0,e)}finally{n?y():(B=!1,b=null)}}else B=!1}if("function"===typeof F)y=function(){F(T)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel,I=k.port2;k.port1.onmessage=T,y=function(){I.postMessage(null)}}else y=function(){C(T,0)};function P(e){b=e,B||(B=!0,y())}function R(e,n){w=C((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,P(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return u(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,r){var o=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?o+r:o:r=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:D++,callback:i,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>o?(e.sortIndex=r,n(c,e),null===u(l)&&e===u(c)&&(E?(g(w),w=-1):E=!0,R(m,r-o))):(e.sortIndex=a,n(l,e),p||d||(p=!0,P(A))),e},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(u){var i=t[u];if(void 0!==i)return i.exports;var r=t[u]={exports:{}};return e[u](r,r.exports,n),r.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(u,i){if(1&i&&(u=this(u)),8&i)return u;if("object"===typeof u&&u){if(4&i&&u.__esModule)return u;if(16&i&&"function"===typeof u.then)return u}var r=Object.create(null);n.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&u;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){o[e]=function(){return u[e]}}));return o.default=function(){return u},n.d(r,o),r}}(),n.d=function(e,t){for(var u in t)n.o(t,u)&&!n.o(e,u)&&Object.defineProperty(e,u,{enumerable:!0,get:t[u]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,u){return n.f[u](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".cb35298b.chunk.js"},n.miniCssF=function(e){},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="vivliostyle-react-test:";n.l=function(u,i,r,o){if(e[u])e[u].push(i);else{var a,s;if(void 0!==r)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var D=l[c];if(D.getAttribute("src")==u||D.getAttribute("data-webpack")==t+r){a=D;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+r),a.src=u),e[u]=[i];var h=function(t,n){a.onerror=a.onload=null,clearTimeout(f);var i=e[u];if(delete e[u],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),s&&document.head.appendChild(a)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/vivliostyle-react-test/",function(){var e={179:0};n.f.j=function(t,u){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)u.push(i[2]);else{var r=new Promise((function(n,u){i=e[t]=[n,u]}));u.push(i[2]=r);var o=n.p+n.u(t),a=new Error;n.l(o,(function(u){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=u&&("load"===u.type?"missing":u.type),o=u&&u.target&&u.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",a.name="ChunkLoadError",a.type=r,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=function(t,u){var i,r,o=u[0],a=u[1],s=u[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(s)s(n)}for(t&&t(u);l<o.length;l++)r=o[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},u=self.webpackChunkvivliostyle_react_test=self.webpackChunkvivliostyle_react_test||[];u.forEach(t.bind(null,0)),u.push=t.bind(null,u.push.bind(u))}(),function(){"use strict";var e,t=n(791),u=n.t(t,2),i=n(250);function r(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,u=new Array(t);n<t;n++)u[n]=e[n];return u}function a(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return r(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var u,i,r,o,a=[],s=!0,l=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(u=r.call(n)).done)&&(a.push(u.value),a.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}(e,t)||a(e,t)||s()}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function h(e){var t=function(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var u=n.call(e,t||"default");if("object"!==D(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===D(t)?t:String(t)}function f(e,t){for(var n=0;n<t.length;n++){var u=t[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,h(u.key),u)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function F(e,t){if(t&&("object"===D(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){var t=g();return function(){var n,u=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(u,arguments,i)}else n=u.apply(this,arguments);return F(this,n)}}function m(e,t,n){return m=g()?Reflect.construct.bind():function(e,t,n){var u=[null];u.push.apply(u,t);var i=new(Function.bind.apply(e,u));return n&&p(i,n.prototype),i},m.apply(null,arguments)}function A(e){var t="function"===typeof Map?new Map:void 0;return A=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,u)}function u(){return m(e,arguments,C(this).constructor)}return u.prototype=Object.create(e.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p(u,e)},A(e)}function y(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function B(e){return function(e){if(Array.isArray(e))return o(e)}(e)||y(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},b.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var w,S="popstate";function N(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function T(e,t){return{usr:e.state,key:e.key,idx:t}}function k(e,t,n,u){return void 0===n&&(n=null),b({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?P(t):t,{state:n,key:t&&t.key||u||Math.random().toString(36).substr(2,8)})}function I(e){var t=e.pathname,n=void 0===t?"/":t,u=e.search,i=void 0===u?"":u,r=e.hash,o=void 0===r?"":r;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function P(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var u=e.indexOf("?");u>=0&&(t.search=e.substr(u),e=e.substr(0,u)),e&&(t.pathname=e)}return t}function R(t,n,u,i){void 0===i&&(i={});var r=i,o=r.window,a=void 0===o?document.defaultView:o,s=r.v5Compat,l=void 0!==s&&s,c=a.history,D=e.Pop,h=null,f=d();function d(){return(c.state||{idx:null}).idx}function p(){var t=e.Pop,n=d();if(null!=n){var u=n-f;D=t,f=n,h&&h({action:D,location:C.location,delta:u})}else x(!1,"You are trying to block a POP navigation to a location that was not created by @remix-run/router. The block will fail silently in production, but in general you should do all navigation with the router (instead of using window.history.pushState directly) to avoid this situation.")}function E(e){var t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:I(e);return N(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,c.replaceState(b({},c.state,{idx:f}),""));var C={get action(){return D},get location(){return t(a,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(S,p),h=e,function(){a.removeEventListener(S,p),h=null}},createHref:function(e){return n(a,e)},createURL:E,encodeLocation:function(e){var t=E(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){D=e.Push;var i=k(C.location,t,n);u&&u(i,t);var r=T(i,f=d()+1),o=C.createHref(i);try{c.pushState(r,"",o)}catch(s){a.location.assign(o)}l&&h&&h({action:D,location:C.location,delta:1})},replace:function(t,n){D=e.Replace;var i=k(C.location,t,n);u&&u(i,t);var r=T(i,f=d()),o=C.createHref(i);c.replaceState(r,"",o),l&&h&&h({action:D,location:C.location,delta:0})},go:function(e){return c.go(e)}};return C}function L(e,t,n){void 0===n&&(n="/");var u=W(("string"===typeof t?P(t):t).pathname||"/",n);if(null==u)return null;var i=O(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var r=null,o=0;null==r&&o<i.length;++o)r=V(i[o],G(u));return r}function O(e,t,n,u){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===u&&(u="");var i=function(e,i,r){var o={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(N(o.relativePath.startsWith(u),'Absolute route path "'+o.relativePath+'" nested under path "'+u+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(u.length));var a=Y([u,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(N(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),O(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:z(a,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var u,r=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var u=0,i=function(){};return{s:i,n:function(){return u>=e.length?{done:!0}:{done:!1,value:e[u++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}(_(e.path));try{for(r.s();!(u=r.n()).done;){var o=u.value;i(e,t,o)}}catch(s){r.e(s)}finally{r.f()}}else i(e,t)})),t}function _(e){var t=e.split("/");if(0===t.length)return[];var n,u=r(n=t)||y(n)||a(n)||s(),i=u[0],o=u.slice(1),l=i.endsWith("?"),c=i.replace(/\?$/,"");if(0===o.length)return l?[c,""]:[c];var D=_(o.join("/")),h=[];return h.push.apply(h,B(D.map((function(e){return""===e?c:[c,e].join("/")})))),l&&h.push.apply(h,B(D)),h.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(w||(w={}));var M=/^:\w+$/,U=function(e){return"*"===e};function z(e,t){var n=e.split("/"),u=n.length;return n.some(U)&&(u+=-2),t&&(u+=2),n.filter((function(e){return!U(e)})).reduce((function(e,t){return e+(M.test(t)?3:""===t?1:10)}),u)}function V(e,t){for(var n=e.routesMeta,u={},i="/",r=[],o=0;o<n.length;++o){var a=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=H({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},l);if(!c)return null;Object.assign(u,c.params);var D=a.route;r.push({params:u,pathname:Y([i,c.pathname]),pathnameBase:K(Y([i,c.pathnameBase])),route:D}),"/"!==c.pathnameBase&&(i=Y([i,c.pathnameBase]))}return r}function H(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);X("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var u=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return u.push(t),"/([^\\/]+)"}));e.endsWith("*")?(u.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var r=new RegExp(i,t?void 0:"i");return[r,u]}(e.path,e.caseSensitive,e.end),u=l(n,2),i=u[0],r=u[1],o=t.match(i);if(!o)return null;var a=o[0],s=a.replace(/(.)\/+$/,"$1"),c=o.slice(1),D=r.reduce((function(e,t,n){if("*"===t){var u=c[n]||"";s=a.slice(0,a.length-u.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return X(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{});return{params:D,pathname:a,pathnameBase:s,pattern:e}}function G(e){try{return decodeURI(e)}catch(t){return X(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function W(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,u=e.charAt(n);return u&&"/"!==u?null:e.slice(n)||"/"}function X(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function j(e,t,n,u){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(u)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function q(e,t,n,u){var i;void 0===u&&(u=!1),"string"===typeof e?i=P(e):(N(!(i=b({},e)).pathname||!i.pathname.includes("?"),j("?","pathname","search",i)),N(!i.pathname||!i.pathname.includes("#"),j("#","pathname","hash",i)),N(!i.search||!i.search.includes("#"),j("#","search","hash",i)));var r,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(u||null==a)r=n;else{var s=t.length-1;if(a.startsWith("..")){for(var l=a.split("/");".."===l[0];)l.shift(),s-=1;i.pathname=l.join("/")}r=s>=0?t[s]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?P(e):e,u=n.pathname,i=n.search,r=void 0===i?"":i,o=n.hash,a=void 0===o?"":o,s=u?u.startsWith("/")?u:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(u,t):t;return{pathname:s,search:Q(r),hash:Z(a)}}(i,r),D=a&&"/"!==a&&a.endsWith("/"),h=(o||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!D&&!h||(c.pathname+="/"),c}var Y=function(e){return e.join("/").replace(/\/\/+/g,"/")},K=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Z=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},J=function(e){E(n,e);var t=v(n);function n(){return c(this,n),t.apply(this,arguments)}return d(n)}(A(Error));var ee=d((function e(t,n,u,i){c(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,u instanceof Error?(this.data=u.toString(),this.error=u):this.data=u}));function te(e){return e instanceof ee}var ne=["post","put","patch","delete"],ue=(new Set(ne),["get"].concat(ne));new Set(ue),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},ie.apply(this,arguments)}var re="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},oe=t.useState,ae=t.useEffect,se=t.useLayoutEffect,le=t.useDebugValue;function ce(e){var t=e.getSnapshot,n=e.value;try{var u=t();return!re(n,u)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,u.useSyncExternalStore;var De=t.createContext(null);var he=t.createContext(null);var fe=t.createContext(null);var de=t.createContext(null);var pe=t.createContext(null);var Ee=t.createContext({outlet:null,matches:[]});var Ce=t.createContext(null);function ge(){return null!=t.useContext(pe)}function Fe(){return ge()||N(!1),t.useContext(pe).location}function ve(){ge()||N(!1);var e=t.useContext(de),n=e.basename,u=e.navigator,i=t.useContext(Ee).matches,r=Fe().pathname,o=JSON.stringify($(i).map((function(e){return e.pathnameBase}))),a=t.useRef(!1);return t.useEffect((function(){a.current=!0})),t.useCallback((function(e,t){if(void 0===t&&(t={}),a.current)if("number"!==typeof e){var i=q(e,JSON.parse(o),r,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:Y([n,i.pathname])),(t.replace?u.replace:u.push)(i,t.state,t)}else u.go(e)}),[n,u,o,r])}function me(e,n){var u=(void 0===n?{}:n).relative,i=t.useContext(Ee).matches,r=Fe().pathname,o=JSON.stringify($(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return q(e,JSON.parse(o),r,"path"===u)}),[e,o,r,u])}function Ae(n,u){ge()||N(!1);var i,r=t.useContext(de).navigator,o=t.useContext(he),a=t.useContext(Ee).matches,s=a[a.length-1],l=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),D=(s&&s.route,Fe());if(u){var h,f="string"===typeof u?P(u):u;"/"===c||(null==(h=f.pathname)?void 0:h.startsWith(c))||N(!1),i=f}else i=D;var d=i.pathname||"/",p=L(n,{pathname:"/"===c?d:d.slice(c.length)||"/"});var E=Ne(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Y([c,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Y([c,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),a,o||void 0);return u&&E?t.createElement(pe.Provider,{value:{location:ie({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},E):E}function ye(){var e=function(){var e,n=t.useContext(Ce),u=xe(be.UseRouteError),i=Te(be.UseRouteError);if(n)return n;return null==(e=u.errors)?void 0:e[i]}(),n=te(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),u=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),u?t.createElement("pre",{style:r},u):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var Be,be,we=function(e){E(u,e);var n=v(u);function u(e){var t;return c(this,u),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return d(u,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(Ee.Provider,{value:this.props.routeContext},t.createElement(Ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),u}(t.Component);function Se(e){var n=e.routeContext,u=e.match,i=e.children,r=t.useContext(De);return r&&r.static&&r.staticContext&&u.route.errorElement&&(r.staticContext._deepestRenderedBoundaryId=u.route.id),t.createElement(Ee.Provider,{value:n},i)}function Ne(e,n,u){if(void 0===n&&(n=[]),null==e){if(null==u||!u.errors)return null;e=u.matches}var i=e,r=null==u?void 0:u.errors;if(null!=r){var o=i.findIndex((function(e){return e.route.id&&(null==r?void 0:r[e.route.id])}));o>=0||N(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,a){var s=o.route.id?null==r?void 0:r[o.route.id]:null,l=u?o.route.errorElement||t.createElement(ye,null):null,c=n.concat(i.slice(0,a+1)),D=function(){return t.createElement(Se,{match:o,routeContext:{outlet:e,matches:c}},s?l:void 0!==o.route.element?o.route.element:e)};return u&&(o.route.errorElement||0===a)?t.createElement(we,{location:u.location,component:l,error:s,children:D(),routeContext:{outlet:null,matches:c}}):D()}),null)}function xe(e){var n=t.useContext(he);return n||N(!1),n}function Te(e){var n=function(e){var n=t.useContext(Ee);return n||N(!1),n}(),u=n.matches[n.matches.length-1];return u.route.id||N(!1),u.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Be||(Be={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(be||(be={}));var ke;function Ie(n){var u=n.basename,i=void 0===u?"/":u,r=n.children,o=void 0===r?null:r,a=n.location,s=n.navigationType,l=void 0===s?e.Pop:s,c=n.navigator,D=n.static,h=void 0!==D&&D;ge()&&N(!1);var f=i.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:f,navigator:c,static:h}}),[f,c,h]);"string"===typeof a&&(a=P(a));var p=a,E=p.pathname,C=void 0===E?"/":E,g=p.search,F=void 0===g?"":g,v=p.hash,m=void 0===v?"":v,A=p.state,y=void 0===A?null:A,B=p.key,b=void 0===B?"default":B,w=t.useMemo((function(){var e=W(C,f);return null==e?null:{pathname:e,search:F,hash:m,state:y,key:b}}),[f,C,F,m,y,b]);return null==w?null:t.createElement(de.Provider,{value:d},t.createElement(pe.Provider,{children:o,value:{location:w,navigationType:l}}))}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(ke||(ke={}));var Pe=new Promise((function(){}));t.Component;function Re(){return Re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Re.apply(this,arguments)}function Le(e,t){if(null==e)return{};var n,u,i={},r=Object.keys(e);for(u=0;u<r.length;u++)n=r[u],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Oe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function _e(e){var n,u=e.basename,i=e.children,r=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:r,v5Compat:!0})&&(n={}),R((function(e,t){var n=e.location;return k("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:I(t)}),null,n)));var a=o.current,s=l(t.useState({action:a.action,location:a.location}),2),c=s[0],D=s[1];return t.useLayoutEffect((function(){return a.listen(D)}),[a]),t.createElement(Ie,{basename:u,children:i,location:c.location,navigationType:c.action,navigator:a})}var Me=t.forwardRef((function(e,n){var u=e.onClick,i=e.relative,r=e.reloadDocument,o=e.replace,a=e.state,s=e.target,l=e.to,c=e.preventScrollReset,D=Le(e,Oe),h=function(e,n){var u=(void 0===n?{}:n).relative;ge()||N(!1);var i=t.useContext(de),r=i.basename,o=i.navigator,a=me(e,{relative:u}),s=a.hash,l=a.pathname,c=a.search,D=l;return"/"!==r&&(D="/"===l?r:Y([r,l])),o.createHref({pathname:D,search:c,hash:s})}(l,{relative:i}),f=function(e,n){var u=void 0===n?{}:n,i=u.target,r=u.replace,o=u.state,a=u.preventScrollReset,s=u.relative,l=ve(),c=Fe(),D=me(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==r?r:I(c)===I(D);l(e,{replace:n,state:o,preventScrollReset:a,relative:s})}}),[c,l,D,r,o,i,e,a,s])}(l,{replace:o,state:a,target:s,preventScrollReset:c,relative:i});return t.createElement("a",Re({},D,{href:h,onClick:r?u:function(e){u&&u(e),e.defaultPrevented||f(e)},ref:n,target:s}))}));var Ue,ze;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ue||(Ue={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ze||(ze={}));var Ve=n(184),He=function(){return(0,Ve.jsx)("div",{children:(0,Ve.jsx)("div",{children:"Home"})})};function Ge(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Xe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,je=We((function(e){return Xe.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var $e=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var u=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(u);try{var r=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,r?0:i.cssRules.length)}catch(o){0}}else u.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var qe=function(e){function t(e,u,s,l,h){for(var f,d,p,E,v,A=0,y=0,B=0,b=0,w=0,I=0,R=p=f=0,O=0,_=0,M=0,U=0,z=s.length,V=z-1,H="",G="",W="",X="";O<z;){if(d=s.charCodeAt(O),O===V&&0!==y+b+B+A&&(0!==y&&(d=47===y?10:47),b=B=A=0,z++,V++),0===y+b+B+A){if(O===V&&(0<_&&(H=H.replace(D,"")),0<H.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:H+=s.charAt(O)}d=59}switch(d){case 123:for(f=(H=H.trim()).charCodeAt(0),p=1,U=++O;O<z;){switch(d=s.charCodeAt(O)){case 123:p++;break;case 125:p--;break;case 47:switch(d=s.charCodeAt(O+1)){case 42:case 47:e:{for(R=O+1;R<V;++R)switch(s.charCodeAt(R)){case 47:if(42===d&&42===s.charCodeAt(R-1)&&O+2!==R){O=R+1;break e}break;case 10:if(47===d){O=R+1;break e}}O=R}}break;case 91:d++;case 40:d++;case 34:case 39:for(;O++<V&&s.charCodeAt(O)!==d;);}if(0===p)break;O++}if(p=s.substring(U,O),0===f&&(f=(H=H.replace(c,"").trim()).charCodeAt(0)),64===f){switch(0<_&&(H=H.replace(D,"")),d=H.charCodeAt(1)){case 100:case 109:case 115:case 45:_=u;break;default:_=k}if(U=(p=t(u,_,p,d,h+1)).length,0<P&&(v=a(3,p,_=n(k,H,M),u,N,S,U,d,h,l),H=_.join(""),void 0!==v&&0===(U=(p=v.trim()).length)&&(d=0,p="")),0<U)switch(d){case 115:H=H.replace(m,o);case 100:case 109:case 45:p=H+"{"+p+"}";break;case 107:p=(H=H.replace(C,"$1 $2"))+"{"+p+"}",p=1===T||2===T&&r("@"+p,3)?"@-webkit-"+p+"@"+p:"@"+p;break;default:p=H+p,112===l&&(G+=p,p="")}else p=""}else p=t(u,n(u,H,M),p,l,h+1);W+=p,p=M=_=R=f=0,H="",d=s.charCodeAt(++O);break;case 125:case 59:if(1<(U=(H=(0<_?H.replace(D,""):H).trim()).length))switch(0===R&&(f=H.charCodeAt(0),45===f||96<f&&123>f)&&(U=(H=H.replace(" ",":")).length),0<P&&void 0!==(v=a(1,H,u,e,N,S,G.length,l,h,l))&&0===(U=(H=v.trim()).length)&&(H="\0\0"),f=H.charCodeAt(0),d=H.charCodeAt(1),f){case 0:break;case 64:if(105===d||99===d){X+=H+s.charAt(O);break}default:58!==H.charCodeAt(U-1)&&(G+=i(H,f,d,H.charCodeAt(2)))}M=_=R=f=0,H="",d=s.charCodeAt(++O)}}switch(d){case 13:case 10:47===y?y=0:0===1+f&&107!==l&&0<H.length&&(_=1,H+="\0"),0<P*L&&a(0,H,u,e,N,S,G.length,l,h,l),S=1,N++;break;case 59:case 125:if(0===y+b+B+A){S++;break}default:switch(S++,E=s.charAt(O),d){case 9:case 32:if(0===b+A+y)switch(w){case 44:case 58:case 9:case 32:E="";break;default:32!==d&&(E=" ")}break;case 0:E="\\0";break;case 12:E="\\f";break;case 11:E="\\v";break;case 38:0===b+y+A&&(_=M=1,E="\f"+E);break;case 108:if(0===b+y+A+x&&0<R)switch(O-R){case 2:112===w&&58===s.charCodeAt(O-3)&&(x=w);case 8:111===I&&(x=I)}break;case 58:0===b+y+A&&(R=O);break;case 44:0===y+B+b+A&&(_=1,E+="\r");break;case 34:case 39:0===y&&(b=b===d?0:0===b?d:b);break;case 91:0===b+y+B&&A++;break;case 93:0===b+y+B&&A--;break;case 41:0===b+y+A&&B--;break;case 40:if(0===b+y+A){if(0===f)if(2*w+3*I===533);else f=1;B++}break;case 64:0===y+B+b+A+R+p&&(p=1);break;case 42:case 47:if(!(0<b+A+B))switch(y){case 0:switch(2*d+3*s.charCodeAt(O+1)){case 235:y=47;break;case 220:U=O,y=42}break;case 42:47===d&&42===w&&U+2!==O&&(33===s.charCodeAt(U+2)&&(G+=s.substring(U,O+1)),E="",y=0)}}0===y&&(H+=E)}I=w,w=d,O++}if(0<(U=G.length)){if(_=u,0<P&&(void 0!==(v=a(2,G,_,e,N,S,U,l,h,l))&&0===(G=v).length))return X+G+W;if(G=_.join(",")+"{"+G+"}",0!==T*x){switch(2!==T||r(G,2)||(x=0),x){case 111:G=G.replace(F,":-moz-$1")+G;break;case 112:G=G.replace(g,"::-webkit-input-$1")+G.replace(g,"::-moz-$1")+G.replace(g,":-ms-input-$1")+G}x=0}}return X+G+W}function n(e,t,n){var i=t.trim().split(p);t=i;var r=i.length,o=e.length;switch(o){case 0:case 1:var a=0;for(e=0===o?"":e[0]+" ";a<r;++a)t[a]=u(e,t[a],n).trim();break;default:var s=a=0;for(t=[];a<r;++a)for(var l=0;l<o;++l)t[s++]=u(e[l]+" ",i[a],n).trim()}return t}function u(e,t,n){var u=t.charCodeAt(0);switch(33>u&&(u=(t=t.trim()).charCodeAt(0)),u){case 38:return t.replace(E,"$1"+e.trim());case 58:return e.trim()+t.replace(E,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(E,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,u){var o=e+";",a=2*t+3*n+4*u;if(944===a){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===T||2===T&&r(s,1)?"-webkit-"+s+s:s}if(0===T||2===T&&!r(o,1))return o;switch(a){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(w,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return f.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(v,"tb");break;case 232:s=o.replace(v,"tb-rl");break;case 220:s=o.replace(v,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,a=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<a?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(y,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(y,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===b.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,u).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+u&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+o}return o}function r(e,t){var n=e.indexOf(1===t?":":"{"),u=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?u:u.replace(B,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(A," or ($1)").substring(4):"("+t+")"}function a(e,t,n,u,i,r,o,a,s,c){for(var D,h=0,f=t;h<P;++h)switch(D=I[h].call(l,e,f,n,u,i,r,o,a,s,c)){case void 0:case!1:case!0:case null:break;default:f=D}if(f!==t)return f}function s(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?T=1:(T=2,R=e):T=0),s}function l(e,n){var u=e;if(33>u.charCodeAt(0)&&(u=u.trim()),u=[u],0<P){var i=a(-1,n,u,u,N,S,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var r=t(k,u,n,0,0);return 0<P&&(void 0!==(i=a(-2,r,u,u,N,S,r.length,0,0,0))&&(r=i)),"",x=0,S=N=1,r}var c=/^\0+/g,D=/[\0\r\f]/g,h=/: */g,f=/zoo|gra/,d=/([,: ])(transform)/g,p=/,\r+?/g,E=/([\t\r\n ])*\f?&/g,C=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,F=/:(read-only)/g,v=/[svh]\w+-[tblr]{2}/,m=/\(\s*(.*)\s*\)/g,A=/([\s\S]*?);/g,y=/-self|flex-/g,B=/[^]*?(:[rp][el]a[\w-]+)[^]*/,b=/stretch|:\s*\w+\-(?:conte|avail)/,w=/([^-])(image-set\()/,S=1,N=1,x=0,T=1,k=[],I=[],P=0,R=null,L=0;return l.use=function e(t){switch(t){case void 0:case null:P=I.length=0;break;default:if("function"===typeof t)I[P++]=t;else if("object"===typeof t)for(var n=0,u=t.length;n<u;++n)e(t[n]);else L=0|!!t}return e},l.set=s,void 0!==e&&s(e),l},Ye="/*|*/",Ke=Ye+"}";function Qe(e){e&&Ze.current.insert(e+"}")}var Ze={current:null},Je=function(e,t,n,u,i,r,o,a,s,l){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return Ze.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===a)return t+Ye;break;case 3:switch(a){case 102:case 112:return Ze.current.insert(n[0]+t),"";default:return t+(0===l?Ye:"")}case-2:t.split(Ke).forEach(Qe)}},et=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var u=new qe(t);var i,r={};i=e.container||document.head;var o,a=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(a,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){r[e]=!0})),e.parentNode!==i&&i.appendChild(e)})),u.use(e.stylisPlugins)(Je),o=function(e,t,n,i){var r=t.name;Ze.current=n,u(e,t.styles),i&&(s.inserted[r]=!0)};var s={key:n,sheet:new $e({key:n,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:r,registered:{},insert:o};return s};var tt=function(e){for(var t,n=0,u=0,i=e.length;i>=4;++u,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(u+2))<<16;case 2:n^=(255&e.charCodeAt(u+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(u)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},nt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ut=/[A-Z]|^ms/g,it=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rt=function(e){return 45===e.charCodeAt(1)},ot=function(e){return null!=e&&"boolean"!==typeof e},at=We((function(e){return rt(e)?e:e.replace(ut,"-$&").toLowerCase()})),st=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(it,(function(e,t,n){return ct={name:t,styles:n,next:ct},t}))}return 1===nt[e]||rt(e)||"number"!==typeof t||0===t?t:t+"px"};function lt(e,t,n,u){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ct={name:n.name,styles:n.styles,next:ct},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)ct={name:i.name,styles:i.styles,next:ct},i=i.next;return n.styles+";"}return function(e,t,n){var u="";if(Array.isArray(n))for(var i=0;i<n.length;i++)u+=lt(e,t,n[i],!1);else for(var r in n){var o=n[r];if("object"!==typeof o)null!=t&&void 0!==t[o]?u+=r+"{"+t[o]+"}":ot(o)&&(u+=at(r)+":"+st(r,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var a=lt(e,t,o,!1);switch(r){case"animation":case"animationName":u+=at(r)+":"+a+";";break;default:u+=r+"{"+a+"}"}}else for(var s=0;s<o.length;s++)ot(o[s])&&(u+=at(r)+":"+st(r,o[s])+";")}return u}(e,t,n);case"function":if(void 0!==e){var r=ct,o=n(e);return ct=r,lt(e,t,o,u)}}if(null==t)return n;var a=t[n];return void 0===a||u?n:a}var ct,Dt=/label:\s*([^\s;\n{]+)\s*;/g;var ht=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var u=!0,i="";ct=void 0;var r=e[0];null==r||void 0===r.raw?(u=!1,i+=lt(n,t,r,!1)):i+=r[0];for(var o=1;o<e.length;o++)i+=lt(n,t,e[o],46===i.charCodeAt(i.length-1)),u&&(i+=r[o]);Dt.lastIndex=0;for(var a,s="";null!==(a=Dt.exec(i));)s+="-"+a[1];return{name:tt(i)+s,styles:i,next:ct}},ft=(Object.prototype.hasOwnProperty,(0,t.createContext)("undefined"!==typeof HTMLElement?et():null)),dt=(0,t.createContext)({}),pt=(ft.Provider,function(e){var n=function(n,u){return(0,t.createElement)(ft.Consumer,null,(function(t){return e(n,t,u)}))};return(0,t.forwardRef)(n)});function Et(e,t,n){var u="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):u+=n+" "})),u}var Ct=function(e,t,n){var u=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[u]&&(e.registered[u]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+u,i,e.sheet,!0);i=i.next}while(void 0!==i)}};t.Component;var gt=function e(t){for(var n=t.length,u=0,i="";u<n;u++){var r=t[u];if(null!=r){var o=void 0;switch(typeof r){case"boolean":break;case"object":if(Array.isArray(r))o=e(r);else for(var a in o="",r)r[a]&&a&&(o&&(o+=" "),o+=a);break;default:o=r}o&&(i&&(i+=" "),i+=o)}}return i};function Ft(e,t,n){var u=[],i=Et(e,u,n);return u.length<2?n:i+t(u)}var vt=function(){return null},mt=(pt((function(e,n){return(0,t.createElement)(dt.Consumer,null,(function(u){var i=function(){for(var e=arguments.length,t=new Array(e),u=0;u<e;u++)t[u]=arguments[u];var i=ht(t,n.registered);return Ct(n,i,!1),n.key+"-"+i.name},r={css:i,cx:function(){for(var e=arguments.length,t=new Array(e),u=0;u<e;u++)t[u]=arguments[u];return Ft(n.registered,i,gt(t))},theme:u},o=e.children(r);var a=(0,t.createElement)(vt,null);return(0,t.createElement)(t.Fragment,null,a,o)}))})),je),At=function(e){return"theme"!==e&&"innerRef"!==e},yt=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?mt:At};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);t&&(u=u.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,u)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt=function(){return null},St=function e(n,u){var i,r,o;void 0!==u&&(i=u.label,o=u.target,r=n.__emotion_forwardProp&&u.shouldForwardProp?function(e){return n.__emotion_forwardProp(e)&&u.shouldForwardProp(e)}:u.shouldForwardProp);var a=n.__emotion_real===n,s=a&&n.__emotion_base||n;"function"!==typeof r&&a&&(r=n.__emotion_forwardProp);var l=r||yt(s),c=!l("as");return function(){var D=arguments,h=a&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==D[0]||void 0===D[0].raw)h.push.apply(h,D);else{0,h.push(D[0][0]);for(var f=D.length,d=1;d<f;d++)h.push(D[d],D[0][d])}var p=pt((function(e,n,u){return(0,t.createElement)(dt.Consumer,null,(function(i){var a=c&&e.as||s,D="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=i}"string"===typeof e.className?D=Et(n.registered,f,e.className):null!=e.className&&(D=e.className+" ");var E=ht(h.concat(f),n.registered,d);Ct(n,E,"string"===typeof a);D+=n.key+"-"+E.name,void 0!==o&&(D+=" "+o);var C=c&&void 0===r?yt(a):l,g={};for(var F in e)c&&"as"===F||C(F)&&(g[F]=e[F]);g.className=D,g.ref=u||e.innerRef;var v=(0,t.createElement)(a,g),m=(0,t.createElement)(wt,null);return(0,t.createElement)(t.Fragment,null,m,v)}))}));return p.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",p.defaultProps=n.defaultProps,p.__emotion_real=p,p.__emotion_base=s,p.__emotion_styles=h,p.__emotion_forwardProp=r,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(t,n){return e(t,void 0!==n?bt({},u||{},{},n):u).apply(void 0,h)},p}},Nt=St.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Nt[e]=Nt(e)}));var xt=Nt,Tt=n(976);function kt(){return(kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e}).apply(this,arguments)}var It,Pt,Rt,Lt=function(e){var n=e.source,u=e.page,i=void 0===u?1:u,r=e.zoom,o=void 0===r?1:r,a=e.fontSize,s=void 0===a?16:a,l=e.background,c=void 0===l?"#ececec":l,D=e.renderAllPages,h=void 0===D||D,f=e.autoResize,d=void 0===f||f,p=e.pageViewMode,E=void 0===p?Tt.LU.SINGLE_PAGE:p,C=e.defaultPaperSize,g=e.pageBorderWidth,F=void 0===g?1:g,v=e.fitToScreen,m=void 0!==v&&v,A=e.userStyleSheet,y=e.authorStyleSheet,B=e.style,b=e.onMessage,w=e.onError,S=e.onReadyStateChange,N=e.onLoad,x=e.onNavigation,T=e.onHyperlink,k=e.children,I=(0,t.useRef)(null),P=(0,t.useRef)(),R=t.useRef();function L(){P.current.setOptions({fontSize:s,pageViewMode:E,renderAllPages:h,autoResize:d,defaultPaperSize:C,pageBorderWidth:F})}function O(){var e,t,u=P.current,i=n.endsWith(".json"),r=kt({},A?{userStyleSheet:[(e={},e[A.endsWith(".css")?"url":"text"]=A,e)]}:null,y?{authorStyleSheet:[(t={},t[y.endsWith(".css")?"url":"text"]=y,t)]}:null);i?u.loadPublication(n,r):u.loadDocument({url:n},r,{fontSize:s,pageViewMode:E,zoom:o,renderAllPages:h,autoResize:d,defaultPaperSize:C,pageBorderWidth:F,fitToScreen:m})}(0,t.useEffect)((function(){return P.current=new Tt.Nl({viewportElement:I.current}),L(),function(){function e(e,t){b&&b(e.content,t)}var t=function(t){return e(t,"debug")},n=function(t){return e(t,"info")},u=function(t){return e(t,"warn")};function i(e){w&&w(e.content)}function r(){S&&S(P.current.readyState)}function o(){N&&N(R.current)}function a(e){var t={docTitle:e.docTitle,epageCount:e.epageCount,epage:e.epage,metadata:e.metadata};R.current=t,x&&x(t)}function s(e){T&&T(e)}var l=P.current;return l.addListener("debug",t),l.addListener("info",n),l.addListener("warn",u),l.addListener("error",i),l.addListener("readystatechange",r),l.addListener("loaded",o),l.addListener("nav",a),l.addListener("hyperlink",s),function(){S&&S(Tt.kQ.LOADING),l.removeListener("debug",t),l.removeListener("info",n),l.removeListener("warn",u),l.removeListener("error",i),l.removeListener("readystatechange",r),l.removeListener("loaded",o),l.removeListener("nav",a),l.removeListener("hyperlink",s),I.current.innerHTML=""}}()}),[]),(0,t.useEffect)((function(){O()}),[n,y,A,o,m]),(0,t.useEffect)((function(){L()}),[s,E,h,d,C,F]),(0,t.useEffect)((function(){var e;null===(e=P.current)||void 0===e||e.navigateToPage(Tt.W_.EPAGE,i-1)}),[i]);var _=t.createElement(Ot,{ref:I,style:B,background:c});return"function"==typeof k&&k instanceof Function?k({container:_,reload:O}):_},Ot=xt.div(It||(Pt=["\n  overflow: scroll;\n  background: "," !important;\n"],Rt||(Rt=Pt.slice(0)),Pt.raw=Rt,It=Pt),(function(e){return e.background})),_t=function(){var e=l(t.useState(1),2),n=e[0],u=e[1];return(0,Ve.jsxs)("div",{children:[(0,Ve.jsx)(Lt,{source:"https://vivliostyle.github.io/vivliostyle_doc/samples/gon/index.html",page:n,onLoad:function(e){console.log(e.epageCount,e.docTitle)}}),(0,Ve.jsx)("button",{onClick:function(){u((function(e){return e+1}))},children:"Next"}),(0,Ve.jsx)("button",{onClick:function(){u((function(e){return e-1}))},children:"Prev"})]})},Mt=function(){return Ae([{path:"/vivliostyle-react-test",element:(0,Ve.jsx)(He,{})},{path:"".concat("/vivliostyle-react-test","/viewer"),element:(0,Ve.jsx)(_t,{})}])};var Ut=function(){return(0,Ve.jsxs)(_e,{children:[(0,Ve.jsx)(Mt,{}),(0,Ve.jsxs)("ul",{children:[(0,Ve.jsx)("li",{children:(0,Ve.jsx)(Me,{to:"/vivliostyle-react-test",children:"Home"})}),(0,Ve.jsx)("li",{children:(0,Ve.jsx)(Me,{to:"".concat("/vivliostyle-react-test","/viewer"),children:"Viewer"})})]})]})},zt=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,u=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),u(e),i(e),r(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,Ve.jsx)(t.StrictMode,{children:(0,Ve.jsx)(Ut,{})})),zt()}()}();
//# sourceMappingURL=main.1e906bcf.js.map